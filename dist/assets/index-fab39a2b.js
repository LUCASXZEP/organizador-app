(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var GB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lx={exports:{}},Eg={},kx={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),EC=Symbol.for("react.portal"),TC=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),CC=Symbol.for("react.provider"),NC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),kC=Symbol.for("react.suspense"),RC=Symbol.for("react.memo"),DC=Symbol.for("react.lazy"),e_=Symbol.iterator;function VC(e){return e===null||typeof e!="object"?null:(e=e_&&e[e_]||e["@@iterator"],typeof e=="function"?e:null)}var Rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dx=Object.assign,Vx={};function fh(e,t,n){this.props=e,this.context=t,this.refs=Vx,this.updater=n||Rx}fh.prototype.isReactComponent={};fh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fx(){}Fx.prototype=fh.prototype;function Yy(e,t,n){this.props=e,this.context=t,this.refs=Vx,this.updater=n||Rx}var Xy=Yy.prototype=new Fx;Xy.constructor=Yy;Dx(Xy,fh.prototype);Xy.isPureReactComponent=!0;var n_=Array.isArray,Mx=Object.prototype.hasOwnProperty,Jy={current:null},Ox={key:!0,ref:!0,__self:!0,__source:!0};function jx(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Mx.call(t,r)&&!Ox.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ad,type:e,key:s,ref:o,props:i,_owner:Jy.current}}function FC(e,t){return{$$typeof:Ad,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ad}function MC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var r_=/\/+/g;function V1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MC(""+e.key):t.toString(36)}function Up(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ad:case EC:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+V1(o,0):r,n_(i)?(n="",e!=null&&(n=e.replace(r_,"$&/")+"/"),Up(i,t,n,"",function(u){return u})):i!=null&&(Zy(i)&&(i=FC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r_,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",n_(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+V1(s,a);o+=Up(s,t,n,l,i)}else if(l=VC(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+V1(s,a++),o+=Up(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cp(e,t,n){if(e==null)return e;var r=[],i=0;return Up(e,r,"","",function(s){return t.call(n,s,i++)}),r}function OC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qr={current:null},qp={transition:null},jC={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:qp,ReactCurrentOwner:Jy};function Bx(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:cp,forEach:function(e,t,n){cp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cp(e,function(){t++}),t},toArray:function(e){return cp(e,function(t){return t})||[]},only:function(e){if(!Zy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=fh;Ce.Fragment=TC;Ce.Profiler=PC;Ce.PureComponent=Yy;Ce.StrictMode=IC;Ce.Suspense=kC;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jC;Ce.act=Bx;Ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dx({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Jy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Mx.call(t,l)&&!Ox.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ad,type:e.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(e){return e={$$typeof:NC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CC,_context:e},e.Consumer=e};Ce.createElement=jx;Ce.createFactory=function(e){var t=jx.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:LC,render:e}};Ce.isValidElement=Zy;Ce.lazy=function(e){return{$$typeof:DC,_payload:{_status:-1,_result:e},_init:OC}};Ce.memo=function(e,t){return{$$typeof:RC,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=qp.transition;qp.transition={};try{e()}finally{qp.transition=t}};Ce.unstable_act=Bx;Ce.useCallback=function(e,t){return qr.current.useCallback(e,t)};Ce.useContext=function(e){return qr.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return qr.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return qr.current.useEffect(e,t)};Ce.useId=function(){return qr.current.useId()};Ce.useImperativeHandle=function(e,t,n){return qr.current.useImperativeHandle(e,t,n)};Ce.useInsertionEffect=function(e,t){return qr.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return qr.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return qr.current.useMemo(e,t)};Ce.useReducer=function(e,t,n){return qr.current.useReducer(e,t,n)};Ce.useRef=function(e){return qr.current.useRef(e)};Ce.useState=function(e){return qr.current.useState(e)};Ce.useSyncExternalStore=function(e,t,n){return qr.current.useSyncExternalStore(e,t,n)};Ce.useTransition=function(){return qr.current.useTransition()};Ce.version="18.3.1";kx.exports=Ce;var Ot=kx.exports;const Ra=SC(Ot);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=Ot,zC=Symbol.for("react.element"),UC=Symbol.for("react.fragment"),qC=Object.prototype.hasOwnProperty,$C=BC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HC={key:!0,ref:!0,__self:!0,__source:!0};function zx(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qC.call(t,r)&&!HC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zC,type:e,key:s,ref:o,props:i,_owner:$C.current}}Eg.Fragment=UC;Eg.jsx=zx;Eg.jsxs=zx;Lx.exports=Eg;var Dt=Lx.exports,q0={},Ux={exports:{}},ki={},qx={exports:{}},$x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,at){var ut=X.length;X.push(at);t:for(;0<ut;){var kt=ut-1>>>1,F=X[kt];if(0<i(F,at))X[kt]=at,X[ut]=F,ut=kt;else break t}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var at=X[0],ut=X.pop();if(ut!==at){X[0]=ut;t:for(var kt=0,F=X.length,H=F>>>1;kt<H;){var K=2*(kt+1)-1,Z=X[K],it=K+1,ht=X[it];if(0>i(Z,ut))it<F&&0>i(ht,Z)?(X[kt]=ht,X[it]=ut,kt=it):(X[kt]=Z,X[K]=ut,kt=K);else if(it<F&&0>i(ht,ut))X[kt]=ht,X[it]=ut,kt=it;else break t}}return at}function i(X,at){var ut=X.sortIndex-at.sortIndex;return ut!==0?ut:X.id-at.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,g=3,m=!1,S=!1,E=!1,L=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(X){for(var at=n(u);at!==null;){if(at.callback===null)r(u);else if(at.startTime<=X)r(u),at.sortIndex=at.expirationTime,t(l,at);else break;at=n(u)}}function q(X){if(E=!1,P(X),!S)if(n(l)!==null)S=!0,gt($);else{var at=n(u);at!==null&&mt(q,at.startTime-X)}}function $(X,at){S=!1,E&&(E=!1,_(x),x=-1),m=!0;var ut=g;try{for(P(at),d=n(l);d!==null&&(!(d.expirationTime>at)||X&&!I());){var kt=d.callback;if(typeof kt=="function"){d.callback=null,g=d.priorityLevel;var F=kt(d.expirationTime<=at);at=e.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),P(at)}else r(l);d=n(l)}if(d!==null)var H=!0;else{var K=n(u);K!==null&&mt(q,K.startTime-at),H=!1}return H}finally{d=null,g=ut,m=!1}}var Q=!1,C=null,x=-1,V=5,j=-1;function I(){return!(e.unstable_now()-j<V)}function N(){if(C!==null){var X=e.unstable_now();j=X;var at=!0;try{at=C(!0,X)}finally{at?k():(Q=!1,C=null)}}else Q=!1}var k;if(typeof b=="function")k=function(){b(N)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,_t=J.port2;J.port1.onmessage=N,k=function(){_t.postMessage(null)}}else k=function(){L(N,0)};function gt(X){C=X,Q||(Q=!0,k())}function mt(X,at){x=L(function(){X(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,gt($))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(X){switch(g){case 1:case 2:case 3:var at=3;break;default:at=g}var ut=g;g=at;try{return X()}finally{g=ut}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ut=g;g=X;try{return at()}finally{g=ut}},e.unstable_scheduleCallback=function(X,at,ut){var kt=e.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,X){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ut+F,X={id:h++,callback:at,priorityLevel:X,startTime:ut,expirationTime:F,sortIndex:-1},ut>kt?(X.sortIndex=ut,t(u,X),n(l)===null&&X===n(u)&&(E?(_(x),x=-1):E=!0,mt(q,ut-kt))):(X.sortIndex=F,t(l,X),S||m||(S=!0,gt($))),X},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(X){var at=g;return function(){var ut=g;g=at;try{return X.apply(this,arguments)}finally{g=ut}}}})($x);qx.exports=$x;var WC=qx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=Ot,Ni=WC;function Vt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hx=new Set,Ff={};function vu(e,t){qc(e,t),qc(e+"Capture",t)}function qc(e,t){for(Ff[e]=t,e=0;e<t.length;e++)Hx.add(t[e])}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$0=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i_={},s_={};function QC(e){return $0.call(s_,e)?!0:$0.call(i_,e)?!1:KC.test(e)?s_[e]=!0:(i_[e]=!0,!1)}function YC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XC(e,t,n,r){if(t===null||typeof t>"u"||YC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var tv=/[\-:]([a-z])/g;function ev(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tv,ev);hr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tv,ev);hr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tv,ev);hr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});hr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function nv(e,t,n,r){var i=hr.hasOwnProperty(t)?hr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XC(t,n,i,r)&&(n=null),r||i===null?QC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zo=GC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hp=Symbol.for("react.element"),cc=Symbol.for("react.portal"),hc=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),H0=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Gx=Symbol.for("react.context"),iv=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),G0=Symbol.for("react.suspense_list"),sv=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),Kx=Symbol.for("react.offscreen"),o_=Symbol.iterator;function Bh(e){return e===null||typeof e!="object"?null:(e=o_&&e[o_]||e["@@iterator"],typeof e=="function"?e:null)}var bn=Object.assign,F1;function nf(e){if(F1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F1=t&&t[1]||""}return`
`+F1+e}var M1=!1;function O1(e,t){if(!e||M1)return"";M1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{M1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?nf(e):""}function JC(e){switch(e.tag){case 5:return nf(e.type);case 16:return nf("Lazy");case 13:return nf("Suspense");case 19:return nf("SuspenseList");case 0:case 2:case 15:return e=O1(e.type,!1),e;case 11:return e=O1(e.type.render,!1),e;case 1:return e=O1(e.type,!0),e;default:return""}}function K0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hc:return"Fragment";case cc:return"Portal";case H0:return"Profiler";case rv:return"StrictMode";case W0:return"Suspense";case G0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gx:return(e.displayName||"Context")+".Consumer";case Wx:return(e._context.displayName||"Context")+".Provider";case iv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sv:return t=e.displayName||null,t!==null?t:K0(e.type)||"Memo";case Sa:t=e._payload,e=e._init;try{return K0(e(t))}catch{}}return null}function ZC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K0(t);case 8:return t===rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ga(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tN(e){var t=Qx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fp(e){e._valueTracker||(e._valueTracker=tN(e))}function Yx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Q0(e,t){var n=t.checked;return bn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function a_(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ga(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xx(e,t){t=t.checked,t!=null&&nv(e,"checked",t,!1)}function Y0(e,t){Xx(e,t);var n=Ga(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?X0(e,t.type,n):t.hasOwnProperty("defaultValue")&&X0(e,t.type,Ga(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function l_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function X0(e,t,n){(t!=="number"||wm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rf=Array.isArray;function Pc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ga(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function J0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Vt(91));return bn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Vt(92));if(rf(n)){if(1<n.length)throw Error(Vt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ga(n)}}function Jx(e,t){var n=Ga(t.value),r=Ga(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function c_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dp,tA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dp=dp||document.createElement("div"),dp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eN=["Webkit","ms","Moz","O"];Object.keys(df).forEach(function(e){eN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),df[t]=df[e]})});function eA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||df.hasOwnProperty(e)&&df[e]?(""+t).trim():t+"px"}function nA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nN=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t2(e,t){if(t){if(nN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Vt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Vt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Vt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Vt(62))}}function e2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n2=null;function ov(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var r2=null,Cc=null,Nc=null;function h_(e){if(e=Td(e)){if(typeof r2!="function")throw Error(Vt(280));var t=e.stateNode;t&&(t=Ng(t),r2(e.stateNode,e.type,t))}}function rA(e){Cc?Nc?Nc.push(e):Nc=[e]:Cc=e}function iA(){if(Cc){var e=Cc,t=Nc;if(Nc=Cc=null,h_(e),t)for(e=0;e<t.length;e++)h_(t[e])}}function sA(e,t){return e(t)}function oA(){}var j1=!1;function aA(e,t,n){if(j1)return e(t,n);j1=!0;try{return sA(e,t,n)}finally{j1=!1,(Cc!==null||Nc!==null)&&(oA(),iA())}}function Of(e,t){var n=e.stateNode;if(n===null)return null;var r=Ng(n);if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Vt(231,t,typeof n));return n}var i2=!1;if(Lo)try{var zh={};Object.defineProperty(zh,"passive",{get:function(){i2=!0}}),window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,zh)}catch{i2=!1}function rN(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var pf=!1,_m=null,bm=!1,s2=null,iN={onError:function(e){pf=!0,_m=e}};function sN(e,t,n,r,i,s,o,a,l){pf=!1,_m=null,rN.apply(iN,arguments)}function oN(e,t,n,r,i,s,o,a,l){if(sN.apply(this,arguments),pf){if(pf){var u=_m;pf=!1,_m=null}else throw Error(Vt(198));bm||(bm=!0,s2=u)}}function wu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f_(e){if(wu(e)!==e)throw Error(Vt(188))}function aN(e){var t=e.alternate;if(!t){if(t=wu(e),t===null)throw Error(Vt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f_(i),e;if(s===r)return f_(i),t;s=s.sibling}throw Error(Vt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Vt(189))}}if(n.alternate!==r)throw Error(Vt(190))}if(n.tag!==3)throw Error(Vt(188));return n.stateNode.current===n?e:t}function uA(e){return e=aN(e),e!==null?cA(e):null}function cA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cA(e);if(t!==null)return t;e=e.sibling}return null}var hA=Ni.unstable_scheduleCallback,d_=Ni.unstable_cancelCallback,lN=Ni.unstable_shouldYield,uN=Ni.unstable_requestPaint,Dn=Ni.unstable_now,cN=Ni.unstable_getCurrentPriorityLevel,av=Ni.unstable_ImmediatePriority,fA=Ni.unstable_UserBlockingPriority,xm=Ni.unstable_NormalPriority,hN=Ni.unstable_LowPriority,dA=Ni.unstable_IdlePriority,Tg=null,Qs=null;function fN(e){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(Tg,e,void 0,(e.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:mN,dN=Math.log,pN=Math.LN2;function mN(e){return e>>>=0,e===0?32:31-(dN(e)/pN|0)|0}var pp=64,mp=4194304;function sf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Am(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=sf(a):(s&=o,s!==0&&(r=sf(s)))}else o=n&~i,o!==0?r=sf(o):s!==0&&(r=sf(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ts(t),i=1<<n,r|=e[n],t&=~i;return r}function gN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ts(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gN(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function o2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pA(){var e=pp;return pp<<=1,!(pp&4194240)&&(pp=64),e}function B1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ts(t),e[t]=n}function vN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ts(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function lv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ts(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var We=0;function mA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gA,uv,yA,vA,wA,a2=!1,gp=[],Da=null,Va=null,Fa=null,jf=new Map,Bf=new Map,Ta=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p_(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":jf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bf.delete(t.pointerId)}}function Uh(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Td(t),t!==null&&uv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _N(e,t,n,r,i){switch(t){case"focusin":return Da=Uh(Da,e,t,n,r,i),!0;case"dragenter":return Va=Uh(Va,e,t,n,r,i),!0;case"mouseover":return Fa=Uh(Fa,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jf.set(s,Uh(jf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bf.set(s,Uh(Bf.get(s)||null,e,t,n,r,i)),!0}return!1}function _A(e){var t=Hl(e.target);if(t!==null){var n=wu(t);if(n!==null){if(t=n.tag,t===13){if(t=lA(n),t!==null){e.blockedOn=t,wA(e.priority,function(){yA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $p(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=l2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);n2=r,n.target.dispatchEvent(r),n2=null}else return t=Td(n),t!==null&&uv(t),e.blockedOn=n,!1;t.shift()}return!0}function m_(e,t,n){$p(e)&&n.delete(t)}function bN(){a2=!1,Da!==null&&$p(Da)&&(Da=null),Va!==null&&$p(Va)&&(Va=null),Fa!==null&&$p(Fa)&&(Fa=null),jf.forEach(m_),Bf.forEach(m_)}function qh(e,t){e.blockedOn===t&&(e.blockedOn=null,a2||(a2=!0,Ni.unstable_scheduleCallback(Ni.unstable_NormalPriority,bN)))}function zf(e){function t(i){return qh(i,e)}if(0<gp.length){qh(gp[0],e);for(var n=1;n<gp.length;n++){var r=gp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Da!==null&&qh(Da,e),Va!==null&&qh(Va,e),Fa!==null&&qh(Fa,e),jf.forEach(t),Bf.forEach(t),n=0;n<Ta.length;n++)r=Ta[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ta.length&&(n=Ta[0],n.blockedOn===null);)_A(n),n.blockedOn===null&&Ta.shift()}var Lc=zo.ReactCurrentBatchConfig,Sm=!0;function xN(e,t,n,r){var i=We,s=Lc.transition;Lc.transition=null;try{We=1,cv(e,t,n,r)}finally{We=i,Lc.transition=s}}function AN(e,t,n,r){var i=We,s=Lc.transition;Lc.transition=null;try{We=4,cv(e,t,n,r)}finally{We=i,Lc.transition=s}}function cv(e,t,n,r){if(Sm){var i=l2(e,t,n,r);if(i===null)Y1(e,t,r,Em,n),p_(e,r);else if(_N(i,e,t,n,r))r.stopPropagation();else if(p_(e,r),t&4&&-1<wN.indexOf(e)){for(;i!==null;){var s=Td(i);if(s!==null&&gA(s),s=l2(e,t,n,r),s===null&&Y1(e,t,r,Em,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Y1(e,t,r,null,n)}}var Em=null;function l2(e,t,n,r){if(Em=null,e=ov(r),e=Hl(e),e!==null)if(t=wu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Em=e,null}function bA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cN()){case av:return 1;case fA:return 4;case xm:case hN:return 16;case dA:return 536870912;default:return 16}default:return 16}}var Ca=null,hv=null,Hp=null;function xA(){if(Hp)return Hp;var e,t=hv,n=t.length,r,i="value"in Ca?Ca.value:Ca.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Hp=i.slice(e,1<r?1-r:void 0)}function Wp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yp(){return!0}function g_(){return!1}function Ri(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yp:g_,this.isPropagationStopped=g_,this}return bn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),t}var dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=Ri(dh),Ed=bn({},dh,{view:0,detail:0}),SN=Ri(Ed),z1,U1,$h,Ig=bn({},Ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$h&&($h&&e.type==="mousemove"?(z1=e.screenX-$h.screenX,U1=e.screenY-$h.screenY):U1=z1=0,$h=e),z1)},movementY:function(e){return"movementY"in e?e.movementY:U1}}),y_=Ri(Ig),EN=bn({},Ig,{dataTransfer:0}),TN=Ri(EN),IN=bn({},Ed,{relatedTarget:0}),q1=Ri(IN),PN=bn({},dh,{animationName:0,elapsedTime:0,pseudoElement:0}),CN=Ri(PN),NN=bn({},dh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LN=Ri(NN),kN=bn({},dh,{data:0}),v_=Ri(kN),RN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VN[e])?!!t[e]:!1}function dv(){return FN}var MN=bn({},Ed,{key:function(e){if(e.key){var t=RN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dv,charCode:function(e){return e.type==="keypress"?Wp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ON=Ri(MN),jN=bn({},Ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=Ri(jN),BN=bn({},Ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dv}),zN=Ri(BN),UN=bn({},dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),qN=Ri(UN),$N=bn({},Ig,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HN=Ri($N),WN=[9,13,27,32],pv=Lo&&"CompositionEvent"in window,mf=null;Lo&&"documentMode"in document&&(mf=document.documentMode);var GN=Lo&&"TextEvent"in window&&!mf,AA=Lo&&(!pv||mf&&8<mf&&11>=mf),__=String.fromCharCode(32),b_=!1;function SA(e,t){switch(e){case"keyup":return WN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fc=!1;function KN(e,t){switch(e){case"compositionend":return EA(t);case"keypress":return t.which!==32?null:(b_=!0,__);case"textInput":return e=t.data,e===__&&b_?null:e;default:return null}}function QN(e,t){if(fc)return e==="compositionend"||!pv&&SA(e,t)?(e=xA(),Hp=hv=Ca=null,fc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AA&&t.locale!=="ko"?null:t.data;default:return null}}var YN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YN[e.type]:t==="textarea"}function TA(e,t,n,r){rA(r),t=Tm(t,"onChange"),0<t.length&&(n=new fv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gf=null,Uf=null;function XN(e){MA(e,0)}function Pg(e){var t=mc(e);if(Yx(t))return e}function JN(e,t){if(e==="change")return t}var IA=!1;if(Lo){var $1;if(Lo){var H1="oninput"in document;if(!H1){var A_=document.createElement("div");A_.setAttribute("oninput","return;"),H1=typeof A_.oninput=="function"}$1=H1}else $1=!1;IA=$1&&(!document.documentMode||9<document.documentMode)}function S_(){gf&&(gf.detachEvent("onpropertychange",PA),Uf=gf=null)}function PA(e){if(e.propertyName==="value"&&Pg(Uf)){var t=[];TA(t,Uf,e,ov(e)),aA(XN,t)}}function ZN(e,t,n){e==="focusin"?(S_(),gf=t,Uf=n,gf.attachEvent("onpropertychange",PA)):e==="focusout"&&S_()}function tL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pg(Uf)}function eL(e,t){if(e==="click")return Pg(t)}function nL(e,t){if(e==="input"||e==="change")return Pg(t)}function rL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cs=typeof Object.is=="function"?Object.is:rL;function qf(e,t){if(Cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$0.call(t,i)||!Cs(e[i],t[i]))return!1}return!0}function E_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function T_(e,t){var n=E_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=E_(n)}}function CA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NA(){for(var e=window,t=wm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wm(e.document)}return t}function mv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iL(e){var t=NA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&CA(n.ownerDocument.documentElement,n)){if(r!==null&&mv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=T_(n,s);var o=T_(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sL=Lo&&"documentMode"in document&&11>=document.documentMode,dc=null,u2=null,yf=null,c2=!1;function I_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;c2||dc==null||dc!==wm(r)||(r=dc,"selectionStart"in r&&mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yf&&qf(yf,r)||(yf=r,r=Tm(u2,"onSelect"),0<r.length&&(t=new fv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dc)))}function vp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pc={animationend:vp("Animation","AnimationEnd"),animationiteration:vp("Animation","AnimationIteration"),animationstart:vp("Animation","AnimationStart"),transitionend:vp("Transition","TransitionEnd")},W1={},LA={};Lo&&(LA=document.createElement("div").style,"AnimationEvent"in window||(delete pc.animationend.animation,delete pc.animationiteration.animation,delete pc.animationstart.animation),"TransitionEvent"in window||delete pc.transitionend.transition);function Cg(e){if(W1[e])return W1[e];if(!pc[e])return e;var t=pc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in LA)return W1[e]=t[n];return e}var kA=Cg("animationend"),RA=Cg("animationiteration"),DA=Cg("animationstart"),VA=Cg("transitionend"),FA=new Map,P_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function il(e,t){FA.set(e,t),vu(t,[e])}for(var G1=0;G1<P_.length;G1++){var K1=P_[G1],oL=K1.toLowerCase(),aL=K1[0].toUpperCase()+K1.slice(1);il(oL,"on"+aL)}il(kA,"onAnimationEnd");il(RA,"onAnimationIteration");il(DA,"onAnimationStart");il("dblclick","onDoubleClick");il("focusin","onFocus");il("focusout","onBlur");il(VA,"onTransitionEnd");qc("onMouseEnter",["mouseout","mouseover"]);qc("onMouseLeave",["mouseout","mouseover"]);qc("onPointerEnter",["pointerout","pointerover"]);qc("onPointerLeave",["pointerout","pointerover"]);vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lL=new Set("cancel close invalid load scroll toggle".split(" ").concat(of));function C_(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oN(r,t,void 0,e),e.currentTarget=null}function MA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;C_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;C_(i,a,u),s=l}}}if(bm)throw e=s2,bm=!1,s2=null,e}function un(e,t){var n=t[m2];n===void 0&&(n=t[m2]=new Set);var r=e+"__bubble";n.has(r)||(OA(t,e,2,!1),n.add(r))}function Q1(e,t,n){var r=0;t&&(r|=4),OA(n,e,r,t)}var wp="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[wp]){e[wp]=!0,Hx.forEach(function(n){n!=="selectionchange"&&(lL.has(n)||Q1(n,!1,e),Q1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wp]||(t[wp]=!0,Q1("selectionchange",!1,t))}}function OA(e,t,n,r){switch(bA(t)){case 1:var i=xN;break;case 4:i=AN;break;default:i=cv}n=i.bind(null,t,n,e),i=void 0,!i2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Y1(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue t}a=a.parentNode}}r=r.return}aA(function(){var u=s,h=ov(n),d=[];t:{var g=FA.get(e);if(g!==void 0){var m=fv,S=e;switch(e){case"keypress":if(Wp(n)===0)break t;case"keydown":case"keyup":m=ON;break;case"focusin":S="focus",m=q1;break;case"focusout":S="blur",m=q1;break;case"beforeblur":case"afterblur":m=q1;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zN;break;case kA:case RA:case DA:m=CN;break;case VA:m=qN;break;case"scroll":m=SN;break;case"wheel":m=HN;break;case"copy":case"cut":case"paste":m=LN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=w_}var E=(t&4)!==0,L=!E&&e==="scroll",_=E?g!==null?g+"Capture":null:g;E=[];for(var b=u,P;b!==null;){P=b;var q=P.stateNode;if(P.tag===5&&q!==null&&(P=q,_!==null&&(q=Of(b,_),q!=null&&E.push(Hf(b,q,P)))),L)break;b=b.return}0<E.length&&(g=new m(g,S,null,n,h),d.push({event:g,listeners:E}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==n2&&(S=n.relatedTarget||n.fromElement)&&(Hl(S)||S[ko]))break t;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?Hl(S):null,S!==null&&(L=wu(S),S!==L||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(E=y_,q="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(E=w_,q="onPointerLeave",_="onPointerEnter",b="pointer"),L=m==null?g:mc(m),P=S==null?g:mc(S),g=new E(q,b+"leave",m,n,h),g.target=L,g.relatedTarget=P,q=null,Hl(h)===u&&(E=new E(_,b+"enter",S,n,h),E.target=P,E.relatedTarget=L,q=E),L=q,m&&S)e:{for(E=m,_=S,b=0,P=E;P;P=Ku(P))b++;for(P=0,q=_;q;q=Ku(q))P++;for(;0<b-P;)E=Ku(E),b--;for(;0<P-b;)_=Ku(_),P--;for(;b--;){if(E===_||_!==null&&E===_.alternate)break e;E=Ku(E),_=Ku(_)}E=null}else E=null;m!==null&&N_(d,g,m,E,!1),S!==null&&L!==null&&N_(d,L,S,E,!0)}}t:{if(g=u?mc(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var $=JN;else if(x_(g))if(IA)$=nL;else{$=tL;var Q=ZN}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&($=eL);if($&&($=$(e,u))){TA(d,$,n,h);break t}Q&&Q(e,g,u),e==="focusout"&&(Q=g._wrapperState)&&Q.controlled&&g.type==="number"&&X0(g,"number",g.value)}switch(Q=u?mc(u):window,e){case"focusin":(x_(Q)||Q.contentEditable==="true")&&(dc=Q,u2=u,yf=null);break;case"focusout":yf=u2=dc=null;break;case"mousedown":c2=!0;break;case"contextmenu":case"mouseup":case"dragend":c2=!1,I_(d,n,h);break;case"selectionchange":if(sL)break;case"keydown":case"keyup":I_(d,n,h)}var C;if(pv)t:{switch(e){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else fc?SA(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(AA&&n.locale!=="ko"&&(fc||x!=="onCompositionStart"?x==="onCompositionEnd"&&fc&&(C=xA()):(Ca=h,hv="value"in Ca?Ca.value:Ca.textContent,fc=!0)),Q=Tm(u,x),0<Q.length&&(x=new v_(x,e,null,n,h),d.push({event:x,listeners:Q}),C?x.data=C:(C=EA(n),C!==null&&(x.data=C)))),(C=GN?KN(e,n):QN(e,n))&&(u=Tm(u,"onBeforeInput"),0<u.length&&(h=new v_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=C))}MA(d,t)})}function Hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Of(e,n),s!=null&&r.unshift(Hf(e,s,i)),s=Of(e,t),s!=null&&r.push(Hf(e,s,i))),e=e.return}return r}function Ku(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function N_(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Of(n,s),l!=null&&o.unshift(Hf(n,l,a))):i||(l=Of(n,s),l!=null&&o.push(Hf(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var uL=/\r\n?/g,cL=/\u0000|\uFFFD/g;function L_(e){return(typeof e=="string"?e:""+e).replace(uL,`
`).replace(cL,"")}function _p(e,t,n){if(t=L_(t),L_(e)!==t&&n)throw Error(Vt(425))}function Im(){}var h2=null,f2=null;function d2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var p2=typeof setTimeout=="function"?setTimeout:void 0,hL=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,fL=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(e){return k_.resolve(null).then(e).catch(dL)}:p2;function dL(e){setTimeout(function(){throw e})}function X1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zf(t)}function Ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function R_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ph=Math.random().toString(36).slice(2),$s="__reactFiber$"+ph,Wf="__reactProps$"+ph,ko="__reactContainer$"+ph,m2="__reactEvents$"+ph,pL="__reactListeners$"+ph,mL="__reactHandles$"+ph;function Hl(e){var t=e[$s];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ko]||n[$s]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=R_(e);e!==null;){if(n=e[$s])return n;e=R_(e)}return t}e=n,n=e.parentNode}return null}function Td(e){return e=e[$s]||e[ko],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Vt(33))}function Ng(e){return e[Wf]||null}var g2=[],gc=-1;function sl(e){return{current:e}}function hn(e){0>gc||(e.current=g2[gc],g2[gc]=null,gc--)}function sn(e,t){gc++,g2[gc]=e.current,e.current=t}var Ka={},Cr=sl(Ka),oi=sl(!1),su=Ka;function $c(e,t){var n=e.type.contextTypes;if(!n)return Ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ai(e){return e=e.childContextTypes,e!=null}function Pm(){hn(oi),hn(Cr)}function D_(e,t,n){if(Cr.current!==Ka)throw Error(Vt(168));sn(Cr,t),sn(oi,n)}function jA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Vt(108,ZC(e)||"Unknown",i));return bn({},n,r)}function Cm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ka,su=Cr.current,sn(Cr,e),sn(oi,oi.current),!0}function V_(e,t,n){var r=e.stateNode;if(!r)throw Error(Vt(169));n?(e=jA(e,t,su),r.__reactInternalMemoizedMergedChildContext=e,hn(oi),hn(Cr),sn(Cr,e)):hn(oi),sn(oi,n)}var So=null,Lg=!1,J1=!1;function BA(e){So===null?So=[e]:So.push(e)}function gL(e){Lg=!0,BA(e)}function ol(){if(!J1&&So!==null){J1=!0;var e=0,t=We;try{var n=So;for(We=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}So=null,Lg=!1}catch(i){throw So!==null&&(So=So.slice(e+1)),hA(av,ol),i}finally{We=t,J1=!1}}return null}var yc=[],vc=0,Nm=null,Lm=0,Yi=[],Xi=0,ou=null,Eo=1,To="";function Rl(e,t){yc[vc++]=Lm,yc[vc++]=Nm,Nm=e,Lm=t}function zA(e,t,n){Yi[Xi++]=Eo,Yi[Xi++]=To,Yi[Xi++]=ou,ou=e;var r=Eo;e=To;var i=32-Ts(r)-1;r&=~(1<<i),n+=1;var s=32-Ts(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Eo=1<<32-Ts(t)+i|n<<i|r,To=s+e}else Eo=1<<s|n<<i|r,To=e}function gv(e){e.return!==null&&(Rl(e,1),zA(e,1,0))}function yv(e){for(;e===Nm;)Nm=yc[--vc],yc[vc]=null,Lm=yc[--vc],yc[vc]=null;for(;e===ou;)ou=Yi[--Xi],Yi[Xi]=null,To=Yi[--Xi],Yi[Xi]=null,Eo=Yi[--Xi],Yi[Xi]=null}var Ci=null,Ti=null,dn=!1,Es=null;function UA(e,t){var n=Ji(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function F_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ci=e,Ti=Ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ci=e,Ti=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ou!==null?{id:Eo,overflow:To}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ji(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ci=e,Ti=null,!0):!1;default:return!1}}function y2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function v2(e){if(dn){var t=Ti;if(t){var n=t;if(!F_(e,t)){if(y2(e))throw Error(Vt(418));t=Ma(n.nextSibling);var r=Ci;t&&F_(e,t)?UA(r,n):(e.flags=e.flags&-4097|2,dn=!1,Ci=e)}}else{if(y2(e))throw Error(Vt(418));e.flags=e.flags&-4097|2,dn=!1,Ci=e}}}function M_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ci=e}function bp(e){if(e!==Ci)return!1;if(!dn)return M_(e),dn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d2(e.type,e.memoizedProps)),t&&(t=Ti)){if(y2(e))throw qA(),Error(Vt(418));for(;t;)UA(e,t),t=Ma(t.nextSibling)}if(M_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Vt(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ti=Ma(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ti=null}}else Ti=Ci?Ma(e.stateNode.nextSibling):null;return!0}function qA(){for(var e=Ti;e;)e=Ma(e.nextSibling)}function Hc(){Ti=Ci=null,dn=!1}function vv(e){Es===null?Es=[e]:Es.push(e)}var yL=zo.ReactCurrentBatchConfig;function Hh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Vt(309));var r=n.stateNode}if(!r)throw Error(Vt(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Vt(284));if(!n._owner)throw Error(Vt(290,e))}return e}function xp(e,t){throw e=Object.prototype.toString.call(t),Error(Vt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function O_(e){var t=e._init;return t(e._payload)}function $A(e){function t(_,b){if(e){var P=_.deletions;P===null?(_.deletions=[b],_.flags|=16):P.push(b)}}function n(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=za(_,b),_.index=0,_.sibling=null,_}function s(_,b,P){return _.index=P,e?(P=_.alternate,P!==null?(P=P.index,P<b?(_.flags|=2,b):P):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,b,P,q){return b===null||b.tag!==6?(b=s0(P,_.mode,q),b.return=_,b):(b=i(b,P),b.return=_,b)}function l(_,b,P,q){var $=P.type;return $===hc?h(_,b,P.props.children,q,P.key):b!==null&&(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Sa&&O_($)===b.type)?(q=i(b,P.props),q.ref=Hh(_,b,P),q.return=_,q):(q=Zp(P.type,P.key,P.props,null,_.mode,q),q.ref=Hh(_,b,P),q.return=_,q)}function u(_,b,P,q){return b===null||b.tag!==4||b.stateNode.containerInfo!==P.containerInfo||b.stateNode.implementation!==P.implementation?(b=o0(P,_.mode,q),b.return=_,b):(b=i(b,P.children||[]),b.return=_,b)}function h(_,b,P,q,$){return b===null||b.tag!==7?(b=Jl(P,_.mode,q,$),b.return=_,b):(b=i(b,P),b.return=_,b)}function d(_,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return b=s0(""+b,_.mode,P),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hp:return P=Zp(b.type,b.key,b.props,null,_.mode,P),P.ref=Hh(_,null,b),P.return=_,P;case cc:return b=o0(b,_.mode,P),b.return=_,b;case Sa:var q=b._init;return d(_,q(b._payload),P)}if(rf(b)||Bh(b))return b=Jl(b,_.mode,P,null),b.return=_,b;xp(_,b)}return null}function g(_,b,P,q){var $=b!==null?b.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return $!==null?null:a(_,b,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case hp:return P.key===$?l(_,b,P,q):null;case cc:return P.key===$?u(_,b,P,q):null;case Sa:return $=P._init,g(_,b,$(P._payload),q)}if(rf(P)||Bh(P))return $!==null?null:h(_,b,P,q,null);xp(_,P)}return null}function m(_,b,P,q,$){if(typeof q=="string"&&q!==""||typeof q=="number")return _=_.get(P)||null,a(b,_,""+q,$);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case hp:return _=_.get(q.key===null?P:q.key)||null,l(b,_,q,$);case cc:return _=_.get(q.key===null?P:q.key)||null,u(b,_,q,$);case Sa:var Q=q._init;return m(_,b,P,Q(q._payload),$)}if(rf(q)||Bh(q))return _=_.get(P)||null,h(b,_,q,$,null);xp(b,q)}return null}function S(_,b,P,q){for(var $=null,Q=null,C=b,x=b=0,V=null;C!==null&&x<P.length;x++){C.index>x?(V=C,C=null):V=C.sibling;var j=g(_,C,P[x],q);if(j===null){C===null&&(C=V);break}e&&C&&j.alternate===null&&t(_,C),b=s(j,b,x),Q===null?$=j:Q.sibling=j,Q=j,C=V}if(x===P.length)return n(_,C),dn&&Rl(_,x),$;if(C===null){for(;x<P.length;x++)C=d(_,P[x],q),C!==null&&(b=s(C,b,x),Q===null?$=C:Q.sibling=C,Q=C);return dn&&Rl(_,x),$}for(C=r(_,C);x<P.length;x++)V=m(C,_,x,P[x],q),V!==null&&(e&&V.alternate!==null&&C.delete(V.key===null?x:V.key),b=s(V,b,x),Q===null?$=V:Q.sibling=V,Q=V);return e&&C.forEach(function(I){return t(_,I)}),dn&&Rl(_,x),$}function E(_,b,P,q){var $=Bh(P);if(typeof $!="function")throw Error(Vt(150));if(P=$.call(P),P==null)throw Error(Vt(151));for(var Q=$=null,C=b,x=b=0,V=null,j=P.next();C!==null&&!j.done;x++,j=P.next()){C.index>x?(V=C,C=null):V=C.sibling;var I=g(_,C,j.value,q);if(I===null){C===null&&(C=V);break}e&&C&&I.alternate===null&&t(_,C),b=s(I,b,x),Q===null?$=I:Q.sibling=I,Q=I,C=V}if(j.done)return n(_,C),dn&&Rl(_,x),$;if(C===null){for(;!j.done;x++,j=P.next())j=d(_,j.value,q),j!==null&&(b=s(j,b,x),Q===null?$=j:Q.sibling=j,Q=j);return dn&&Rl(_,x),$}for(C=r(_,C);!j.done;x++,j=P.next())j=m(C,_,x,j.value,q),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?x:j.key),b=s(j,b,x),Q===null?$=j:Q.sibling=j,Q=j);return e&&C.forEach(function(N){return t(_,N)}),dn&&Rl(_,x),$}function L(_,b,P,q){if(typeof P=="object"&&P!==null&&P.type===hc&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case hp:t:{for(var $=P.key,Q=b;Q!==null;){if(Q.key===$){if($=P.type,$===hc){if(Q.tag===7){n(_,Q.sibling),b=i(Q,P.props.children),b.return=_,_=b;break t}}else if(Q.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Sa&&O_($)===Q.type){n(_,Q.sibling),b=i(Q,P.props),b.ref=Hh(_,Q,P),b.return=_,_=b;break t}n(_,Q);break}else t(_,Q);Q=Q.sibling}P.type===hc?(b=Jl(P.props.children,_.mode,q,P.key),b.return=_,_=b):(q=Zp(P.type,P.key,P.props,null,_.mode,q),q.ref=Hh(_,b,P),q.return=_,_=q)}return o(_);case cc:t:{for(Q=P.key;b!==null;){if(b.key===Q)if(b.tag===4&&b.stateNode.containerInfo===P.containerInfo&&b.stateNode.implementation===P.implementation){n(_,b.sibling),b=i(b,P.children||[]),b.return=_,_=b;break t}else{n(_,b);break}else t(_,b);b=b.sibling}b=o0(P,_.mode,q),b.return=_,_=b}return o(_);case Sa:return Q=P._init,L(_,b,Q(P._payload),q)}if(rf(P))return S(_,b,P,q);if(Bh(P))return E(_,b,P,q);xp(_,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,P),b.return=_,_=b):(n(_,b),b=s0(P,_.mode,q),b.return=_,_=b),o(_)):n(_,b)}return L}var Wc=$A(!0),HA=$A(!1),km=sl(null),Rm=null,wc=null,wv=null;function _v(){wv=wc=Rm=null}function bv(e){var t=km.current;hn(km),e._currentValue=t}function w2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kc(e,t){Rm=e,wv=wc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ri=!0),e.firstContext=null)}function rs(e){var t=e._currentValue;if(wv!==e)if(e={context:e,memoizedValue:t,next:null},wc===null){if(Rm===null)throw Error(Vt(308));wc=e,Rm.dependencies={lanes:0,firstContext:e}}else wc=wc.next=e;return t}var Wl=null;function xv(e){Wl===null?Wl=[e]:Wl.push(e)}function WA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,xv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ea=!1;function Av(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return i=r.interleaved,i===null?(t.next=t,xv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Gp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lv(e,n)}}function j_(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dm(e,t,n,r){var i=e.updateQueue;Ea=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var S=e,E=a;switch(g=t,m=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){d=S.call(m,d,g);break t}d=S;break t;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,g=typeof S=="function"?S.call(m,d,g):S,g==null)break t;d=bn({},d,g);break t;case 2:Ea=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);lu|=o,e.lanes=o,e.memoizedState=d}}function B_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Vt(191,i));i.call(r)}}}var Id={},Ys=sl(Id),Gf=sl(Id),Kf=sl(Id);function Gl(e){if(e===Id)throw Error(Vt(174));return e}function Sv(e,t){switch(sn(Kf,t),sn(Gf,e),sn(Ys,Id),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Z0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Z0(t,e)}hn(Ys),sn(Ys,t)}function Gc(){hn(Ys),hn(Gf),hn(Kf)}function KA(e){Gl(Kf.current);var t=Gl(Ys.current),n=Z0(t,e.type);t!==n&&(sn(Gf,e),sn(Ys,n))}function Ev(e){Gf.current===e&&(hn(Ys),hn(Gf))}var mn=sl(0);function Vm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Z1=[];function Tv(){for(var e=0;e<Z1.length;e++)Z1[e]._workInProgressVersionPrimary=null;Z1.length=0}var Kp=zo.ReactCurrentDispatcher,t0=zo.ReactCurrentBatchConfig,au=0,vn=null,Wn=null,Zn=null,Fm=!1,vf=!1,Qf=0,vL=0;function mr(){throw Error(Vt(321))}function Iv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cs(e[n],t[n]))return!1;return!0}function Pv(e,t,n,r,i,s){if(au=s,vn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kp.current=e===null||e.memoizedState===null?xL:AL,e=n(r,i),vf){s=0;do{if(vf=!1,Qf=0,25<=s)throw Error(Vt(301));s+=1,Zn=Wn=null,t.updateQueue=null,Kp.current=SL,e=n(r,i)}while(vf)}if(Kp.current=Mm,t=Wn!==null&&Wn.next!==null,au=0,Zn=Wn=vn=null,Fm=!1,t)throw Error(Vt(300));return e}function Cv(){var e=Qf!==0;return Qf=0,e}function Us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?vn.memoizedState=Zn=e:Zn=Zn.next=e,Zn}function is(){if(Wn===null){var e=vn.alternate;e=e!==null?e.memoizedState:null}else e=Wn.next;var t=Zn===null?vn.memoizedState:Zn.next;if(t!==null)Zn=t,Wn=e;else{if(e===null)throw Error(Vt(310));Wn=e,e={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Zn===null?vn.memoizedState=Zn=e:Zn=Zn.next=e}return Zn}function Yf(e,t){return typeof t=="function"?t(e):t}function e0(e){var t=is(),n=t.queue;if(n===null)throw Error(Vt(311));n.lastRenderedReducer=e;var r=Wn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((au&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,vn.lanes|=h,lu|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Cs(r,t.memoizedState)||(ri=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,vn.lanes|=s,lu|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function n0(e){var t=is(),n=t.queue;if(n===null)throw Error(Vt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Cs(s,t.memoizedState)||(ri=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function QA(){}function YA(e,t){var n=vn,r=is(),i=t(),s=!Cs(r.memoizedState,i);if(s&&(r.memoizedState=i,ri=!0),r=r.queue,Nv(ZA.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,Xf(9,JA.bind(null,n,r,i,t),void 0,null),er===null)throw Error(Vt(349));au&30||XA(n,t,i)}return i}function XA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vn.updateQueue,t===null?(t={lastEffect:null,stores:null},vn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function JA(e,t,n,r){t.value=n,t.getSnapshot=r,tS(t)&&eS(e)}function ZA(e,t,n){return n(function(){tS(t)&&eS(e)})}function tS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cs(e,n)}catch{return!0}}function eS(e){var t=Ro(e,1);t!==null&&Is(t,e,1,-1)}function z_(e){var t=Us();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:e},t.queue=e,e=e.dispatch=bL.bind(null,vn,e),[t.memoizedState,e]}function Xf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vn.updateQueue,t===null?(t={lastEffect:null,stores:null},vn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nS(){return is().memoizedState}function Qp(e,t,n,r){var i=Us();vn.flags|=e,i.memoizedState=Xf(1|t,n,void 0,r===void 0?null:r)}function kg(e,t,n,r){var i=is();r=r===void 0?null:r;var s=void 0;if(Wn!==null){var o=Wn.memoizedState;if(s=o.destroy,r!==null&&Iv(r,o.deps)){i.memoizedState=Xf(t,n,s,r);return}}vn.flags|=e,i.memoizedState=Xf(1|t,n,s,r)}function U_(e,t){return Qp(8390656,8,e,t)}function Nv(e,t){return kg(2048,8,e,t)}function rS(e,t){return kg(4,2,e,t)}function iS(e,t){return kg(4,4,e,t)}function sS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oS(e,t,n){return n=n!=null?n.concat([e]):null,kg(4,4,sS.bind(null,t,e),n)}function Lv(){}function aS(e,t){var n=is();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Iv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lS(e,t){var n=is();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Iv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uS(e,t,n){return au&21?(Cs(n,t)||(n=pA(),vn.lanes|=n,lu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ri=!0),e.memoizedState=n)}function wL(e,t){var n=We;We=n!==0&&4>n?n:4,e(!0);var r=t0.transition;t0.transition={};try{e(!1),t()}finally{We=n,t0.transition=r}}function cS(){return is().memoizedState}function _L(e,t,n){var r=Ba(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hS(e))fS(t,n);else if(n=WA(e,t,n,r),n!==null){var i=zr();Is(n,e,r,i),dS(n,t,r)}}function bL(e,t,n){var r=Ba(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hS(e))fS(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cs(a,o)){var l=t.interleaved;l===null?(i.next=i,xv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=WA(e,t,i,r),n!==null&&(i=zr(),Is(n,e,r,i),dS(n,t,r))}}function hS(e){var t=e.alternate;return e===vn||t!==null&&t===vn}function fS(e,t){vf=Fm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lv(e,n)}}var Mm={readContext:rs,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},xL={readContext:rs,useCallback:function(e,t){return Us().memoizedState=[e,t===void 0?null:t],e},useContext:rs,useEffect:U_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qp(4194308,4,sS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qp(4,2,e,t)},useMemo:function(e,t){var n=Us();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Us();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_L.bind(null,vn,e),[r.memoizedState,e]},useRef:function(e){var t=Us();return e={current:e},t.memoizedState=e},useState:z_,useDebugValue:Lv,useDeferredValue:function(e){return Us().memoizedState=e},useTransition:function(){var e=z_(!1),t=e[0];return e=wL.bind(null,e[1]),Us().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vn,i=Us();if(dn){if(n===void 0)throw Error(Vt(407));n=n()}else{if(n=t(),er===null)throw Error(Vt(349));au&30||XA(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,U_(ZA.bind(null,r,s,e),[e]),r.flags|=2048,Xf(9,JA.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Us(),t=er.identifierPrefix;if(dn){var n=To,r=Eo;n=(r&~(1<<32-Ts(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AL={readContext:rs,useCallback:aS,useContext:rs,useEffect:Nv,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:e0,useRef:nS,useState:function(){return e0(Yf)},useDebugValue:Lv,useDeferredValue:function(e){var t=is();return uS(t,Wn.memoizedState,e)},useTransition:function(){var e=e0(Yf)[0],t=is().memoizedState;return[e,t]},useMutableSource:QA,useSyncExternalStore:YA,useId:cS,unstable_isNewReconciler:!1},SL={readContext:rs,useCallback:aS,useContext:rs,useEffect:Nv,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:n0,useRef:nS,useState:function(){return n0(Yf)},useDebugValue:Lv,useDeferredValue:function(e){var t=is();return Wn===null?t.memoizedState=e:uS(t,Wn.memoizedState,e)},useTransition:function(){var e=n0(Yf)[0],t=is().memoizedState;return[e,t]},useMutableSource:QA,useSyncExternalStore:YA,useId:cS,unstable_isNewReconciler:!1};function bs(e,t){if(e&&e.defaultProps){t=bn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:bn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rg={isMounted:function(e){return(e=e._reactInternals)?wu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zr(),i=Ba(e),s=Co(r,i);s.payload=t,n!=null&&(s.callback=n),t=Oa(e,s,i),t!==null&&(Is(t,e,i,r),Gp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zr(),i=Ba(e),s=Co(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Oa(e,s,i),t!==null&&(Is(t,e,i,r),Gp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zr(),r=Ba(e),i=Co(n,r);i.tag=2,t!=null&&(i.callback=t),t=Oa(e,i,r),t!==null&&(Is(t,e,r,n),Gp(t,e,r))}};function q_(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!qf(n,r)||!qf(i,s):!0}function pS(e,t,n){var r=!1,i=Ka,s=t.contextType;return typeof s=="object"&&s!==null?s=rs(s):(i=ai(t)?su:Cr.current,r=t.contextTypes,s=(r=r!=null)?$c(e,i):Ka),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function $_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rg.enqueueReplaceState(t,t.state,null)}function b2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Av(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=rs(s):(s=ai(t)?su:Cr.current,i.context=$c(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_2(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rg.enqueueReplaceState(i,i.state,null),Dm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kc(e,t){try{var n="",r=t;do n+=JC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function r0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function x2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var EL=typeof WeakMap=="function"?WeakMap:Map;function mS(e,t,n){n=Co(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jm||(jm=!0,k2=r),x2(e,t)},n}function gS(e,t,n){n=Co(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){x2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){x2(e,t),typeof r!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function H_(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new EL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jL.bind(null,e,t,n),t.then(e,e))}function W_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function G_(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Co(-1,1),t.tag=2,Oa(n,t,1))),n.lanes|=1),e)}var TL=zo.ReactCurrentOwner,ri=!1;function Mr(e,t,n,r){t.child=e===null?HA(t,null,n,r):Wc(t,e.child,n,r)}function K_(e,t,n,r,i){n=n.render;var s=t.ref;return kc(t,i),r=Pv(e,t,n,r,s,i),n=Cv(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Do(e,t,i)):(dn&&n&&gv(t),t.flags|=1,Mr(e,t,r,i),t.child)}function Q_(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!jv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,yS(e,t,s,r,i)):(e=Zp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qf,n(o,r)&&e.ref===t.ref)return Do(e,t,i)}return t.flags|=1,e=za(s,r),e.ref=t.ref,e.return=t,t.child=e}function yS(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(qf(s,r)&&e.ref===t.ref)if(ri=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(ri=!0);else return t.lanes=e.lanes,Do(e,t,i)}return A2(e,t,n,r,i)}function vS(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(bc,Si),Si|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sn(bc,Si),Si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,sn(bc,Si),Si|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,sn(bc,Si),Si|=r;return Mr(e,t,i,n),t.child}function wS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function A2(e,t,n,r,i){var s=ai(n)?su:Cr.current;return s=$c(t,s),kc(t,i),n=Pv(e,t,n,r,s,i),r=Cv(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Do(e,t,i)):(dn&&r&&gv(t),t.flags|=1,Mr(e,t,n,i),t.child)}function Y_(e,t,n,r,i){if(ai(n)){var s=!0;Cm(t)}else s=!1;if(kc(t,i),t.stateNode===null)Yp(e,t),pS(t,n,r),b2(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rs(u):(u=ai(n)?su:Cr.current,u=$c(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$_(t,o,r,u),Ea=!1;var g=t.memoizedState;o.state=g,Dm(t,r,o,i),l=t.memoizedState,a!==r||g!==l||oi.current||Ea?(typeof h=="function"&&(_2(t,n,h,r),l=t.memoizedState),(a=Ea||q_(t,n,a,r,g,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,GA(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:bs(t.type,a),o.props=u,d=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rs(l):(l=ai(n)?su:Cr.current,l=$c(t,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||g!==l)&&$_(t,o,r,l),Ea=!1,g=t.memoizedState,o.state=g,Dm(t,r,o,i);var S=t.memoizedState;a!==d||g!==S||oi.current||Ea?(typeof m=="function"&&(_2(t,n,m,r),S=t.memoizedState),(u=Ea||q_(t,n,u,r,g,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return S2(e,t,n,r,s,i)}function S2(e,t,n,r,i,s){wS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&V_(t,n,!1),Do(e,t,s);r=t.stateNode,TL.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Wc(t,e.child,null,s),t.child=Wc(t,null,a,s)):Mr(e,t,a,s),t.memoizedState=r.state,i&&V_(t,n,!0),t.child}function _S(e){var t=e.stateNode;t.pendingContext?D_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D_(e,t.context,!1),Sv(e,t.containerInfo)}function X_(e,t,n,r,i){return Hc(),vv(i),t.flags|=256,Mr(e,t,n,r),t.child}var E2={dehydrated:null,treeContext:null,retryLane:0};function T2(e){return{baseLanes:e,cachePool:null,transitions:null}}function bS(e,t,n){var r=t.pendingProps,i=mn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sn(mn,i&1),e===null)return v2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fg(o,r,0,null),e=Jl(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=T2(n),t.memoizedState=E2,e):kv(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IL(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=za(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=za(a,s):(s=Jl(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?T2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=E2,r}return s=e.child,e=s.sibling,r=za(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kv(e,t){return t=Fg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ap(e,t,n,r){return r!==null&&vv(r),Wc(t,e.child,null,n),e=kv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IL(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=r0(Error(Vt(422))),Ap(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fg({mode:"visible",children:r.children},i,0,null),s=Jl(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Wc(t,e.child,null,o),t.child.memoizedState=T2(o),t.memoizedState=E2,s);if(!(t.mode&1))return Ap(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Vt(419)),r=r0(s,r,void 0),Ap(e,t,o,r)}if(a=(o&e.childLanes)!==0,ri||a){if(r=er,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),Is(r,e,i,-1))}return Ov(),r=r0(Error(Vt(421))),Ap(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=BL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ti=Ma(i.nextSibling),Ci=t,dn=!0,Es=null,e!==null&&(Yi[Xi++]=Eo,Yi[Xi++]=To,Yi[Xi++]=ou,Eo=e.id,To=e.overflow,ou=t),t=kv(t,r.children),t.flags|=4096,t)}function J_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),w2(e.return,t,n)}function i0(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xS(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Mr(e,t,r.children,n),r=mn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J_(e,n,t);else if(e.tag===19)J_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sn(mn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Vm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),i0(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Vm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}i0(t,!0,n,null,s);break;case"together":i0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Do(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Vt(153));if(t.child!==null){for(e=t.child,n=za(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=za(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PL(e,t,n){switch(t.tag){case 3:_S(t),Hc();break;case 5:KA(t);break;case 1:ai(t.type)&&Cm(t);break;case 4:Sv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;sn(km,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(sn(mn,mn.current&1),t.flags|=128,null):n&t.child.childLanes?bS(e,t,n):(sn(mn,mn.current&1),e=Do(e,t,n),e!==null?e.sibling:null);sn(mn,mn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(mn,mn.current),r)break;return null;case 22:case 23:return t.lanes=0,vS(e,t,n)}return Do(e,t,n)}var AS,I2,SS,ES;AS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};I2=function(){};SS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gl(Ys.current);var s=null;switch(n){case"input":i=Q0(e,i),r=Q0(e,r),s=[];break;case"select":i=bn({},i,{value:void 0}),r=bn({},r,{value:void 0}),s=[];break;case"textarea":i=J0(e,i),r=J0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Im)}t2(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ff.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ff.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&un("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};ES=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wh(e,t){if(!dn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function CL(e,t,n){var r=t.pendingProps;switch(yv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(t),null;case 1:return ai(t.type)&&Pm(),gr(t),null;case 3:return r=t.stateNode,Gc(),hn(oi),hn(Cr),Tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Es!==null&&(V2(Es),Es=null))),I2(e,t),gr(t),null;case 5:Ev(t);var i=Gl(Kf.current);if(n=t.type,e!==null&&t.stateNode!=null)SS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Vt(166));return gr(t),null}if(e=Gl(Ys.current),bp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$s]=t,r[Wf]=s,e=(t.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<of.length;i++)un(of[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":a_(r,s),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},un("invalid",r);break;case"textarea":u_(r,s),un("invalid",r)}t2(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_p(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_p(r.textContent,a,e),i=["children",""+a]):Ff.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&un("scroll",r)}switch(n){case"input":fp(r),l_(r,s,!0);break;case"textarea":fp(r),c_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Im)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$s]=t,e[Wf]=r,AS(e,t,!1,!1),t.stateNode=e;t:{switch(o=e2(n,r),n){case"dialog":un("cancel",e),un("close",e),i=r;break;case"iframe":case"object":case"embed":un("load",e),i=r;break;case"video":case"audio":for(i=0;i<of.length;i++)un(of[i],e);i=r;break;case"source":un("error",e),i=r;break;case"img":case"image":case"link":un("error",e),un("load",e),i=r;break;case"details":un("toggle",e),i=r;break;case"input":a_(e,r),i=Q0(e,r),un("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=bn({},r,{value:void 0}),un("invalid",e);break;case"textarea":u_(e,r),i=J0(e,r),un("invalid",e);break;default:i=r}t2(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nA(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tA(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mf(e,l):typeof l=="number"&&Mf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ff.hasOwnProperty(s)?l!=null&&s==="onScroll"&&un("scroll",e):l!=null&&nv(e,s,l,o))}switch(n){case"input":fp(e),l_(e,r,!1);break;case"textarea":fp(e),c_(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ga(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Pc(e,!!r.multiple,s,!1):r.defaultValue!=null&&Pc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Im)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gr(t),null;case 6:if(e&&t.stateNode!=null)ES(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Vt(166));if(n=Gl(Kf.current),Gl(Ys.current),bp(t)){if(r=t.stateNode,n=t.memoizedProps,r[$s]=t,(s=r.nodeValue!==n)&&(e=Ci,e!==null))switch(e.tag){case 3:_p(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_p(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$s]=t,t.stateNode=r}return gr(t),null;case 13:if(hn(mn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dn&&Ti!==null&&t.mode&1&&!(t.flags&128))qA(),Hc(),t.flags|=98560,s=!1;else if(s=bp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Vt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Vt(317));s[$s]=t}else Hc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gr(t),s=!1}else Es!==null&&(V2(Es),Es=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mn.current&1?Gn===0&&(Gn=3):Ov())),t.updateQueue!==null&&(t.flags|=4),gr(t),null);case 4:return Gc(),I2(e,t),e===null&&$f(t.stateNode.containerInfo),gr(t),null;case 10:return bv(t.type._context),gr(t),null;case 17:return ai(t.type)&&Pm(),gr(t),null;case 19:if(hn(mn),s=t.memoizedState,s===null)return gr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Wh(s,!1);else{if(Gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vm(e),o!==null){for(t.flags|=128,Wh(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sn(mn,mn.current&1|2),t.child}e=e.sibling}s.tail!==null&&Dn()>Qc&&(t.flags|=128,r=!0,Wh(s,!1),t.lanes=4194304)}else{if(!r)if(e=Vm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dn)return gr(t),null}else 2*Dn()-s.renderingStartTime>Qc&&n!==1073741824&&(t.flags|=128,r=!0,Wh(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Dn(),t.sibling=null,n=mn.current,sn(mn,r?n&1|2:n&1),t):(gr(t),null);case 22:case 23:return Mv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Si&1073741824&&(gr(t),t.subtreeFlags&6&&(t.flags|=8192)):gr(t),null;case 24:return null;case 25:return null}throw Error(Vt(156,t.tag))}function NL(e,t){switch(yv(t),t.tag){case 1:return ai(t.type)&&Pm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gc(),hn(oi),hn(Cr),Tv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ev(t),null;case 13:if(hn(mn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Vt(340));Hc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hn(mn),null;case 4:return Gc(),null;case 10:return bv(t.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var Sp=!1,Sr=!1,LL=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function _c(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function P2(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var Z_=!1;function kL(e,t){if(h2=Sm,e=NA(),mv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,u=0,h=0,d=e,g=null;e:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)g=d,d=m;for(;;){if(d===e)break e;if(g===n&&++u===i&&(a=o),g===s&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(f2={focusedElem:e,selectionRange:n},Sm=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){t=Yt;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,L=S.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?E:bs(t.type,E),L);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Vt(163))}}catch(q){Pn(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}return S=Z_,Z_=!1,S}function wf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&P2(t,n,s)}i=i.next}while(i!==r)}}function Dg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function C2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function TS(e){var t=e.alternate;t!==null&&(e.alternate=null,TS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$s],delete t[Wf],delete t[m2],delete t[pL],delete t[mL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IS(e){return e.tag===5||e.tag===3||e.tag===4}function t4(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||IS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function N2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Im));else if(r!==4&&(e=e.child,e!==null))for(N2(e,t,n),e=e.sibling;e!==null;)N2(e,t,n),e=e.sibling}function L2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(L2(e,t,n),e=e.sibling;e!==null;)L2(e,t,n),e=e.sibling}var or=null,As=!1;function ya(e,t,n){for(n=n.child;n!==null;)PS(e,t,n),n=n.sibling}function PS(e,t,n){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(Tg,n)}catch{}switch(n.tag){case 5:Sr||_c(n,t);case 6:var r=or,i=As;or=null,ya(e,t,n),or=r,As=i,or!==null&&(As?(e=or,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):or.removeChild(n.stateNode));break;case 18:or!==null&&(As?(e=or,n=n.stateNode,e.nodeType===8?X1(e.parentNode,n):e.nodeType===1&&X1(e,n),zf(e)):X1(or,n.stateNode));break;case 4:r=or,i=As,or=n.stateNode.containerInfo,As=!0,ya(e,t,n),or=r,As=i;break;case 0:case 11:case 14:case 15:if(!Sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&P2(n,t,o),i=i.next}while(i!==r)}ya(e,t,n);break;case 1:if(!Sr&&(_c(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pn(n,t,a)}ya(e,t,n);break;case 21:ya(e,t,n);break;case 22:n.mode&1?(Sr=(r=Sr)||n.memoizedState!==null,ya(e,t,n),Sr=r):ya(e,t,n);break;default:ya(e,t,n)}}function e4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new LL),t.forEach(function(r){var i=zL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ys(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,As=!1;break t;case 3:or=a.stateNode.containerInfo,As=!0;break t;case 4:or=a.stateNode.containerInfo,As=!0;break t}a=a.return}if(or===null)throw Error(Vt(160));PS(s,o,i),or=null,As=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CS(t,e),t=t.sibling}function CS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),Bs(e),r&4){try{wf(3,e,e.return),Dg(3,e)}catch(E){Pn(e,e.return,E)}try{wf(5,e,e.return)}catch(E){Pn(e,e.return,E)}}break;case 1:ys(t,e),Bs(e),r&512&&n!==null&&_c(n,n.return);break;case 5:if(ys(t,e),Bs(e),r&512&&n!==null&&_c(n,n.return),e.flags&32){var i=e.stateNode;try{Mf(i,"")}catch(E){Pn(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Xx(i,s),e2(a,o);var u=e2(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?nA(i,d):h==="dangerouslySetInnerHTML"?tA(i,d):h==="children"?Mf(i,d):nv(i,h,d,u)}switch(a){case"input":Y0(i,s);break;case"textarea":Jx(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Pc(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?Pc(i,!!s.multiple,s.defaultValue,!0):Pc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wf]=s}catch(E){Pn(e,e.return,E)}}break;case 6:if(ys(t,e),Bs(e),r&4){if(e.stateNode===null)throw Error(Vt(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){Pn(e,e.return,E)}}break;case 3:if(ys(t,e),Bs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zf(t.containerInfo)}catch(E){Pn(e,e.return,E)}break;case 4:ys(t,e),Bs(e);break;case 13:ys(t,e),Bs(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vv=Dn())),r&4&&e4(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Sr=(u=Sr)||h,ys(t,e),Sr=u):ys(t,e),Bs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Yt=e,h=e.child;h!==null;){for(d=Yt=h;Yt!==null;){switch(g=Yt,m=g.child,g.tag){case 0:case 11:case 14:case 15:wf(4,g,g.return);break;case 1:_c(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(E){Pn(r,n,E)}}break;case 5:_c(g,g.return);break;case 22:if(g.memoizedState!==null){r4(d);continue}}m!==null?(m.return=g,Yt=m):r4(d)}h=h.sibling}t:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eA("display",o))}catch(E){Pn(e,e.return,E)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){Pn(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ys(t,e),Bs(e),r&4&&e4(e);break;case 21:break;default:ys(t,e),Bs(e)}}function Bs(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(IS(n)){var r=n;break t}n=n.return}throw Error(Vt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mf(i,""),r.flags&=-33);var s=t4(e);L2(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=t4(e);N2(e,a,o);break;default:throw Error(Vt(161))}}catch(l){Pn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RL(e,t,n){Yt=e,NS(e)}function NS(e,t,n){for(var r=(e.mode&1)!==0;Yt!==null;){var i=Yt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sr;a=Sp;var u=Sr;if(Sp=o,(Sr=l)&&!u)for(Yt=i;Yt!==null;)o=Yt,l=o.child,o.tag===22&&o.memoizedState!==null?i4(i):l!==null?(l.return=o,Yt=l):i4(i);for(;s!==null;)Yt=s,NS(s),s=s.sibling;Yt=i,Sp=a,Sr=u}n4(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Yt=s):n4(e)}}function n4(e){for(;Yt!==null;){var t=Yt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sr||Dg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Sr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:bs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&B_(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}B_(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&zf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Vt(163))}Sr||t.flags&512&&C2(t)}catch(g){Pn(t,t.return,g)}}if(t===e){Yt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Yt=n;break}Yt=t.return}}function r4(e){for(;Yt!==null;){var t=Yt;if(t===e){Yt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Yt=n;break}Yt=t.return}}function i4(e){for(;Yt!==null;){var t=Yt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dg(4,t)}catch(l){Pn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Pn(t,i,l)}}var s=t.return;try{C2(t)}catch(l){Pn(t,s,l)}break;case 5:var o=t.return;try{C2(t)}catch(l){Pn(t,o,l)}}}catch(l){Pn(t,t.return,l)}if(t===e){Yt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Yt=a;break}Yt=t.return}}var DL=Math.ceil,Om=zo.ReactCurrentDispatcher,Rv=zo.ReactCurrentOwner,ts=zo.ReactCurrentBatchConfig,Ve=0,er=null,Un=null,cr=0,Si=0,bc=sl(0),Gn=0,Jf=null,lu=0,Vg=0,Dv=0,_f=null,ni=null,Vv=0,Qc=1/0,Ao=null,jm=!1,k2=null,ja=null,Ep=!1,Na=null,Bm=0,bf=0,R2=null,Xp=-1,Jp=0;function zr(){return Ve&6?Dn():Xp!==-1?Xp:Xp=Dn()}function Ba(e){return e.mode&1?Ve&2&&cr!==0?cr&-cr:yL.transition!==null?(Jp===0&&(Jp=pA()),Jp):(e=We,e!==0||(e=window.event,e=e===void 0?16:bA(e.type)),e):1}function Is(e,t,n,r){if(50<bf)throw bf=0,R2=null,Error(Vt(185));Sd(e,n,r),(!(Ve&2)||e!==er)&&(e===er&&(!(Ve&2)&&(Vg|=n),Gn===4&&Ia(e,cr)),li(e,r),n===1&&Ve===0&&!(t.mode&1)&&(Qc=Dn()+500,Lg&&ol()))}function li(e,t){var n=e.callbackNode;yN(e,t);var r=Am(e,e===er?cr:0);if(r===0)n!==null&&d_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&d_(n),t===1)e.tag===0?gL(s4.bind(null,e)):BA(s4.bind(null,e)),fL(function(){!(Ve&6)&&ol()}),n=null;else{switch(mA(r)){case 1:n=av;break;case 4:n=fA;break;case 16:n=xm;break;case 536870912:n=dA;break;default:n=xm}n=OS(n,LS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LS(e,t){if(Xp=-1,Jp=0,Ve&6)throw Error(Vt(327));var n=e.callbackNode;if(Rc()&&e.callbackNode!==n)return null;var r=Am(e,e===er?cr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zm(e,r);else{t=r;var i=Ve;Ve|=2;var s=RS();(er!==e||cr!==t)&&(Ao=null,Qc=Dn()+500,Xl(e,t));do try{ML();break}catch(a){kS(e,a)}while(1);_v(),Om.current=s,Ve=i,Un!==null?t=0:(er=null,cr=0,t=Gn)}if(t!==0){if(t===2&&(i=o2(e),i!==0&&(r=i,t=D2(e,i))),t===1)throw n=Jf,Xl(e,0),Ia(e,r),li(e,Dn()),n;if(t===6)Ia(e,r);else{if(i=e.current.alternate,!(r&30)&&!VL(i)&&(t=zm(e,r),t===2&&(s=o2(e),s!==0&&(r=s,t=D2(e,s))),t===1))throw n=Jf,Xl(e,0),Ia(e,r),li(e,Dn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Vt(345));case 2:Dl(e,ni,Ao);break;case 3:if(Ia(e,r),(r&130023424)===r&&(t=Vv+500-Dn(),10<t)){if(Am(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=p2(Dl.bind(null,e,ni,Ao),t);break}Dl(e,ni,Ao);break;case 4:if(Ia(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ts(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DL(r/1960))-r,10<r){e.timeoutHandle=p2(Dl.bind(null,e,ni,Ao),r);break}Dl(e,ni,Ao);break;case 5:Dl(e,ni,Ao);break;default:throw Error(Vt(329))}}}return li(e,Dn()),e.callbackNode===n?LS.bind(null,e):null}function D2(e,t){var n=_f;return e.current.memoizedState.isDehydrated&&(Xl(e,t).flags|=256),e=zm(e,t),e!==2&&(t=ni,ni=n,t!==null&&V2(t)),e}function V2(e){ni===null?ni=e:ni.push.apply(ni,e)}function VL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cs(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t){for(t&=~Dv,t&=~Vg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ts(t),r=1<<n;e[n]=-1,t&=~r}}function s4(e){if(Ve&6)throw Error(Vt(327));Rc();var t=Am(e,0);if(!(t&1))return li(e,Dn()),null;var n=zm(e,t);if(e.tag!==0&&n===2){var r=o2(e);r!==0&&(t=r,n=D2(e,r))}if(n===1)throw n=Jf,Xl(e,0),Ia(e,t),li(e,Dn()),n;if(n===6)throw Error(Vt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dl(e,ni,Ao),li(e,Dn()),null}function Fv(e,t){var n=Ve;Ve|=1;try{return e(t)}finally{Ve=n,Ve===0&&(Qc=Dn()+500,Lg&&ol())}}function uu(e){Na!==null&&Na.tag===0&&!(Ve&6)&&Rc();var t=Ve;Ve|=1;var n=ts.transition,r=We;try{if(ts.transition=null,We=1,e)return e()}finally{We=r,ts.transition=n,Ve=t,!(Ve&6)&&ol()}}function Mv(){Si=bc.current,hn(bc)}function Xl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hL(n)),Un!==null)for(n=Un.return;n!==null;){var r=n;switch(yv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pm();break;case 3:Gc(),hn(oi),hn(Cr),Tv();break;case 5:Ev(r);break;case 4:Gc();break;case 13:hn(mn);break;case 19:hn(mn);break;case 10:bv(r.type._context);break;case 22:case 23:Mv()}n=n.return}if(er=e,Un=e=za(e.current,null),cr=Si=t,Gn=0,Jf=null,Dv=Vg=lu=0,ni=_f=null,Wl!==null){for(t=0;t<Wl.length;t++)if(n=Wl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wl=null}return e}function kS(e,t){do{var n=Un;try{if(_v(),Kp.current=Mm,Fm){for(var r=vn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fm=!1}if(au=0,Zn=Wn=vn=null,vf=!1,Qf=0,Rv.current=null,n===null||n.return===null){Gn=1,Jf=t,Un=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=W_(o);if(m!==null){m.flags&=-257,G_(m,o,a,s,t),m.mode&1&&H_(s,u,t),t=m,l=u;var S=t.updateQueue;if(S===null){var E=new Set;E.add(l),t.updateQueue=E}else S.add(l);break t}else{if(!(t&1)){H_(s,u,t),Ov();break t}l=Error(Vt(426))}}else if(dn&&a.mode&1){var L=W_(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),G_(L,o,a,s,t),vv(Kc(l,a));break t}}s=l=Kc(l,a),Gn!==4&&(Gn=2),_f===null?_f=[s]:_f.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=mS(s,l,t);j_(s,_);break t;case 1:a=l;var b=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ja===null||!ja.has(P)))){s.flags|=65536,t&=-t,s.lanes|=t;var q=gS(s,a,t);j_(s,q);break t}}s=s.return}while(s!==null)}VS(n)}catch($){t=$,Un===n&&n!==null&&(Un=n=n.return);continue}break}while(1)}function RS(){var e=Om.current;return Om.current=Mm,e===null?Mm:e}function Ov(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),er===null||!(lu&268435455)&&!(Vg&268435455)||Ia(er,cr)}function zm(e,t){var n=Ve;Ve|=2;var r=RS();(er!==e||cr!==t)&&(Ao=null,Xl(e,t));do try{FL();break}catch(i){kS(e,i)}while(1);if(_v(),Ve=n,Om.current=r,Un!==null)throw Error(Vt(261));return er=null,cr=0,Gn}function FL(){for(;Un!==null;)DS(Un)}function ML(){for(;Un!==null&&!lN();)DS(Un)}function DS(e){var t=MS(e.alternate,e,Si);e.memoizedProps=e.pendingProps,t===null?VS(e):Un=t,Rv.current=null}function VS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NL(n,t),n!==null){n.flags&=32767,Un=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gn=6,Un=null;return}}else if(n=CL(n,t,Si),n!==null){Un=n;return}if(t=t.sibling,t!==null){Un=t;return}Un=t=e}while(t!==null);Gn===0&&(Gn=5)}function Dl(e,t,n){var r=We,i=ts.transition;try{ts.transition=null,We=1,OL(e,t,n,r)}finally{ts.transition=i,We=r}return null}function OL(e,t,n,r){do Rc();while(Na!==null);if(Ve&6)throw Error(Vt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Vt(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vN(e,s),e===er&&(Un=er=null,cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ep||(Ep=!0,OS(xm,function(){return Rc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ts.transition,ts.transition=null;var o=We;We=1;var a=Ve;Ve|=4,Rv.current=null,kL(e,n),CS(n,e),iL(f2),Sm=!!h2,f2=h2=null,e.current=n,RL(n),uN(),Ve=a,We=o,ts.transition=s}else e.current=n;if(Ep&&(Ep=!1,Na=e,Bm=i),s=e.pendingLanes,s===0&&(ja=null),fN(n.stateNode),li(e,Dn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jm)throw jm=!1,e=k2,k2=null,e;return Bm&1&&e.tag!==0&&Rc(),s=e.pendingLanes,s&1?e===R2?bf++:(bf=0,R2=e):bf=0,ol(),null}function Rc(){if(Na!==null){var e=mA(Bm),t=ts.transition,n=We;try{if(ts.transition=null,We=16>e?16:e,Na===null)var r=!1;else{if(e=Na,Na=null,Bm=0,Ve&6)throw Error(Vt(331));var i=Ve;for(Ve|=4,Yt=e.current;Yt!==null;){var s=Yt,o=s.child;if(Yt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Yt=u;Yt!==null;){var h=Yt;switch(h.tag){case 0:case 11:case 15:wf(8,h,s)}var d=h.child;if(d!==null)d.return=h,Yt=d;else for(;Yt!==null;){h=Yt;var g=h.sibling,m=h.return;if(TS(h),h===u){Yt=null;break}if(g!==null){g.return=m,Yt=g;break}Yt=m}}}var S=s.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var L=E.sibling;E.sibling=null,E=L}while(E!==null)}}Yt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Yt=o;else t:for(;Yt!==null;){if(s=Yt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wf(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Yt=_;break t}Yt=s.return}}var b=e.current;for(Yt=b;Yt!==null;){o=Yt;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,Yt=P;else t:for(o=b;Yt!==null;){if(a=Yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dg(9,a)}}catch($){Pn(a,a.return,$)}if(a===o){Yt=null;break t}var q=a.sibling;if(q!==null){q.return=a.return,Yt=q;break t}Yt=a.return}}if(Ve=i,ol(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(Tg,e)}catch{}r=!0}return r}finally{We=n,ts.transition=t}}return!1}function o4(e,t,n){t=Kc(n,t),t=mS(e,t,1),e=Oa(e,t,1),t=zr(),e!==null&&(Sd(e,1,t),li(e,t))}function Pn(e,t,n){if(e.tag===3)o4(e,e,n);else for(;t!==null;){if(t.tag===3){o4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ja===null||!ja.has(r))){e=Kc(n,e),e=gS(t,e,1),t=Oa(t,e,1),e=zr(),t!==null&&(Sd(t,1,e),li(t,e));break}}t=t.return}}function jL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zr(),e.pingedLanes|=e.suspendedLanes&n,er===e&&(cr&n)===n&&(Gn===4||Gn===3&&(cr&130023424)===cr&&500>Dn()-Vv?Xl(e,0):Dv|=n),li(e,t)}function FS(e,t){t===0&&(e.mode&1?(t=mp,mp<<=1,!(mp&130023424)&&(mp=4194304)):t=1);var n=zr();e=Ro(e,t),e!==null&&(Sd(e,t,n),li(e,n))}function BL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),FS(e,n)}function zL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Vt(314))}r!==null&&r.delete(t),FS(e,n)}var MS;MS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||oi.current)ri=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ri=!1,PL(e,t,n);ri=!!(e.flags&131072)}else ri=!1,dn&&t.flags&1048576&&zA(t,Lm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yp(e,t),e=t.pendingProps;var i=$c(t,Cr.current);kc(t,n),i=Pv(null,t,r,e,i,n);var s=Cv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ai(r)?(s=!0,Cm(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Av(t),i.updater=Rg,t.stateNode=i,i._reactInternals=t,b2(t,r,e,n),t=S2(null,t,r,!0,s,n)):(t.tag=0,dn&&s&&gv(t),Mr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;t:{switch(Yp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=qL(r),e=bs(r,e),i){case 0:t=A2(null,t,r,e,n);break t;case 1:t=Y_(null,t,r,e,n);break t;case 11:t=K_(null,t,r,e,n);break t;case 14:t=Q_(null,t,r,bs(r.type,e),n);break t}throw Error(Vt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),A2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),Y_(e,t,r,i,n);case 3:t:{if(_S(t),e===null)throw Error(Vt(387));r=t.pendingProps,s=t.memoizedState,i=s.element,GA(e,t),Dm(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Kc(Error(Vt(423)),t),t=X_(e,t,r,n,i);break t}else if(r!==i){i=Kc(Error(Vt(424)),t),t=X_(e,t,r,n,i);break t}else for(Ti=Ma(t.stateNode.containerInfo.firstChild),Ci=t,dn=!0,Es=null,n=HA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hc(),r===i){t=Do(e,t,n);break t}Mr(e,t,r,n)}t=t.child}return t;case 5:return KA(t),e===null&&v2(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,d2(r,i)?o=null:s!==null&&d2(r,s)&&(t.flags|=32),wS(e,t),Mr(e,t,o,n),t.child;case 6:return e===null&&v2(t),null;case 13:return bS(e,t,n);case 4:return Sv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wc(t,null,r,n):Mr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),K_(e,t,r,i,n);case 7:return Mr(e,t,t.pendingProps,n),t.child;case 8:return Mr(e,t,t.pendingProps.children,n),t.child;case 12:return Mr(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,sn(km,r._currentValue),r._currentValue=o,s!==null)if(Cs(s.value,o)){if(s.children===i.children&&!oi.current){t=Do(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Co(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),w2(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Vt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),w2(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,kc(t,n),i=rs(i),r=r(i),t.flags|=1,Mr(e,t,r,n),t.child;case 14:return r=t.type,i=bs(r,t.pendingProps),i=bs(r.type,i),Q_(e,t,r,i,n);case 15:return yS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),Yp(e,t),t.tag=1,ai(r)?(e=!0,Cm(t)):e=!1,kc(t,n),pS(t,r,i),b2(t,r,i,n),S2(null,t,r,!0,e,n);case 19:return xS(e,t,n);case 22:return vS(e,t,n)}throw Error(Vt(156,t.tag))};function OS(e,t){return hA(e,t)}function UL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(e,t,n,r){return new UL(e,t,n,r)}function jv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qL(e){if(typeof e=="function")return jv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iv)return 11;if(e===sv)return 14}return 2}function za(e,t){var n=e.alternate;return n===null?(n=Ji(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zp(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")jv(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case hc:return Jl(n.children,i,s,t);case rv:o=8,i|=8;break;case H0:return e=Ji(12,n,t,i|2),e.elementType=H0,e.lanes=s,e;case W0:return e=Ji(13,n,t,i),e.elementType=W0,e.lanes=s,e;case G0:return e=Ji(19,n,t,i),e.elementType=G0,e.lanes=s,e;case Kx:return Fg(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wx:o=10;break t;case Gx:o=9;break t;case iv:o=11;break t;case sv:o=14;break t;case Sa:o=16,r=null;break t}throw Error(Vt(130,e==null?e:typeof e,""))}return t=Ji(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Jl(e,t,n,r){return e=Ji(7,e,r,t),e.lanes=n,e}function Fg(e,t,n,r){return e=Ji(22,e,r,t),e.elementType=Kx,e.lanes=n,e.stateNode={isHidden:!1},e}function s0(e,t,n){return e=Ji(6,e,null,t),e.lanes=n,e}function o0(e,t,n){return t=Ji(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $L(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=B1(0),this.expirationTimes=B1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bv(e,t,n,r,i,s,o,a,l){return e=new $L(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ji(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(s),e}function HL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jS(e){if(!e)return Ka;e=e._reactInternals;t:{if(wu(e)!==e||e.tag!==1)throw Error(Vt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(Vt(171))}if(e.tag===1){var n=e.type;if(ai(n))return jA(e,n,t)}return t}function BS(e,t,n,r,i,s,o,a,l){return e=Bv(n,r,!0,e,i,s,o,a,l),e.context=jS(null),n=e.current,r=zr(),i=Ba(n),s=Co(r,i),s.callback=t??null,Oa(n,s,i),e.current.lanes=i,Sd(e,i,r),li(e,r),e}function Mg(e,t,n,r){var i=t.current,s=zr(),o=Ba(i);return n=jS(n),t.context===null?t.context=n:t.pendingContext=n,t=Co(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Oa(i,t,o),e!==null&&(Is(e,i,o,s),Gp(e,i,o)),o}function Um(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function a4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zv(e,t){a4(e,t),(e=e.alternate)&&a4(e,t)}function WL(){return null}var zS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uv(e){this._internalRoot=e}Og.prototype.render=Uv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Vt(409));Mg(e,t,null,null)};Og.prototype.unmount=Uv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uu(function(){Mg(null,e,null,null)}),t[ko]=null}};function Og(e){this._internalRoot=e}Og.prototype.unstable_scheduleHydration=function(e){if(e){var t=vA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ta.length&&t!==0&&t<Ta[n].priority;n++);Ta.splice(n,0,e),n===0&&_A(e)}};function qv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function l4(){}function GL(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Um(o);s.call(u)}}var o=BS(t,r,e,0,null,!1,!1,"",l4);return e._reactRootContainer=o,e[ko]=o.current,$f(e.nodeType===8?e.parentNode:e),uu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Um(l);a.call(u)}}var l=Bv(e,0,!1,null,null,!1,!1,"",l4);return e._reactRootContainer=l,e[ko]=l.current,$f(e.nodeType===8?e.parentNode:e),uu(function(){Mg(t,l,n,r)}),l}function Bg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Um(o);a.call(l)}}Mg(t,o,e,i)}else o=GL(n,t,e,i,r);return Um(o)}gA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sf(t.pendingLanes);n!==0&&(lv(t,n|1),li(t,Dn()),!(Ve&6)&&(Qc=Dn()+500,ol()))}break;case 13:uu(function(){var r=Ro(e,1);if(r!==null){var i=zr();Is(r,e,1,i)}}),zv(e,1)}};uv=function(e){if(e.tag===13){var t=Ro(e,134217728);if(t!==null){var n=zr();Is(t,e,134217728,n)}zv(e,134217728)}};yA=function(e){if(e.tag===13){var t=Ba(e),n=Ro(e,t);if(n!==null){var r=zr();Is(n,e,t,r)}zv(e,t)}};vA=function(){return We};wA=function(e,t){var n=We;try{return We=e,t()}finally{We=n}};r2=function(e,t,n){switch(t){case"input":if(Y0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ng(r);if(!i)throw Error(Vt(90));Yx(r),Y0(r,i)}}}break;case"textarea":Jx(e,n);break;case"select":t=n.value,t!=null&&Pc(e,!!n.multiple,t,!1)}};sA=Fv;oA=uu;var KL={usingClientEntryPoint:!1,Events:[Td,mc,Ng,rA,iA,Fv]},Gh={findFiberByHostInstance:Hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QL={bundleType:Gh.bundleType,version:Gh.version,rendererPackageName:Gh.rendererPackageName,rendererConfig:Gh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uA(e),e===null?null:e.stateNode},findFiberByHostInstance:Gh.findFiberByHostInstance||WL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{Tg=Tp.inject(QL),Qs=Tp}catch{}}ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KL;ki.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(t))throw Error(Vt(200));return HL(e,t,null,n)};ki.createRoot=function(e,t){if(!qv(e))throw Error(Vt(299));var n=!1,r="",i=zS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bv(e,1,!1,null,null,n,!1,r,i),e[ko]=t.current,$f(e.nodeType===8?e.parentNode:e),new Uv(t)};ki.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Vt(188)):(e=Object.keys(e).join(","),Error(Vt(268,e)));return e=uA(t),e=e===null?null:e.stateNode,e};ki.flushSync=function(e){return uu(e)};ki.hydrate=function(e,t,n){if(!jg(t))throw Error(Vt(200));return Bg(null,e,t,!0,n)};ki.hydrateRoot=function(e,t,n){if(!qv(e))throw Error(Vt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=BS(t,null,e,1,n??null,i,!1,s,o),e[ko]=t.current,$f(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Og(t)};ki.render=function(e,t,n){if(!jg(t))throw Error(Vt(200));return Bg(null,e,t,!1,n)};ki.unmountComponentAtNode=function(e){if(!jg(e))throw Error(Vt(40));return e._reactRootContainer?(uu(function(){Bg(null,null,e,!1,function(){e._reactRootContainer=null,e[ko]=null})}),!0):!1};ki.unstable_batchedUpdates=Fv;ki.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jg(n))throw Error(Vt(200));if(e==null||e._reactInternals===void 0)throw Error(Vt(38));return Bg(e,t,n,!1,r)};ki.version="18.3.1-next-f1338f8080-20240426";function US(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(US)}catch(e){console.error(e)}}US(),Ux.exports=ki;var YL=Ux.exports,u4=YL;q0.createRoot=u4.createRoot,q0.hydrateRoot=u4.hydrateRoot;const XL=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},JL=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(g=64)),r.push(n[h],n[d],n[g],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):JL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new ZL;const g=s<<2|a>>4;if(r.push(g),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const S=u<<6&192|d;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ZL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tk=function(e){const t=qS(e);return $S.encodeByteArray(t,!0)},qm=function(e){return tk(e).replace(/\./g,"")},ek=function(e){try{return $S.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=()=>HS().__FIREBASE_DEFAULTS__,rk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ik=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ek(e[1]);return t&&JSON.parse(t)},$v=()=>{try{return XL()||nk()||rk()||ik()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sk=e=>{var t,n;return(n=(t=$v())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},ok=e=>{const t=sk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},WS=()=>{var e;return(e=$v())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(e){return e.endsWith(".cloudworkstations.dev")}async function lk(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[qm(JSON.stringify(n)),qm(JSON.stringify(o)),a].join(".")}const xf={};function ck(){const e={prod:[],emulator:[]};for(const t of Object.keys(xf))xf[t]?e.emulator.push(t):e.prod.push(t);return e}function hk(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let c4=!1;function GS(e,t){if(typeof window>"u"||typeof document>"u"||!Hv(window.location.host)||xf[e]===t||xf[e]||c4)return;xf[e]=t;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=ck().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{c4=!0,o()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=hk(r),m=n("text"),S=document.getElementById(m)||document.createElement("span"),E=n("learnmore"),L=document.getElementById(E)||document.createElement("a"),_=n("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;a(P),h(L,E);const q=u();l(b,_),P.append(b,S,L,q),document.body.appendChild(P)}s?(S.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fk(){var e;const t=(e=$v())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KS(){return!fk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function dk(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="FirebaseError";class mh extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=pk,Object.setPrototypeOf(this,mh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,YS.prototype.create)}}class YS{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?mk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mh(i,a,r)}}function mk(e,t){return e.replace(gk,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const gk=/\{\$([^}]+)}/g;function Hm(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(h4(s)&&h4(o)){if(!Hm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function h4(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(e){return e&&e._delegate?e._delegate:e}class Zf{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ak;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wk(t))try{this.getOrInitializeService({instanceIdentifier:Vl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Vl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vl){return this.instances.has(t)}getOptions(t=Vl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vk(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vl){return this.component?this.component.multipleInstances?t:Vl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vk(e){return e===Vl?void 0:e}function wk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Re||(Re={}));const bk={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},xk=Re.INFO,Ak={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Sk=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Ak[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class XS{constructor(t){this.name=t,this._logLevel=xk,this._logHandler=Sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const Ek=(e,t)=>t.some(n=>e instanceof n);let f4,d4;function Tk(){return f4||(f4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return d4||(d4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,F2=new WeakMap,ZS=new WeakMap,a0=new WeakMap,Wv=new WeakMap;function Pk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Ua(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&JS.set(n,e)}).catch(()=>{}),Wv.set(t,e),t}function Ck(e){if(F2.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});F2.set(e,t)}let M2={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return F2.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ZS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ua(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Nk(e){M2=e(M2)}function Lk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(l0(this),t,...n);return ZS.set(r,t.sort?t.sort():[t]),Ua(r)}:Ik().includes(e)?function(...t){return e.apply(l0(this),t),Ua(JS.get(this))}:function(...t){return Ua(e.apply(l0(this),t))}}function kk(e){return typeof e=="function"?Lk(e):(e instanceof IDBTransaction&&Ck(e),Ek(e,Tk())?new Proxy(e,M2):e)}function Ua(e){if(e instanceof IDBRequest)return Pk(e);if(a0.has(e))return a0.get(e);const t=kk(e);return t!==e&&(a0.set(e,t),Wv.set(t,e)),t}const l0=e=>Wv.get(e);function Rk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Ua(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ua(o.result),l.oldVersion,l.newVersion,Ua(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Dk=["get","getKey","getAll","getAllKeys","count"],Vk=["put","add","delete","clear"],u0=new Map;function p4(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(u0.get(t))return u0.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Vk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Dk.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return u0.set(t,s),s}Nk(e=>({...e,get:(t,n,r)=>p4(t,n)||e.get(t,n,r),has:(t,n)=>!!p4(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const O2="@firebase/app",m4="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new XS("@firebase/app"),Ok="@firebase/app-compat",jk="@firebase/analytics-compat",Bk="@firebase/analytics",zk="@firebase/app-check-compat",Uk="@firebase/app-check",qk="@firebase/auth",$k="@firebase/auth-compat",Hk="@firebase/database",Wk="@firebase/data-connect",Gk="@firebase/database-compat",Kk="@firebase/functions",Qk="@firebase/functions-compat",Yk="@firebase/installations",Xk="@firebase/installations-compat",Jk="@firebase/messaging",Zk="@firebase/messaging-compat",t8="@firebase/performance",e8="@firebase/performance-compat",n8="@firebase/remote-config",r8="@firebase/remote-config-compat",i8="@firebase/storage",s8="@firebase/storage-compat",o8="@firebase/firestore",a8="@firebase/vertexai",l8="@firebase/firestore-compat",u8="firebase",c8="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="[DEFAULT]",h8={[O2]:"fire-core",[Ok]:"fire-core-compat",[Bk]:"fire-analytics",[jk]:"fire-analytics-compat",[Uk]:"fire-app-check",[zk]:"fire-app-check-compat",[qk]:"fire-auth",[$k]:"fire-auth-compat",[Hk]:"fire-rtdb",[Wk]:"fire-data-connect",[Gk]:"fire-rtdb-compat",[Kk]:"fire-fn",[Qk]:"fire-fn-compat",[Yk]:"fire-iid",[Xk]:"fire-iid-compat",[Jk]:"fire-fcm",[Zk]:"fire-fcm-compat",[t8]:"fire-perf",[e8]:"fire-perf-compat",[n8]:"fire-rc",[r8]:"fire-rc-compat",[i8]:"fire-gcs",[s8]:"fire-gcs-compat",[o8]:"fire-fst",[l8]:"fire-fst-compat",[a8]:"fire-vertex","fire-js":"fire-js",[u8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Map,f8=new Map,B2=new Map;function g4(e,t){try{e.container.addComponent(t)}catch(n){Vo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gm(e){const t=e.name;if(B2.has(t))return Vo.debug(`There were multiple attempts to register component ${t}.`),!1;B2.set(t,e);for(const n of Wm.values())g4(n,e);for(const n of f8.values())g4(n,e);return!0}function d8(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function p8(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new YS("app","Firebase",m8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=c8;function tE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:j2,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw qa.create("bad-app-name",{appName:String(i)});if(n||(n=WS()),!n)throw qa.create("no-options");const s=Wm.get(i);if(s){if(Hm(n,s.options)&&Hm(r,s.config))return s;throw qa.create("duplicate-app",{appName:i})}const o=new _k(i);for(const l of B2.values())o.addComponent(l);const a=new g8(n,r,o);return Wm.set(i,a),a}function v8(e=j2){const t=Wm.get(e);if(!t&&e===j2&&WS())return tE();if(!t)throw qa.create("no-app",{appName:e});return t}function Dc(e,t,n){var r;let i=(r=h8[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vo.warn(a.join(" "));return}Gm(new Zf(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="firebase-heartbeat-database",_8=1,td="firebase-heartbeat-store";let c0=null;function eE(){return c0||(c0=Rk(w8,_8,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(td)}catch(n){console.warn(n)}}}}).catch(e=>{throw qa.create("idb-open",{originalErrorMessage:e.message})})),c0}async function b8(e){try{const n=(await eE()).transaction(td),r=await n.objectStore(td).get(nE(e));return await n.done,r}catch(t){if(t instanceof mh)Vo.warn(t.message);else{const n=qa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vo.warn(n.message)}}}async function y4(e,t){try{const r=(await eE()).transaction(td,"readwrite");await r.objectStore(td).put(t,nE(e)),await r.done}catch(n){if(n instanceof mh)Vo.warn(n.message);else{const r=qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vo.warn(r.message)}}}function nE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=1024,A8=30;class S8{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v4();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>A8){const o=I8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vo.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v4(),{heartbeatsToSend:r,unsentEntries:i}=E8(this._heartbeatsCache.heartbeats),s=qm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vo.warn(n),""}}}function v4(){return new Date().toISOString().substring(0,10)}function E8(e,t=x8){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w4(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w4(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T8{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?dk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return y4(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return y4(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function w4(e){return qm(JSON.stringify({version:2,heartbeats:e})).length}function I8(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(e){Gm(new Zf("platform-logger",t=>new Fk(t),"PRIVATE")),Gm(new Zf("heartbeat",t=>new S8(t),"PRIVATE")),Dc(O2,m4,e),Dc(O2,m4,"esm2017"),Dc("fire-js","")}P8("");var C8="firebase",N8="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dc(C8,N8,"app");var _4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $a,rE;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,x){function V(){}V.prototype=x.prototype,C.D=x.prototype,C.prototype=new V,C.prototype.constructor=C,C.C=function(j,I,N){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return x.prototype[I].apply(j,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,x,V){V||(V=0);var j=Array(16);if(typeof x=="string")for(var I=0;16>I;++I)j[I]=x.charCodeAt(V++)|x.charCodeAt(V++)<<8|x.charCodeAt(V++)<<16|x.charCodeAt(V++)<<24;else for(I=0;16>I;++I)j[I]=x[V++]|x[V++]<<8|x[V++]<<16|x[V++]<<24;x=C.g[0],V=C.g[1],I=C.g[2];var N=C.g[3],k=x+(N^V&(I^N))+j[0]+3614090360&4294967295;x=V+(k<<7&4294967295|k>>>25),k=N+(I^x&(V^I))+j[1]+3905402710&4294967295,N=x+(k<<12&4294967295|k>>>20),k=I+(V^N&(x^V))+j[2]+606105819&4294967295,I=N+(k<<17&4294967295|k>>>15),k=V+(x^I&(N^x))+j[3]+3250441966&4294967295,V=I+(k<<22&4294967295|k>>>10),k=x+(N^V&(I^N))+j[4]+4118548399&4294967295,x=V+(k<<7&4294967295|k>>>25),k=N+(I^x&(V^I))+j[5]+1200080426&4294967295,N=x+(k<<12&4294967295|k>>>20),k=I+(V^N&(x^V))+j[6]+2821735955&4294967295,I=N+(k<<17&4294967295|k>>>15),k=V+(x^I&(N^x))+j[7]+4249261313&4294967295,V=I+(k<<22&4294967295|k>>>10),k=x+(N^V&(I^N))+j[8]+1770035416&4294967295,x=V+(k<<7&4294967295|k>>>25),k=N+(I^x&(V^I))+j[9]+2336552879&4294967295,N=x+(k<<12&4294967295|k>>>20),k=I+(V^N&(x^V))+j[10]+4294925233&4294967295,I=N+(k<<17&4294967295|k>>>15),k=V+(x^I&(N^x))+j[11]+2304563134&4294967295,V=I+(k<<22&4294967295|k>>>10),k=x+(N^V&(I^N))+j[12]+1804603682&4294967295,x=V+(k<<7&4294967295|k>>>25),k=N+(I^x&(V^I))+j[13]+4254626195&4294967295,N=x+(k<<12&4294967295|k>>>20),k=I+(V^N&(x^V))+j[14]+2792965006&4294967295,I=N+(k<<17&4294967295|k>>>15),k=V+(x^I&(N^x))+j[15]+1236535329&4294967295,V=I+(k<<22&4294967295|k>>>10),k=x+(I^N&(V^I))+j[1]+4129170786&4294967295,x=V+(k<<5&4294967295|k>>>27),k=N+(V^I&(x^V))+j[6]+3225465664&4294967295,N=x+(k<<9&4294967295|k>>>23),k=I+(x^V&(N^x))+j[11]+643717713&4294967295,I=N+(k<<14&4294967295|k>>>18),k=V+(N^x&(I^N))+j[0]+3921069994&4294967295,V=I+(k<<20&4294967295|k>>>12),k=x+(I^N&(V^I))+j[5]+3593408605&4294967295,x=V+(k<<5&4294967295|k>>>27),k=N+(V^I&(x^V))+j[10]+38016083&4294967295,N=x+(k<<9&4294967295|k>>>23),k=I+(x^V&(N^x))+j[15]+3634488961&4294967295,I=N+(k<<14&4294967295|k>>>18),k=V+(N^x&(I^N))+j[4]+3889429448&4294967295,V=I+(k<<20&4294967295|k>>>12),k=x+(I^N&(V^I))+j[9]+568446438&4294967295,x=V+(k<<5&4294967295|k>>>27),k=N+(V^I&(x^V))+j[14]+3275163606&4294967295,N=x+(k<<9&4294967295|k>>>23),k=I+(x^V&(N^x))+j[3]+4107603335&4294967295,I=N+(k<<14&4294967295|k>>>18),k=V+(N^x&(I^N))+j[8]+1163531501&4294967295,V=I+(k<<20&4294967295|k>>>12),k=x+(I^N&(V^I))+j[13]+2850285829&4294967295,x=V+(k<<5&4294967295|k>>>27),k=N+(V^I&(x^V))+j[2]+4243563512&4294967295,N=x+(k<<9&4294967295|k>>>23),k=I+(x^V&(N^x))+j[7]+1735328473&4294967295,I=N+(k<<14&4294967295|k>>>18),k=V+(N^x&(I^N))+j[12]+2368359562&4294967295,V=I+(k<<20&4294967295|k>>>12),k=x+(V^I^N)+j[5]+4294588738&4294967295,x=V+(k<<4&4294967295|k>>>28),k=N+(x^V^I)+j[8]+2272392833&4294967295,N=x+(k<<11&4294967295|k>>>21),k=I+(N^x^V)+j[11]+1839030562&4294967295,I=N+(k<<16&4294967295|k>>>16),k=V+(I^N^x)+j[14]+4259657740&4294967295,V=I+(k<<23&4294967295|k>>>9),k=x+(V^I^N)+j[1]+2763975236&4294967295,x=V+(k<<4&4294967295|k>>>28),k=N+(x^V^I)+j[4]+1272893353&4294967295,N=x+(k<<11&4294967295|k>>>21),k=I+(N^x^V)+j[7]+4139469664&4294967295,I=N+(k<<16&4294967295|k>>>16),k=V+(I^N^x)+j[10]+3200236656&4294967295,V=I+(k<<23&4294967295|k>>>9),k=x+(V^I^N)+j[13]+681279174&4294967295,x=V+(k<<4&4294967295|k>>>28),k=N+(x^V^I)+j[0]+3936430074&4294967295,N=x+(k<<11&4294967295|k>>>21),k=I+(N^x^V)+j[3]+3572445317&4294967295,I=N+(k<<16&4294967295|k>>>16),k=V+(I^N^x)+j[6]+76029189&4294967295,V=I+(k<<23&4294967295|k>>>9),k=x+(V^I^N)+j[9]+3654602809&4294967295,x=V+(k<<4&4294967295|k>>>28),k=N+(x^V^I)+j[12]+3873151461&4294967295,N=x+(k<<11&4294967295|k>>>21),k=I+(N^x^V)+j[15]+530742520&4294967295,I=N+(k<<16&4294967295|k>>>16),k=V+(I^N^x)+j[2]+3299628645&4294967295,V=I+(k<<23&4294967295|k>>>9),k=x+(I^(V|~N))+j[0]+4096336452&4294967295,x=V+(k<<6&4294967295|k>>>26),k=N+(V^(x|~I))+j[7]+1126891415&4294967295,N=x+(k<<10&4294967295|k>>>22),k=I+(x^(N|~V))+j[14]+2878612391&4294967295,I=N+(k<<15&4294967295|k>>>17),k=V+(N^(I|~x))+j[5]+4237533241&4294967295,V=I+(k<<21&4294967295|k>>>11),k=x+(I^(V|~N))+j[12]+1700485571&4294967295,x=V+(k<<6&4294967295|k>>>26),k=N+(V^(x|~I))+j[3]+2399980690&4294967295,N=x+(k<<10&4294967295|k>>>22),k=I+(x^(N|~V))+j[10]+4293915773&4294967295,I=N+(k<<15&4294967295|k>>>17),k=V+(N^(I|~x))+j[1]+2240044497&4294967295,V=I+(k<<21&4294967295|k>>>11),k=x+(I^(V|~N))+j[8]+1873313359&4294967295,x=V+(k<<6&4294967295|k>>>26),k=N+(V^(x|~I))+j[15]+4264355552&4294967295,N=x+(k<<10&4294967295|k>>>22),k=I+(x^(N|~V))+j[6]+2734768916&4294967295,I=N+(k<<15&4294967295|k>>>17),k=V+(N^(I|~x))+j[13]+1309151649&4294967295,V=I+(k<<21&4294967295|k>>>11),k=x+(I^(V|~N))+j[4]+4149444226&4294967295,x=V+(k<<6&4294967295|k>>>26),k=N+(V^(x|~I))+j[11]+3174756917&4294967295,N=x+(k<<10&4294967295|k>>>22),k=I+(x^(N|~V))+j[2]+718787259&4294967295,I=N+(k<<15&4294967295|k>>>17),k=V+(N^(I|~x))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(I+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var V=x-this.blockSize,j=this.B,I=this.h,N=0;N<x;){if(I==0)for(;N<=V;)i(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<x;)if(j[I++]=C.charCodeAt(N++),I==this.blockSize){i(this,j),I=0;break}}else for(;N<x;)if(j[I++]=C[N++],I==this.blockSize){i(this,j),I=0;break}}this.h=I,this.o+=x},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var V=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=V&255,V/=256;for(this.u(C),C=Array(16),x=V=0;4>x;++x)for(var j=0;32>j;j+=8)C[V++]=this.g[x]>>>j&255;return C};function s(C,x){var V=a;return Object.prototype.hasOwnProperty.call(V,C)?V[C]:V[C]=x(C)}function o(C,x){this.h=x;for(var V=[],j=!0,I=C.length-1;0<=I;I--){var N=C[I]|0;j&&N==x||(V[I]=N,j=!1)}this.g=V}var a={};function l(C){return-128<=C&&128>C?s(C,function(x){return new o([x|0],0>x?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return L(u(-C));for(var x=[],V=1,j=0;C>=V;j++)x[j]=C/V|0,V*=4294967296;return new o(x,0)}function h(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return L(h(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=u(Math.pow(x,8)),j=d,I=0;I<C.length;I+=8){var N=Math.min(8,C.length-I),k=parseInt(C.substring(I,I+N),x);8>N?(N=u(Math.pow(x,N)),j=j.j(N).add(u(k))):(j=j.j(V),j=j.add(u(k)))}return j}var d=l(0),g=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(E(this))return-L(this).m();for(var C=0,x=1,V=0;V<this.g.length;V++){var j=this.i(V);C+=(0<=j?j:4294967296+j)*x,x*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(E(this))return"-"+L(this).toString(C);for(var x=u(Math.pow(C,6)),V=this,j="";;){var I=q(V,x).g;V=_(V,I.j(x));var N=((0<V.g.length?V.g[0]:V.h)>>>0).toString(C);if(V=I,S(V))return N+j;for(;6>N.length;)N="0"+N;j=N+j}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function E(C){return C.h==-1}e.l=function(C){return C=_(this,C),E(C)?-1:S(C)?0:1};function L(C){for(var x=C.g.length,V=[],j=0;j<x;j++)V[j]=~C.g[j];return new o(V,~C.h).add(g)}e.abs=function(){return E(this)?L(this):this},e.add=function(C){for(var x=Math.max(this.g.length,C.g.length),V=[],j=0,I=0;I<=x;I++){var N=j+(this.i(I)&65535)+(C.i(I)&65535),k=(N>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);j=k>>>16,N&=65535,k&=65535,V[I]=k<<16|N}return new o(V,V[V.length-1]&-2147483648?-1:0)};function _(C,x){return C.add(L(x))}e.j=function(C){if(S(this)||S(C))return d;if(E(this))return E(C)?L(this).j(L(C)):L(L(this).j(C));if(E(C))return L(this.j(L(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var x=this.g.length+C.g.length,V=[],j=0;j<2*x;j++)V[j]=0;for(j=0;j<this.g.length;j++)for(var I=0;I<C.g.length;I++){var N=this.i(j)>>>16,k=this.i(j)&65535,J=C.i(I)>>>16,_t=C.i(I)&65535;V[2*j+2*I]+=k*_t,b(V,2*j+2*I),V[2*j+2*I+1]+=N*_t,b(V,2*j+2*I+1),V[2*j+2*I+1]+=k*J,b(V,2*j+2*I+1),V[2*j+2*I+2]+=N*J,b(V,2*j+2*I+2)}for(j=0;j<x;j++)V[j]=V[2*j+1]<<16|V[2*j];for(j=x;j<2*x;j++)V[j]=0;return new o(V,0)};function b(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function P(C,x){this.g=C,this.h=x}function q(C,x){if(S(x))throw Error("division by zero");if(S(C))return new P(d,d);if(E(C))return x=q(L(C),x),new P(L(x.g),L(x.h));if(E(x))return x=q(C,L(x)),new P(L(x.g),x.h);if(30<C.g.length){if(E(C)||E(x))throw Error("slowDivide_ only works with positive integers.");for(var V=g,j=x;0>=j.l(C);)V=$(V),j=$(j);var I=Q(V,1),N=Q(j,1);for(j=Q(j,2),V=Q(V,2);!S(j);){var k=N.add(j);0>=k.l(C)&&(I=I.add(V),N=k),j=Q(j,1),V=Q(V,1)}return x=_(C,I.j(x)),new P(I,x)}for(I=d;0<=C.l(x);){for(V=Math.max(1,Math.floor(C.m()/x.m())),j=Math.ceil(Math.log(V)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),N=u(V),k=N.j(x);E(k)||0<k.l(C);)V-=j,N=u(V),k=N.j(x);S(N)&&(N=g),I=I.add(N),C=_(C,k)}return new P(I,C)}e.A=function(C){return q(this,C).h},e.and=function(C){for(var x=Math.max(this.g.length,C.g.length),V=[],j=0;j<x;j++)V[j]=this.i(j)&C.i(j);return new o(V,this.h&C.h)},e.or=function(C){for(var x=Math.max(this.g.length,C.g.length),V=[],j=0;j<x;j++)V[j]=this.i(j)|C.i(j);return new o(V,this.h|C.h)},e.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),V=[],j=0;j<x;j++)V[j]=this.i(j)^C.i(j);return new o(V,this.h^C.h)};function $(C){for(var x=C.g.length+1,V=[],j=0;j<x;j++)V[j]=C.i(j)<<1|C.i(j-1)>>>31;return new o(V,C.h)}function Q(C,x){var V=x>>5;x%=32;for(var j=C.g.length-V,I=[],N=0;N<j;N++)I[N]=0<x?C.i(N+V)>>>x|C.i(N+V+1)<<32-x:C.i(N+V);return new o(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,$a=o}).apply(typeof _4<"u"?_4:typeof self<"u"?self:typeof window<"u"?window:{});var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iE,af,sE,tm,z2,oE,aE,lE;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,T){return f==Array.prototype||f==Object.prototype||(f[w]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ip=="object"&&Ip];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(f,w){if(w)t:{var T=r;f=f.split(".");for(var B=0;B<f.length-1;B++){var rt=f[B];if(!(rt in T))break t;T=T[rt]}f=f[f.length-1],B=T[f],w=w(B),w!=B&&w!=null&&t(T,f,{configurable:!0,writable:!0,value:w})}}function s(f,w){f instanceof String&&(f+="");var T=0,B=!1,rt={next:function(){if(!B&&T<f.length){var ft=T++;return{value:w(ft,f[ft]),done:!1}}return B=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}i("Array.prototype.values",function(f){return f||function(){return s(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function u(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function h(f,w,T){return f.call.apply(f.bind,arguments)}function d(f,w,T){if(!f)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,B),f.apply(w,rt)}}return function(){return f.apply(w,arguments)}}function g(f,w,T){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,g.apply(null,arguments)}function m(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var B=T.slice();return B.push.apply(B,arguments),f.apply(this,B)}}function S(f,w){function T(){}T.prototype=w.prototype,f.aa=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(B,rt,ft){for(var Ct=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)Ct[ye-2]=arguments[ye];return w.prototype[rt].apply(B,Ct)}}function E(f){const w=f.length;if(0<w){const T=Array(w);for(let B=0;B<w;B++)T[B]=f[B];return T}return[]}function L(f,w){for(let T=1;T<arguments.length;T++){const B=arguments[T];if(l(B)){const rt=f.length||0,ft=B.length||0;f.length=rt+ft;for(let Ct=0;Ct<ft;Ct++)f[rt+Ct]=B[Ct]}else f.push(B)}}class _{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(f){return/^[\s\xa0]*$/.test(f)}function P(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function q(f){return q[" "](f),f}q[" "]=function(){};var $=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function Q(f,w,T){for(const B in f)w.call(T,f[B],B,f)}function C(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function x(f){const w={};for(const T in f)w[T]=f[T];return w}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,w){let T,B;for(let rt=1;rt<arguments.length;rt++){B=arguments[rt];for(T in B)f[T]=B[T];for(let ft=0;ft<V.length;ft++)T=V[ft],Object.prototype.hasOwnProperty.call(B,T)&&(f[T]=B[T])}}function I(f){var w=1;f=f.split(":");const T=[];for(;0<w&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function N(f){a.setTimeout(()=>{throw f},0)}function k(){var f=at;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class J{constructor(){this.h=this.g=null}add(w,T){const B=_t.get();B.set(w,T),this.h?this.h.next=B:this.g=B,this.h=B}}var _t=new _(()=>new gt,f=>f.reset());class gt{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,X=!1,at=new J,ut=()=>{const f=a.Promise.resolve(void 0);mt=()=>{f.then(kt)}};var kt=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(T){N(T)}var w=_t;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}X=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};a.addEventListener("test",T,w),a.removeEventListener("test",T,w)}catch{}return f}();function Z(f,w){if(H.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,B=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if($){t:{try{q(w.nodeName);var rt=!0;break t}catch{}rt=!1}rt||(w=null)}}else T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement);this.relatedTarget=w,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:it[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Z.aa.h.call(this)}}S(Z,H);var it={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),yt=0;function vt(f,w,T,B,rt){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!B,this.ha=rt,this.key=++yt,this.da=this.fa=!1}function Ft(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Nt(f){this.src=f,this.g={},this.h=0}Nt.prototype.add=function(f,w,T,B,rt){var ft=f.toString();f=this.g[ft],f||(f=this.g[ft]=[],this.h++);var Ct=jt(f,w,B,rt);return-1<Ct?(w=f[Ct],T||(w.fa=!1)):(w=new vt(w,this.src,ft,!!B,rt),w.fa=T,f.push(w)),w};function zt(f,w){var T=w.type;if(T in f.g){var B=f.g[T],rt=Array.prototype.indexOf.call(B,w,void 0),ft;(ft=0<=rt)&&Array.prototype.splice.call(B,rt,1),ft&&(Ft(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function jt(f,w,T,B){for(var rt=0;rt<f.length;++rt){var ft=f[rt];if(!ft.da&&ft.listener==w&&ft.capture==!!T&&ft.ha==B)return rt}return-1}var ie="closure_lm_"+(1e6*Math.random()|0),xt={};function Y(f,w,T,B,rt){if(B&&B.once)return Lt(f,w,T,B,rt);if(Array.isArray(w)){for(var ft=0;ft<w.length;ft++)Y(f,w[ft],T,B,rt);return null}return T=Ae(T),f&&f[ht]?f.K(w,T,u(B)?!!B.capture:!!B,rt):ge(f,w,T,!1,B,rt)}function ge(f,w,T,B,rt,ft){if(!w)throw Error("Invalid event type");var Ct=u(rt)?!!rt.capture:!!rt,ye=he(f);if(ye||(f[ie]=ye=new Nt(f)),T=ye.add(w,T,B,Ct,ft),T.proxy)return T;if(B=Zt(),T.proxy=B,B.src=f,B.listener=T,f.addEventListener)K||(rt=Ct),rt===void 0&&(rt=!1),f.addEventListener(w.toString(),B,rt);else if(f.attachEvent)f.attachEvent(Ut(w.toString()),B);else if(f.addListener&&f.removeListener)f.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Zt(){function f(T){return w.call(f.src,f.listener,T)}const w=ne;return f}function Lt(f,w,T,B,rt){if(Array.isArray(w)){for(var ft=0;ft<w.length;ft++)Lt(f,w[ft],T,B,rt);return null}return T=Ae(T),f&&f[ht]?f.L(w,T,u(B)?!!B.capture:!!B,rt):ge(f,w,T,!0,B,rt)}function Mt(f,w,T,B,rt){if(Array.isArray(w))for(var ft=0;ft<w.length;ft++)Mt(f,w[ft],T,B,rt);else B=u(B)?!!B.capture:!!B,T=Ae(T),f&&f[ht]?(f=f.i,w=String(w).toString(),w in f.g&&(ft=f.g[w],T=jt(ft,T,B,rt),-1<T&&(Ft(ft[T]),Array.prototype.splice.call(ft,T,1),ft.length==0&&(delete f.g[w],f.h--)))):f&&(f=he(f))&&(w=f.g[w.toString()],f=-1,w&&(f=jt(w,T,B,rt)),(T=-1<f?w[f]:null)&&$t(T))}function $t(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[ht])zt(w.i,f);else{var T=f.type,B=f.proxy;w.removeEventListener?w.removeEventListener(T,B,f.capture):w.detachEvent?w.detachEvent(Ut(T),B):w.addListener&&w.removeListener&&w.removeListener(B),(T=he(w))?(zt(T,f),T.h==0&&(T.src=null,w[ie]=null)):Ft(f)}}}function Ut(f){return f in xt?xt[f]:xt[f]="on"+f}function ne(f,w){if(f.da)f=!0;else{w=new Z(w,this);var T=f.listener,B=f.ha||f.src;f.fa&&$t(f),f=T.call(B,w)}return f}function he(f){return f=f[ie],f instanceof Nt?f:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(f){return typeof f=="function"?f:(f[we]||(f[we]=function(w){return f.handleEvent(w)}),f[we])}function le(){F.call(this),this.i=new Nt(this),this.M=this,this.F=null}S(le,F),le.prototype[ht]=!0,le.prototype.removeEventListener=function(f,w,T,B){Mt(this,f,w,T,B)};function be(f,w){var T,B=f.F;if(B)for(T=[];B;B=B.F)T.push(B);if(f=f.M,B=w.type||w,typeof w=="string")w=new H(w,f);else if(w instanceof H)w.target=w.target||f;else{var rt=w;w=new H(B,f),j(w,rt)}if(rt=!0,T)for(var ft=T.length-1;0<=ft;ft--){var Ct=w.g=T[ft];rt=oe(Ct,B,!0,w)&&rt}if(Ct=w.g=f,rt=oe(Ct,B,!0,w)&&rt,rt=oe(Ct,B,!1,w)&&rt,T)for(ft=0;ft<T.length;ft++)Ct=w.g=T[ft],rt=oe(Ct,B,!1,w)&&rt}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var T=f.g[w],B=0;B<T.length;B++)Ft(T[B]);delete f.g[w],f.h--}}this.F=null},le.prototype.K=function(f,w,T,B){return this.i.add(String(f),w,!1,T,B)},le.prototype.L=function(f,w,T,B){return this.i.add(String(f),w,!0,T,B)};function oe(f,w,T,B){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var rt=!0,ft=0;ft<w.length;++ft){var Ct=w[ft];if(Ct&&!Ct.da&&Ct.capture==T){var ye=Ct.listener,ze=Ct.ha||Ct.src;Ct.fa&&zt(f.i,Ct),rt=ye.call(ze,B)!==!1&&rt}}return rt&&!B.defaultPrevented}function Ee(f,w,T){if(typeof f=="function")T&&(f=g(f,T));else if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(f,w||0)}function Wt(f){f.g=Ee(()=>{f.g=null,f.i&&(f.i=!1,Wt(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Qn extends F{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(f){F.call(this),this.h=f,this.g={}}S(Ie,F);var Hr=[];function Oe(f){Q(f.g,function(w,T){this.g.hasOwnProperty(T)&&$t(w)},f),f.g={}}Ie.prototype.N=function(){Ie.aa.N.call(this),Oe(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ke=a.JSON.stringify,Di=a.JSON.parse,Fe=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function ss(){}ss.prototype.h=null;function on(f){return f.h||(f.h=f.i())}function Wr(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function en(){H.call(this,"d")}S(en,H);function fe(){H.call(this,"c")}S(fe,H);var Pe={},ks=null;function xn(){return ks=ks||new le}Pe.La="serverreachability";function hi(f){H.call(this,Pe.La,f)}S(hi,H);function fr(f){const w=xn();be(w,new hi(w))}Pe.STAT_EVENT="statevent";function se(f,w){H.call(this,Pe.STAT_EVENT,f),this.stat=w}S(se,H);function Xe(f){const w=xn();be(w,new se(w,f))}Pe.Ma="timingevent";function fi(f,w){H.call(this,Pe.Ma,f),this.size=w}S(fi,H);function On(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},w)}function an(){this.g=!0}an.prototype.xa=function(){this.g=!1};function An(f,w,T,B,rt,ft){f.info(function(){if(f.g)if(ft)for(var Ct="",ye=ft.split("&"),ze=0;ze<ye.length;ze++){var ve=ye[ze].split("=");if(1<ve.length){var Je=ve[0];ve=ve[1];var Nn=Je.split("_");Ct=2<=Nn.length&&Nn[1]=="type"?Ct+(Je+"="+ve+"&"):Ct+(Je+"=redacted&")}}else Ct=null;else Ct=ft;return"XMLHTTP REQ ("+B+") [attempt "+rt+"]: "+w+`
`+T+`
`+Ct})}function Lr(f,w,T,B,rt,ft,Ct){f.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+rt+"]: "+w+`
`+T+`
`+ft+" "+Ct})}function di(f,w,T,B){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+pi(f,T)+(B?" "+B:"")})}function os(f,w){f.info(function(){return"TIMEOUT: "+w})}an.prototype.info=function(){};function pi(f,w){if(!f.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var B=T[f];if(!(2>B.length)){var rt=B[1];if(Array.isArray(rt)&&!(1>rt.length)){var ft=rt[0];if(ft!="noop"&&ft!="stop"&&ft!="close")for(var Ct=1;Ct<rt.length;Ct++)rt[Ct]=""}}}}return Ke(T)}catch{return w}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function nr(){}S(nr,ss),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},Kr=new nr;function $n(f,w,T,B){this.j=f,this.i=w,this.l=T,this.R=B||1,this.U=new Ie(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rs}function Rs(){this.i=null,this.g="",this.h=!1}var io={},Ds={};function Vs(f,w,T){f.L=1,f.v=Qo(Yr(w)),f.m=T,f.P=!0,so(f,null)}function so(f,w){f.F=Date.now(),Ho(f),f.A=Yr(f.v);var T=f.A,B=f.R;Array.isArray(B)||(B=[String(B)]),Cu(T.i,"t",B),f.C=0,T=f.j.J,f.h=new Rs,f.g=G(f.j,T?w:null,!f.m),0<f.O&&(f.M=new Qn(g(f.Y,f,f.g),f.O)),w=f.U,T=f.g,B=f.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(Hr[0]=rt.toString()),rt=Hr);for(var ft=0;ft<rt.length;ft++){var Ct=Y(T,rt[ft],B||w.handleEvent,!1,w.h||w);if(!Ct)break;w.g[Ct.key]=Ct}w=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),fr(),An(f.i,f.u,f.A,f.l,f.R,f.m)}$n.prototype.ca=function(f){f=f.target;const w=this.M;w&&vi(f)==3?w.j():this.Y(f)},$n.prototype.Y=function(f){try{if(f==this.g)t:{const Nn=vi(this.g);var w=this.g.Ba();const Bi=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||cs(this.g)))){this.J||Nn!=4||w==7||(w==8||0>=Bi?fr(3):fr(2)),Wo(this);var T=this.g.Z();this.X=T;e:if(hl(this)){var B=cs(this.g);f="";var rt=B.length,ft=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),ao(this);var Ct="";break e}this.h.i=new a.TextDecoder}for(w=0;w<rt;w++)this.h.h=!0,f+=this.h.i.decode(B[w],{stream:!(ft&&w==rt-1)});B.length=0,this.h.g+=f,this.C=0,Ct=this.h.g}else Ct=this.g.oa();if(this.o=T==200,Lr(this.i,this.u,this.A,this.l,this.R,Nn,T),this.o){if(this.T&&!this.K){e:{if(this.g){var ye,ze=this.g;if((ye=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ye)){var ve=ye;break e}}ve=null}if(T=ve)di(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fl(this,T);else{this.o=!1,this.s=3,Xe(12),mi(this),ao(this);break t}}if(this.P){T=!0;let rr;for(;!this.J&&this.C<Ct.length;)if(rr=Ah(this,Ct),rr==Ds){Nn==4&&(this.s=4,Xe(14),T=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==io){this.s=4,Xe(15),di(this.i,this.l,Ct,"[Invalid Chunk]"),T=!1;break}else di(this.i,this.l,rr,null),fl(this,rr);if(hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||Ct.length!=0||this.h.h||(this.s=1,Xe(16),T=!1),this.o=this.o&&T,!T)di(this.i,this.l,Ct,"[Invalid Chunked Response]"),mi(this),ao(this);else if(0<Ct.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+Ct.length),Sl(Je),Je.M=!0,Xe(11))}}else di(this.i,this.l,Ct,null),fl(this,Ct);Nn==4&&mi(this),this.o&&!this.J&&(Nn==4?sa(this.j,this):(this.o=!1,Ho(this)))}else wi(this.g),T==400&&0<Ct.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),mi(this),ao(this)}}}catch{}finally{}};function hl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ah(f,w){var T=f.C,B=w.indexOf(`
`,T);return B==-1?Ds:(T=Number(w.substring(T,B)),isNaN(T)?io:(B+=1,B+T>w.length?Ds:(w=w.slice(B,B+T),f.C=B+T,w)))}$n.prototype.cancel=function(){this.J=!0,mi(this)};function Ho(f){f.S=Date.now()+f.I,oo(f,f.I)}function oo(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=On(g(f.ba,f),w)}function Wo(f){f.B&&(a.clearTimeout(f.B),f.B=null)}$n.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(os(this.i,this.A),this.L!=2&&(fr(),Xe(17)),mi(this),this.s=2,ao(this)):oo(this,this.S-f)};function ao(f){f.j.G==0||f.J||sa(f.j,f)}function mi(f){Wo(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Oe(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function fl(f,w){try{var T=f.j;if(T.G!=0&&(T.g==f||ln(T.h,f))){if(!f.K&&ln(T.h,f)&&T.G==3){try{var B=T.Da.g.parse(w)}catch{B=null}if(Array.isArray(B)&&B.length==3){var rt=B;if(rt[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)ji(T),fs(T);else break t;ia(T),Xe(18)}}else T.za=rt[1],0<T.za-T.T&&37500>rt[2]&&T.F&&T.v==0&&!T.C&&(T.C=On(g(T.Za,T),6e3));if(1>=Eu(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else _i(T,11)}else if((f.K||T.g==f)&&ji(T),!b(w))for(rt=T.Da.g.parse(w),w=0;w<rt.length;w++){let ve=rt[w];if(T.T=ve[0],ve=ve[1],T.G==2)if(ve[0]=="c"){T.K=ve[1],T.ia=ve[2];const Je=ve[3];Je!=null&&(T.la=Je,T.j.info("VER="+T.la));const Nn=ve[4];Nn!=null&&(T.Aa=Nn,T.j.info("SVER="+T.Aa));const Bi=ve[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(B=1.5*Bi,T.L=B,T.j.info("backChannelRequestTimeoutMs_="+B)),B=T;const rr=f.g;if(rr){const ps=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var ft=B.h;ft.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(ft.j=ft.l,ft.g=new Set,ft.h&&(Go(ft,ft.h),ft.h=null))}if(B.D){const po=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(B.ya=po,je(B.I,B.D,po))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),B=T;var Ct=f;if(B.qa=R(B,B.J?B.ia:null,B.W),Ct.K){dl(B.h,Ct);var ye=Ct,ze=B.L;ze&&(ye.I=ze),ye.B&&(Wo(ye),Ho(ye)),B.g=Ct}else ra(B);0<T.i.length&&Os(T)}else ve[0]!="stop"&&ve[0]!="close"||_i(T,7);else T.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?_i(T,7):bl(T):ve[0]!="noop"&&T.l&&T.l.ta(ve),T.v=0)}}fr(4)}catch{}}var Au=class{constructor(f,w){this.g=f,this.map=w}};function Su(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Eu(f){return f.h?1:f.g?f.g.size:0}function ln(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function Go(f,w){f.g?f.g.add(w):f.h=w}function dl(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Su.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function pl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.D);return w}return E(f.i)}function ml(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var w=[],T=f.length,B=0;B<T;B++)w.push(f[B]);return w}w=[],T=0;for(B in f)w[T++]=f[B];return w}function Sh(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var w=[];f=f.length;for(var T=0;T<f;T++)w.push(T);return w}w=[],T=0;for(const B in f)w[T++]=B;return w}}}function Qr(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var T=Sh(f),B=ml(f),rt=B.length,ft=0;ft<rt;ft++)w.call(void 0,B[ft],T&&T[ft],f)}var uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pr(f,w){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var B=f[T].indexOf("="),rt=null;if(0<=B){var ft=f[T].substring(0,B);rt=f[T].substring(B+1)}else ft=f[T];w(ft,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function gi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof gi){this.h=f.h,Ko(this,f.j),this.o=f.o,this.g=f.g,co(this,f.s),this.l=f.l;var w=f.i,T=new Sn;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Tu(this,T),this.m=f.m}else f&&(w=String(f).match(uo))?(this.h=!1,Ko(this,w[1]||"",!0),this.o=as(w[2]||""),this.g=as(w[3]||"",!0),co(this,w[4]),this.l=as(w[5]||"",!0),Tu(this,w[6]||"",!0),this.m=as(w[7]||"")):(this.h=!1,this.i=new Sn(null,this.h))}gi.prototype.toString=function(){var f=[],w=this.j;w&&f.push(ho(w,Iu,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(ho(w,Iu,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ho(T,T.charAt(0)=="/"?Yo:ls,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ho(T,Pu)),f.join("")};function Yr(f){return new gi(f)}function Ko(f,w,T){f.j=T?as(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function co(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Tu(f,w,T){w instanceof Sn?(f.i=w,Fi(f.i,f.h)):(T||(w=ho(w,Xo)),f.i=new Sn(w,f.h))}function je(f,w,T){f.i.set(w,T)}function Qo(f){return je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function as(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ho(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,Eh),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Eh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Iu=/[#\/\?@]/g,ls=/[#\?:]/g,Yo=/[#\?]/g,Xo=/[#\?@]/g,Pu=/#/g;function Sn(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Vi(f){f.g||(f.g=new Map,f.h=0,f.i&&pr(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}e=Sn.prototype,e.add=function(f,w){Vi(this),this.i=null,f=Fs(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function gl(f,w){Vi(f),w=Fs(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function de(f,w){return Vi(f),w=Fs(f,w),f.g.has(w)}e.forEach=function(f,w){Vi(this),this.g.forEach(function(T,B){T.forEach(function(rt){f.call(w,rt,B,this)},this)},this)},e.na=function(){Vi(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let B=0;B<w.length;B++){const rt=f[B];for(let ft=0;ft<rt.length;ft++)T.push(w[B])}return T},e.V=function(f){Vi(this);let w=[];if(typeof f=="string")de(this,f)&&(w=w.concat(this.g.get(Fs(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)w=w.concat(f[T])}return w},e.set=function(f,w){return Vi(this),this.i=null,f=Fs(this,f),de(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},e.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function Cu(f,w,T){gl(f,w),0<T.length&&(f.i=null,f.g.set(Fs(f,w),E(T)),f.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var B=w[T];const ft=encodeURIComponent(String(B)),Ct=this.V(B);for(B=0;B<Ct.length;B++){var rt=ft;Ct[B]!==""&&(rt+="="+encodeURIComponent(String(Ct[B]))),f.push(rt)}}return this.i=f.join("&")};function Fs(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Fi(f,w){w&&!f.j&&(Vi(f),f.i=null,f.g.forEach(function(T,B){var rt=B.toLowerCase();B!=rt&&(gl(this,B),Cu(this,rt,T))},f)),f.j=w}function Nu(f,w){const T=new an;if(a.Image){const B=new Image;B.onload=m(kr,T,"TestLoadImage: loaded",!0,w,B),B.onerror=m(kr,T,"TestLoadImage: error",!1,w,B),B.onabort=m(kr,T,"TestLoadImage: abort",!1,w,B),B.ontimeout=m(kr,T,"TestLoadImage: timeout",!1,w,B),a.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=f}else w(!1)}function Lu(f,w){const T=new an,B=new AbortController,rt=setTimeout(()=>{B.abort(),kr(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:B.signal}).then(ft=>{clearTimeout(rt),ft.ok?kr(T,"TestPingServer: ok",!0,w):kr(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(rt),kr(T,"TestPingServer: error",!1,w)})}function kr(f,w,T,B,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),B(T)}catch{}}function yl(){this.g=new Fe}function Th(f,w,T){const B=T||"";try{Qr(f,function(rt,ft){let Ct=rt;u(rt)&&(Ct=Ke(rt)),w.push(B+ft+"="+encodeURIComponent(Ct))})}catch(rt){throw w.push(B+"type="+encodeURIComponent("_badmap")),rt}}function Jo(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Jo,ss),Jo.prototype.g=function(){return new Zo(this.l,this.j)},Jo.prototype.i=function(f){return function(){return f}}({});function Zo(f,w){le.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Zo,le),e=Zo.prototype,e.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Xr(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ta(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ta(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?yi(this):Xr(this),this.readyState==3&&ta(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,yi(this))},e.Qa=function(f){this.g&&(this.response=f,yi(this))},e.ga=function(){this.g&&yi(this)};function yi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Xr(f)}e.setRequestHeader=function(f,w){this.u.append(f,w)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function Xr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ku(f){let w="";return Q(f,function(T,B){w+=B,w+=":",w+=T,w+=`\r
`}),w}function us(f,w,T){t:{for(B in T){var B=!1;break t}B=!0}B||(T=ku(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):je(f,w,T))}function Qe(f){le.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Qe,le);var ea=/^https?$/i,Ru=["POST","PUT"];e=Qe.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,w,T,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?on(this.o):on(Kr),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ft){vl(this,ft);return}if(f=T||"",T=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var rt in B)T.set(rt,B[rt]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ft of B.keys())T.set(ft,B.get(ft));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(T.keys()).find(ft=>ft.toLowerCase()=="content-type"),rt=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ru,w,void 0))||B||rt||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ft,Ct]of T)this.g.setRequestHeader(ft,Ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mi(this),this.u=!0,this.g.send(f),this.u=!1}catch(ft){vl(this,ft)}};function vl(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,wl(f),Rr(f)}function wl(f){f.A||(f.A=!0,be(f,"complete"),be(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,be(this,"complete"),be(this,"abort"),Rr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),Qe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?_l(this):this.bb())},e.bb=function(){_l(this)};function _l(f){if(f.h&&typeof o<"u"&&(!f.v[1]||vi(f)!=4||f.Z()!=2)){if(f.u&&vi(f)==4)Ee(f.Ea,0,f);else if(be(f,"readystatechange"),vi(f)==4){f.h=!1;try{const Ct=f.Z();t:switch(Ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var T;if(!(T=w)){var B;if(B=Ct===0){var rt=String(f.D).match(uo)[1]||null;!rt&&a.self&&a.self.location&&(rt=a.self.location.protocol.slice(0,-1)),B=!ea.test(rt?rt.toLowerCase():"")}T=B}if(T)be(f,"complete"),be(f,"success");else{f.m=6;try{var ft=2<vi(f)?f.g.statusText:""}catch{ft=""}f.l=ft+" ["+f.Z()+"]",wl(f)}}finally{Rr(f)}}}}function Rr(f,w){if(f.g){Mi(f);const T=f.g,B=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||be(f,"ready");try{T.onreadystatechange=B}catch{}}}function Mi(f){f.I&&(a.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function vi(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Di(w)}};function cs(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(f){const w={};f=(f.g&&2<=vi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<f.length;B++){if(b(f[B]))continue;var T=I(f[B]);const rt=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ft=w[rt]||[];w[rt]=ft,ft.push(T)}C(w,function(B){return B.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function Ms(f){this.Aa=0,this.i=[],this.j=new an,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,f),this.cb=hs("retryDelaySeedMs",1e4,f),this.Wa=hs("forwardChannelMaxRetries",2,f),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Su(f&&f.concurrentRequestLimit),this.Da=new yl,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ms.prototype,e.la=8,e.G=1,e.connect=function(f,w,T,B){Xe(0),this.W=f,this.H=w||{},T&&B!==void 0&&(this.H.OSID=T,this.H.OAID=B),this.F=this.X,this.I=R(this,null,this.W),Os(this)};function bl(f){if(Du(f),f.G==3){var w=f.U++,T=Yr(f.I);if(je(T,"SID",f.K),je(T,"RID",w),je(T,"TYPE","terminate"),Oi(f,T),w=new $n(f,f.j,w),w.L=2,w.v=Qo(Yr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=w.v,T=!0),T||(w.g=G(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ho(w)}y(f)}function fs(f){f.g&&(Sl(f),f.g.cancel(),f.g=null)}function Du(f){fs(f),f.u&&(a.clearTimeout(f.u),f.u=null),ji(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Os(f){if(!lo(f.h)&&!f.s){f.s=!0;var w=f.Ga;mt||ut(),X||(mt(),X=!0),at.add(w,f),f.B=0}}function xl(f,w){return Eu(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=On(g(f.Ga,f,w),ds(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const rt=new $n(this,this.j,f);let ft=this.o;if(this.S&&(ft?(ft=x(ft),j(ft,this.S)):ft=this.S),this.m!==null||this.O||(rt.H=ft,ft=null),this.P)t:{for(var w=0,T=0;T<this.i.length;T++){e:{var B=this.i[T];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break e}B=void 0}if(B===void 0)break;if(w+=B,4096<w){w=T;break t}if(w===4096||T===this.i.length-1){w=T+1;break t}}w=1e3}else w=1e3;w=na(this,rt,w),T=Yr(this.I),je(T,"RID",f),je(T,"CVER",22),this.D&&je(T,"X-HTTP-Session-Id",this.D),Oi(this,T),ft&&(this.O?w="headers="+encodeURIComponent(String(ku(ft)))+"&"+w:this.m&&us(T,this.m,ft)),Go(this.h,rt),this.Ua&&je(T,"TYPE","init"),this.P?(je(T,"$req",w),je(T,"SID","null"),rt.T=!0,Vs(rt,T,null)):Vs(rt,T,w),this.G=2}}else this.G==3&&(f?Al(this,f):this.i.length==0||lo(this.h)||Al(this))};function Al(f,w){var T;w?T=w.l:T=f.U++;const B=Yr(f.I);je(B,"SID",f.K),je(B,"RID",T),je(B,"AID",f.T),Oi(f,B),f.m&&f.o&&us(B,f.m,f.o),T=new $n(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),w&&(f.i=w.D.concat(f.i)),w=na(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Go(f.h,T),Vs(T,B,w)}function Oi(f,w){f.H&&Q(f.H,function(T,B){je(w,B,T)}),f.l&&Qr({},function(T,B){je(w,B,T)})}function na(f,w,T){T=Math.min(f.i.length,T);var B=f.l?g(f.l.Na,f.l,f):null;t:{var rt=f.i;let ft=-1;for(;;){const Ct=["count="+T];ft==-1?0<T?(ft=rt[0].g,Ct.push("ofs="+ft)):ft=0:Ct.push("ofs="+ft);let ye=!0;for(let ze=0;ze<T;ze++){let ve=rt[ze].g;const Je=rt[ze].map;if(ve-=ft,0>ve)ft=Math.max(0,rt[ze].g-100),ye=!1;else try{Th(Je,Ct,"req"+ve+"_")}catch{B&&B(Je)}}if(ye){B=Ct.join("&");break t}}}return f=f.i.splice(0,T),w.D=f,B}function ra(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;mt||ut(),X||(mt(),X=!0),at.add(w,f),f.v=0}}function ia(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=On(g(f.Fa,f),ds(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,fo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=On(g(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),fs(this),fo(this))};function Sl(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function fo(f){f.g=new $n(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Yr(f.qa);je(w,"RID","rpc"),je(w,"SID",f.K),je(w,"AID",f.T),je(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&je(w,"TO",f.ja),je(w,"TYPE","xmlhttp"),Oi(f,w),f.m&&f.o&&us(w,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Qo(Yr(w)),T.m=null,T.P=!0,so(T,f)}e.Za=function(){this.C!=null&&(this.C=null,fs(this),ia(this),Xe(19))};function ji(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function sa(f,w){var T=null;if(f.g==w){ji(f),Sl(f),f.g=null;var B=2}else if(ln(f.h,w))T=w.D,dl(f.h,w),B=1;else return;if(f.G!=0){if(w.o)if(B==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var rt=f.B;B=xn(),be(B,new fi(B,T)),Os(f)}else ra(f);else if(rt=w.s,rt==3||rt==0&&0<w.X||!(B==1&&xl(f,w)||B==2&&ia(f)))switch(T&&0<T.length&&(w=f.h,w.i=w.i.concat(T)),rt){case 1:_i(f,5);break;case 4:_i(f,10);break;case 3:_i(f,6);break;default:_i(f,2)}}}function ds(f,w){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*w}function _i(f,w){if(f.j.info("Error code "+w),w==2){var T=g(f.fb,f),B=f.Xa;const rt=!B;B=new gi(B||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ko(B,"https"),Qo(B),rt?Nu(B.toString(),T):Lu(B.toString(),T)}else Xe(2);f.G=0,f.l&&f.l.sa(w),y(f),Du(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function y(f){if(f.G=0,f.ka=[],f.l){const w=pl(f.h);(w.length!=0||f.i.length!=0)&&(L(f.ka,w),L(f.ka,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.ra()}}function R(f,w,T){var B=T instanceof gi?Yr(T):new gi(T);if(B.g!="")w&&(B.g=w+"."+B.g),co(B,B.s);else{var rt=a.location;B=rt.protocol,w=w?w+"."+rt.hostname:rt.hostname,rt=+rt.port;var ft=new gi(null);B&&Ko(ft,B),w&&(ft.g=w),rt&&co(ft,rt),T&&(ft.l=T),B=ft}return T=f.D,w=f.ya,T&&w&&je(B,T,w),je(B,"VER",f.la),Oi(f,B),B}function G(f,w,T){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Qe(new Jo({eb:T})):new Qe(f.pa),w.Ha(f.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function tt(){}e=tt.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function lt(){}lt.prototype.g=function(f,w){return new wt(f,w)};function wt(f,w){le.call(this),this.g=new Ms(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!b(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!b(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new te(this)}S(wt,le),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){bl(this.g)},wt.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Ke(f),f=T);w.i.push(new Au(w.Ya++,f)),w.G==3&&Os(w)},wt.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,wt.aa.N.call(this)};function Pt(f){en.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){t:{for(const T in w){f=T;break t}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}S(Pt,en);function Gt(){fe.call(this),this.status=1}S(Gt,fe);function te(f){this.g=f}S(te,tt),te.prototype.ua=function(){be(this.g,"a")},te.prototype.ta=function(f){be(this.g,new Pt(f))},te.prototype.sa=function(f){be(this.g,new Gt)},te.prototype.ra=function(){be(this.g,"b")},lt.prototype.createWebChannel=lt.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,lE=function(){return new lt},aE=function(){return xn()},oE=Pe,z2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,tm=dr,Gr.COMPLETE="complete",sE=Gr,Wr.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",le.prototype.listen=le.prototype.K,af=Wr,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,iE=Qe}).apply(typeof Ip<"u"?Ip:typeof self<"u"?self:typeof window<"u"?window:{});const b4="@firebase/firestore",x4="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new XS("@firebase/firestore");function rc(){return cu.logLevel}function Rt(e,...t){if(cu.logLevel<=Re.DEBUG){const n=t.map(Gv);cu.debug(`Firestore (${gh}): ${e}`,...n)}}function Or(e,...t){if(cu.logLevel<=Re.ERROR){const n=t.map(Gv);cu.error(`Firestore (${gh}): ${e}`,...n)}}function hu(e,...t){if(cu.logLevel<=Re.WARN){const n=t.map(Gv);cu.warn(`Firestore (${gh}): ${e}`,...n)}}function Gv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,uE(e,r,n)}function uE(e,t,n){let r=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Or(r),new Error(r)}function ee(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||uE(t,i,r)}function _e(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qt extends mh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(lr.UNAUTHENTICATED))}shutdown(){}}class k8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R8{constructor(t){this.t=t,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ee(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new No;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new No,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new No)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string",31837,{l:r}),new cE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new lr(t)}}class D8{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V8{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new D8(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A4{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F8{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,p8(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ee(this.o===void 0,3512);const r=s=>{s.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Rt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new A4(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=M8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function me(e,t){return e<t?-1:e>t?1:0}function U2(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return me(r,i);{const s=hE(),o=O8(s.encode(S4(e,n)),s.encode(S4(t,n)));return o!==0?o:me(r,i)}}n+=r>65535?2:1}return me(e.length,t.length)}function S4(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function O8(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return me(e[n],t[n]);return me(e.length,t.length)}function Yc(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}function dE(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=-62135596800,T4=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(t){return wn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*T4);return new wn(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new qt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<E4)throw new qt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T4}_compareTo(t){return this.seconds===t.seconds?me(this.nanoseconds,t.nanoseconds):me(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-E4;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(t){return new re(t)}static min(){return new re(new wn(0,0))}static max(){return new re(new wn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="__name__";class qs{constructor(t,n,r){n===void 0?n=0:n>t.length&&Jt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Jt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return qs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=qs.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return me(t.length,n.length)}static compareSegments(t,n){const r=qs.isNumericId(t),i=qs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?qs.extractNumericId(t).compare(qs.extractNumericId(n)):U2(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $a.fromString(t.substring(4,t.length-2))}}class Be extends qs{construct(t,n,r){return new Be(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new qt(At.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const j8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends qs{construct(t,n,r){return new gn(t,n,r)}static isValidIdentifier(t){return j8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I4}static keyField(){return new gn([I4])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new qt(At.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new qt(At.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new qt(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new qt(At.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.path=t}static fromPath(t){return new Kt(Be.fromString(t))}static fromName(t){return new Kt(Be.fromString(t).popFirst(5))}static empty(){return new Kt(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Be.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Be.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Kt(new Be(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;class Km{constructor(t,n,r,i){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}}function q2(e){return e.fields.find(t=>t.kind===2)}function Fl(e){return e.fields.filter(t=>t.kind!==2)}Km.UNKNOWN_ID=-1;class em{constructor(t,n){this.fieldPath=t,this.kind=n}}class nd{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new nd(0,Li.min())}}function B8(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new wn(n+1,0):new wn(n,r));return new Li(i,Kt.empty(),t)}function pE(e){return new Li(e.readTime,e.key,ed)}class Li{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(re.min(),Kt.empty(),ed)}static max(){return new Li(re.max(),Kt.empty(),ed)}}function Kv(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Kt.comparator(e.documentKey,t.documentKey),n!==0?n:me(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(e){if(e.code!==At.FAILED_PRECONDITION||e.message!==mE)throw e;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ct((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ct?n:ct.resolve(n)}catch(n){return ct.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.reject(n)}static resolve(t){return new ct((n,r)=>{n(t)})}static reject(t){return new ct((n,r)=>{r(t)})}static waitFor(t){return new ct((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=ct.resolve(!1);for(const r of t)n=n.next(i=>i?ct.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new ct((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(t,n){return new ct((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="SimpleDb";class zg{static open(t,n,r,i){try{return new zg(n,t.transaction(i,r))}catch(s){throw new Af(n,s)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new No,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Af(t,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Qv(r.target.error);this.S.reject(new Af(t,i))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(Rt(Ei,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new U8(n)}}class Ha{static delete(t){return Rt(Ei,"Removing database:",t),Bl(HS().indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!QS())return!1;if(Ha.F())return!0;const t=$m(),n=Ha.M(t),r=0<n&&n<10,i=yE(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static F(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.O)==="YES"}static N(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.B=r,this.L=null,Ha.M($m())===12.2&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(t){return this.db||(Rt(Ei,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Af(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new qt(At.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new qt(At.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Af(t,o))},i.onupgradeneeded=s=>{Rt(Ei,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${o.version}`);this.B.q(o,i.transaction,s.oldVersion,this.version).next(()=>{Rt(Ei,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=n=>this.$(n)),this.db}U(t){this.$=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(t);const a=zg.open(this.db,t,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.v(),u)).catch(u=>(a.abort(u),ct.reject(u))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(Rt(Ei,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function yE(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class z8{constructor(t){this.K=t,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(t){this.K=t}done(){this.W=!0}H(t){this.G=t}delete(){return Bl(this.K.delete())}}class Af extends qt{constructor(t,n){super(At.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function al(e){return e.name==="IndexedDbTransactionError"}class U8{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(Rt(Ei,"PUT",this.store.name,t,n),r=this.store.put(n,t)):(Rt(Ei,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Bl(r)}add(t){return Rt(Ei,"ADD",this.store.name,t,t),Bl(this.store.add(t))}get(t){return Bl(this.store.get(t)).next(n=>(n===void 0&&(n=null),Rt(Ei,"GET",this.store.name,t,n),n))}delete(t){return Rt(Ei,"DELETE",this.store.name,t),Bl(this.store.delete(t))}count(){return Rt(Ei,"COUNT",this.store.name),Bl(this.store.count())}J(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ct((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.Y(s,(a,l)=>{o.push(l)}).next(()=>o)}}Z(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new ct((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}X(t,n){Rt(Ei,"DELETE ALL",this.store.name);const r=this.options(t,n);r.ee=!1;const i=this.cursor(r);return this.Y(i,(s,o,a)=>a.delete())}te(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.Y(i,n)}ne(t){const n=this.cursor({});return new ct((r,i)=>{n.onerror=s=>{const o=Qv(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}Y(t,n){const r=[];return new ct((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new z8(a),u=n(a.primaryKey,a.value,l);if(u instanceof ct){const h=u.catch(d=>(l.done(),ct.reject(d)));r.push(h)}l.isDone?i():l.j===null?a.continue():a.continue(l.j)}}).next(()=>ct.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.ee?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Bl(e){return new ct((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=Qv(r.target.error);n(i)}})}let P4=!1;function Qv(e){const t=Ha.M($m());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new qt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return P4||(P4=!0,setTimeout(()=>{throw r},0)),r}}return e}const Sf="IndexBackfiller";class q8{constructor(t,n){this.asyncQueue=t,this.re=n,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(t){Rt(Sf,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{const n=await this.re.se();Rt(Sf,`Documents written: ${n}`)}catch(n){al(n)?Rt(Sf,"Ignoring IndexedDB error during index backfill: ",n):await _u(n)}await this.ie(6e4)})}}class $8{constructor(t,n){this.localStore=t,this.persistence=n}async se(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.oe(n,t))}oe(t,n){const r=new Set;let i=n,s=!0;return ct.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(o!==null&&!r.has(o))return Rt(Sf,`Processing collection: ${o}`),this._e(t,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}_e(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next(i=>this.localStore.localDocuments.getNextDocuments(t,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ae(i,s)).next(a=>(Rt(Sf,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,n,a))).next(()=>o.size)}))}ae(t,n){let r=t;return n.changes.forEach((i,s)=>{const o=pE(s);Kv(o,r)>0&&(r=o)}),new Li(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Zi.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function Ug(e){return e==null}function rd(e){return e===0&&1/e==-1/0}function H8(e){return typeof e=="number"&&Number.isInteger(e)&&!rd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="";function Pr(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=C4(t)),t=W8(e.get(n),t);return C4(t)}function W8(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case Qm:n+="";break;default:n+=s}}return n}function C4(e){return e+Qm+""}function Ws(e){const t=e.length;if(ee(t>=2,64408,{path:e}),t===2)return ee(e.charAt(0)===Qm&&e.charAt(1)==="",56145,{path:e}),Be.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const o=e.indexOf(Qm,s);switch((o<0||o>n)&&Jt(50515,{path:e}),e.charAt(o+1)){case"":const a=e.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=e.substring(s,o),i+="\0";break;case"":i+=e.substring(s,o+1);break;default:Jt(61167,{path:e})}s=o+2}return new Be(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="remoteDocuments",Pd="owner",Qu="owner",id="mutationQueues",G8="userId",Ss="mutations",N4="batchId",Kl="userMutationsIndex",L4=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(e,t){return[e,Pr(t)]}function vE(e,t,n){return[e,Pr(t),n]}const K8={},Xc="documentMutations",Ym="remoteDocumentsV14",Q8=["prefixPath","collectionGroup","readTime","documentId"],rm="documentKeyIndex",Y8=["prefixPath","collectionGroup","documentId"],wE="collectionGroupIndex",X8=["collectionGroup","readTime","prefixPath","documentId"],sd="remoteDocumentGlobal",$2="remoteDocumentGlobalKey",Jc="targets",_E="queryTargetsIndex",J8=["canonicalId","targetId"],Zc="targetDocuments",Z8=["targetId","path"],Yv="documentTargetsIndex",tR=["path","targetId"],Xm="targetGlobalKey",tu="targetGlobal",od="collectionParents",eR=["collectionId","parent"],th="clientMetadata",nR="clientId",qg="bundles",rR="bundleId",$g="namedQueries",iR="name",Xv="indexConfiguration",sR="indexId",H2="collectionGroupIndex",oR="collectionGroup",Jm="indexState",aR=["indexId","uid"],bE="sequenceNumberIndex",lR=["uid","sequenceNumber"],Zm="indexEntries",uR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xE="documentKeyIndex",cR=["indexId","uid","orderedDocumentKey"],Hg="documentOverlays",hR=["userId","collectionPath","documentId"],W2="collectionPathOverlayIndex",fR=["userId","collectionPath","largestBatchId"],AE="collectionGroupOverlayIndex",dR=["userId","collectionGroup","largestBatchId"],Jv="globals",pR="name",SE=[id,Ss,Xc,Ml,Jc,Pd,tu,Zc,th,sd,od,qg,$g],mR=[...SE,Hg],EE=[id,Ss,Xc,Ym,Jc,Pd,tu,Zc,th,sd,od,qg,$g,Hg],TE=EE,Zv=[...TE,Xv,Jm,Zm],gR=Zv,yR=[...Zv,Jv];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2 extends gE{constructor(t,n){super(),this.he=t,this.currentSequenceNumber=n}}function Kn(e,t){const n=_e(e);return Ha.N(n.he,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ll(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function IE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,n){this.comparator=t,this.root=n||ur.EMPTY}insert(t,n){return new pn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(t){return new pn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ur.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pp(this.root,t,this.comparator,!0)}}class Pp{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ur{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new ur(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Jt(27949);return t+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt(57766)}get value(){throw Jt(16141)}get color(){throw Jt(16727)}get left(){throw Jt(29726)}get right(){throw Jt(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new ur(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.comparator=t,this.data=new pn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new R4(this.data.getIterator())}getIteratorFrom(t){return new R4(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class R4{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yu(e){return e.hasNext()?e.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new ii([])}unionWith(t){let n=new Ge(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ii(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Yc(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PE("Invalid base64 string: "+s):s}}(t);return new qn(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new qn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return me(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const vR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(e){if(ee(!!e,39018),typeof e=="string"){let t=0;const n=vR.exec(e);if(ee(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fn(e.seconds),nanos:fn(e.nanos)}}function fn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mo(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="server_timestamp",NE="__type__",LE="__previous_value__",kE="__local_write_time__";function t5(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[NE])===null||n===void 0?void 0:n.stringValue)===CE}function Wg(e){const t=e.mapValue.fields[LE];return t5(t)?Wg(t):t}function ad(e){const t=Fo(e.mapValue.fields[kE].timestampValue);return new wn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t,n,r,i,s,o,a,l,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const tg="(default)";class fu{constructor(t,n){this.projectId=t,this.database=n||tg}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===tg}isEqual(t){return t instanceof fu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="__type__",RE="__max__",La={mapValue:{fields:{__type__:{stringValue:RE}}}},n5="__vector__",eh="value",im={nullValue:"NULL_VALUE"};function Qa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?t5(e)?4:DE(e)?9007199254740991:Gg(e)?10:11:Jt(28295,{value:e})}function no(e,t){if(e===t)return!0;const n=Qa(e);if(n!==Qa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ad(e).isEqual(ad(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fo(i.timestampValue),a=Fo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Mo(i.bytesValue).isEqual(Mo(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return fn(i.geoPointValue.latitude)===fn(s.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return fn(i.integerValue)===fn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=fn(i.doubleValue),a=fn(s.doubleValue);return o===a?rd(o)===rd(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Yc(e.arrayValue.values||[],t.arrayValue.values||[],no);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(k4(o)!==k4(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!no(o[l],a[l])))return!1;return!0}(e,t);default:return Jt(52216,{left:e})}}function ld(e,t){return(e.values||[]).find(n=>no(n,t))!==void 0}function Ya(e,t){if(e===t)return 0;const n=Qa(e),r=Qa(t);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=fn(s.integerValue||s.doubleValue),l=fn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return D4(e.timestampValue,t.timestampValue);case 4:return D4(ad(e),ad(t));case 5:return U2(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Mo(s),l=Mo(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=me(a[u],l[u]);if(h!==0)return h}return me(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=me(fn(s.latitude),fn(o.latitude));return a!==0?a:me(fn(s.longitude),fn(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return V4(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,u,h;const d=s.fields||{},g=o.fields||{},m=(a=d[eh])===null||a===void 0?void 0:a.arrayValue,S=(l=g[eh])===null||l===void 0?void 0:l.arrayValue,E=me(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:V4(m,S)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===La.mapValue&&o===La.mapValue)return 0;if(s===La.mapValue)return 1;if(o===La.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const g=U2(l[d],h[d]);if(g!==0)return g;const m=Ya(a[l[d]],u[h[d]]);if(m!==0)return m}return me(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Jt(23264,{Pe:n})}}function D4(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return me(e,t);const n=Fo(e),r=Fo(t),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function V4(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ya(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function nh(e){return K2(e)}function K2(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Fo(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Mo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Kt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=K2(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${K2(n.fields[o])}`;return i+"}"}(e.mapValue):Jt(61005,{value:e})}function sm(e){switch(Qa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wg(e);return t?16+sm(t):16;case 5:return 2*e.stringValue.length;case 6:return Mo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+sm(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return ll(r.fields,(s,o)=>{i+=s.length+sm(o)}),i}(e.mapValue);default:throw Jt(13486,{value:e})}}function ud(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Q2(e){return!!e&&"integerValue"in e}function cd(e){return!!e&&"arrayValue"in e}function F4(e){return!!e&&"nullValue"in e}function M4(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function om(e){return!!e&&"mapValue"in e}function Gg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[e5])===null||n===void 0?void 0:n.stringValue)===n5}function Ef(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ll(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ef(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ef(e.arrayValue.values[n]);return t}return Object.assign({},e)}function DE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===RE}const VE={mapValue:{fields:{[e5]:{stringValue:n5},[eh]:{arrayValue:{}}}}};function _R(e){return"nullValue"in e?im:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ud(fu.empty(),Kt.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Gg(e)?VE:{mapValue:{}}:Jt(35942,{value:e})}function bR(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ud(fu.empty(),Kt.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?VE:"mapValue"in e?Gg(e)?{mapValue:{}}:La:Jt(61959,{value:e})}function O4(e,t){const n=Ya(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function j4(e,t){const n=Ya(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.value=t}static empty(){return new Er({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!om(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ef(n)}setAll(t){let n=gn.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ef(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());om(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return no(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ll(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Er(Ef(this.value))}}function FE(e){const t=[];return ll(e.fields,(n,r)=>{const i=new gn([n]);if(om(r)){const s=FE(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new ii(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Cn(t,0,re.min(),re.min(),re.min(),Er.empty(),0)}static newFoundDocument(t,n,r,i){return new Cn(t,1,n,re.min(),r,i,0)}static newNoDocument(t,n){return new Cn(t,2,n,re.min(),re.min(),Er.empty(),0)}static newUnknownDocument(t,n){return new Cn(t,3,n,re.min(),re.min(),Er.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this.position=t,this.inclusive=n}}function B4(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Kt.comparator(Kt.fromName(o.referenceValue),n.key):r=Ya(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z4(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!no(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,n="asc"){this.field=t,this.dir=n}}function xR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{}class Le extends ME{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new AR(t,n,r):n==="array-contains"?new TR(t,r):n==="in"?new qE(t,r):n==="not-in"?new IR(t,r):n==="array-contains-any"?new PR(t,r):new Le(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new SR(t,r):new ER(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $e extends ME{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new $e(t,n)}matches(t){return ih(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ih(e){return e.op==="and"}function Y2(e){return e.op==="or"}function r5(e){return OE(e)&&ih(e)}function OE(e){for(const t of e.filters)if(t instanceof $e)return!1;return!0}function X2(e){if(e instanceof Le)return e.field.canonicalString()+e.op.toString()+nh(e.value);if(r5(e))return e.filters.map(t=>X2(t)).join(",");{const t=e.filters.map(n=>X2(n)).join(",");return`${e.op}(${t})`}}function jE(e,t){return e instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&no(r.value,i.value)}(e,t):e instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jE(o,i.filters[a]),!0):!1}(e,t):void Jt(19439)}function BE(e,t){const n=e.filters.concat(t);return $e.create(n,e.op)}function zE(e){return e instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${nh(n.value)}`}(e):e instanceof $e?function(n){return n.op.toString()+" {"+n.getFilters().map(zE).join(" ,")+"}"}(e):"Filter"}class AR extends Le{constructor(t,n,r){super(t,n,r),this.key=Kt.fromName(r.referenceValue)}matches(t){const n=Kt.comparator(t.key,this.key);return this.matchesComparison(n)}}class SR extends Le{constructor(t,n){super(t,"in",n),this.keys=UE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ER extends Le{constructor(t,n){super(t,"not-in",n),this.keys=UE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function UE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Kt.fromName(r.referenceValue))}class TR extends Le{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return cd(n)&&ld(n.arrayValue,this.value)}}class qE extends Le{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ld(this.value.arrayValue,n)}}class IR extends Le{constructor(t,n){super(t,"not-in",n)}matches(t){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ld(this.value.arrayValue,n)}}class PR extends Le{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!cd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ld(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function J2(e,t=null,n=[],r=[],i=null,s=null,o=null){return new CR(e,t,n,r,i,s,o)}function du(e){const t=_e(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>X2(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ug(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>nh(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>nh(r)).join(",")),t.Ie=n}return t.Ie}function Cd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!jE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!z4(e.startAt,t.startAt)&&z4(e.endAt,t.endAt)}function eg(e){return Kt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function ng(e,t){return e.filters.filter(n=>n instanceof Le&&n.field.isEqual(t))}function U4(e,t,n){let r=im,i=!0;for(const s of ng(e,t)){let o=im,a=!0;switch(s.op){case"<":case"<=":o=_R(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=im}O4({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];O4({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function q4(e,t,n){let r=La,i=!0;for(const s of ng(e,t)){let o=La,a=!0;switch(s.op){case">=":case">":o=bR(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=La}j4({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];j4({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NR(e,t,n,r,i,s,o,a){return new yh(e,t,n,r,i,s,o,a)}function Kg(e){return new yh(e)}function $4(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $E(e){return e.collectionGroup!==null}function Tf(e){const t=_e(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(gn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new hd(s,r))}),n.has(gn.keyField().canonicalString())||t.Ee.push(new hd(gn.keyField(),r))}return t.Ee}function es(e){const t=_e(e);return t.de||(t.de=LR(t,Tf(e))),t.de}function LR(e,t){if(e.limitType==="F")return J2(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new hd(i.field,s)});const n=e.endAt?new rh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new rh(e.startAt.position,e.startAt.inclusive):null;return J2(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Z2(e,t){const n=e.filters.concat([t]);return new yh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rg(e,t,n){return new yh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qg(e,t){return Cd(es(e),es(t))&&e.limitType===t.limitType}function HE(e){return`${du(es(e))}|lt:${e.limitType}`}function ic(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zE(i)).join(", ")}]`),Ug(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nh(i)).join(",")),`Target(${r})`}(es(e))}; limitType=${e.limitType})`}function Nd(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Kt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Tf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=B4(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Tf(r),i)||r.endAt&&!function(o,a,l){const u=B4(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Tf(r),i))}(e,t)}function kR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function WE(e){return(t,n)=>{let r=!1;for(const i of Tf(e)){const s=RR(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RR(e,t,n){const r=e.field.isKeyField()?Kt.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ya(l,u):Jt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ll(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new pn(Kt.comparator);function Ii(){return DR}const GE=new pn(Kt.comparator);function lf(...e){let t=GE;for(const n of e)t=t.insert(n.key,n);return t}function KE(e){let t=GE;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Gs(){return If()}function QE(){return If()}function If(){return new Uo(e=>e.toString(),(e,t)=>e.isEqual(t))}const VR=new pn(Kt.comparator),FR=new Ge(Kt.comparator);function Te(...e){let t=FR;for(const n of e)t=t.add(n);return t}const MR=new Ge(me);function OR(){return MR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(t)?"-0":t}}function YE(e){return{integerValue:""+e}}function jR(e,t){return H8(t)?YE(t):i5(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function BR(e,t,n){return e instanceof fd?function(i,s){const o={fields:{[NE]:{stringValue:CE},[kE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&t5(s)&&(s=Wg(s)),s&&(o.fields[LE]=s),{mapValue:o}}(n,t):e instanceof sh?JE(e,t):e instanceof oh?ZE(e,t):function(i,s){const o=XE(i,s),a=H4(o)+H4(i.Re);return Q2(o)&&Q2(i.Re)?YE(a):i5(i.serializer,a)}(e,t)}function zR(e,t,n){return e instanceof sh?JE(e,t):e instanceof oh?ZE(e,t):n}function XE(e,t){return e instanceof dd?function(r){return Q2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class fd extends Yg{}class sh extends Yg{constructor(t){super(),this.elements=t}}function JE(e,t){const n=tT(t);for(const r of e.elements)n.some(i=>no(i,r))||n.push(r);return{arrayValue:{values:n}}}class oh extends Yg{constructor(t){super(),this.elements=t}}function ZE(e,t){let n=tT(t);for(const r of e.elements)n=n.filter(i=>!no(i,r));return{arrayValue:{values:n}}}class dd extends Yg{constructor(t,n){super(),this.serializer=t,this.Re=n}}function H4(e){return fn(e.integerValue||e.doubleValue)}function tT(e){return cd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n){this.field=t,this.transform=n}}function qR(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof sh&&i instanceof sh||r instanceof oh&&i instanceof oh?Yc(r.elements,i.elements,no):r instanceof dd&&i instanceof dd?no(r.Re,i.Re):r instanceof fd&&i instanceof fd}(e.transform,t.transform)}class $R{constructor(t,n){this.version=t,this.transformResults=n}}class jr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new jr}static exists(t){return new jr(void 0,t)}static updateTime(t){return new jr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function am(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Xg{}function eT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Jg(e.key,jr.none()):new vh(e.key,e.data,jr.none());{const n=e.data,r=Er.empty();let i=new Ge(gn.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qo(e.key,r,new ii(i.toArray()),jr.none())}}function HR(e,t,n){e instanceof vh?function(i,s,o){const a=i.value.clone(),l=G4(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof qo?function(i,s,o){if(!am(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G4(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(nT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Pf(e,t,n,r){return e instanceof vh?function(s,o,a,l){if(!am(s.precondition,o))return a;const u=s.value.clone(),h=K4(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof qo?function(s,o,a,l){if(!am(s.precondition,o))return a;const u=K4(s.fieldTransforms,l,o),h=o.data;return h.setAll(nT(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(s,o,a){return am(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function WR(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=XE(r.transform,i||null);s!=null&&(n===null&&(n=Er.empty()),n.set(r.field,s))}return n||null}function W4(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yc(r,i,(s,o)=>qR(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vh extends Xg{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qo extends Xg{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function G4(e,t,n){const r=new Map;ee(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,zR(o,a,n[i]))}return r}function K4(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BR(s,o,t))}return r}class Jg extends Xg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rT extends Xg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&HR(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Pf(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Pf(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=QE();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=eT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Te())}isEqual(t){return this.batchId===t.batchId&&Yc(this.mutations,t.mutations,(n,r)=>W4(n,r))&&Yc(this.baseMutations,t.baseMutations,(n,r)=>W4(n,r))}}class o5{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ee(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let i=function(){return VR}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new o5(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,ke;function KR(e){switch(e){case At.OK:return Jt(64938);case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0;default:return Jt(15467,{code:e})}}function iT(e){if(e===void 0)return Or("GRPC error has no .code"),At.UNKNOWN;switch(e){case zn.OK:return At.OK;case zn.CANCELLED:return At.CANCELLED;case zn.UNKNOWN:return At.UNKNOWN;case zn.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case zn.INTERNAL:return At.INTERNAL;case zn.UNAVAILABLE:return At.UNAVAILABLE;case zn.UNAUTHENTICATED:return At.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case zn.NOT_FOUND:return At.NOT_FOUND;case zn.ALREADY_EXISTS:return At.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return At.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case zn.ABORTED:return At.ABORTED;case zn.OUT_OF_RANGE:return At.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return At.UNIMPLEMENTED;case zn.DATA_LOSS:return At.DATA_LOSS;default:return Jt(39323,{code:e})}}(ke=zn||(zn={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new $a([4294967295,4294967295],0);function Q4(e){const t=hE().encode(e),n=new rE;return n.update(t),new Uint8Array(n.digest())}function Y4(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new $a([n,r],0),new $a([i,s],0)]}class l5{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uf(`Invalid padding: ${n}`);if(r<0)throw new uf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new uf(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new uf(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=$a.fromNumber(this.pe)}we(t,n,r){let i=t.add(n.multiply($a.fromNumber(r)));return i.compare(QR)===1&&(i=new $a([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Q4(t),[r,i]=Y4(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new l5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.pe===0)return;const n=Q4(t),[r,i]=Y4(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ld.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Zg(re.min(),i,new pn(me),Ii(),Te())}}class Ld{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ld(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,n,r,i){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=i}}class sT{constructor(t,n){this.targetId=t,this.Ce=n}}class oT{constructor(t,n,r=qn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X4{constructor(){this.Fe=0,this.Me=J4(),this.xe=qn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Te(),n=Te(),r=Te();return this.Me.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Jt(38017,{changeType:s})}}),new Ld(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=J4()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ee(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class YR{constructor(t){this.ze=t,this.je=new Map,this.He=Ii(),this.Je=Cp(),this.Ye=Cp(),this.Ze=new pn(me)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:Jt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(t){const n=t.targetId,r=t.Ce.count,i=this._t(n);if(i){const s=i.target;if(eg(s))if(r===0){const o=new Kt(s.path);this.tt(n,o,Cn.newNoDocument(o,re.min()))}else ee(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(t),l=a?this.lt(a,t,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Mo(r).toUint8Array()}catch(l){if(l instanceof PE)return hu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new l5(o,i,s)}catch(l){return hu(l instanceof uf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(t){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&eg(a.target)){const l=new Kt(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Cn.newNoDocument(l,t))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Te();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(t));const i=new Zg(t,n,this.Ze,this.He,r);return this.He=Ii(),this.Je=Cp(),this.Ye=Cp(),this.Ze=new pn(me),i}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const i=this.rt(t);this.dt(t,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new X4,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ge(me),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ge(me),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new X4),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Cp(){return new pn(Kt.comparator)}function J4(){return new pn(Kt.comparator)}const XR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),JR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ZR=(()=>({and:"AND",or:"OR"}))();class t7{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ty(e,t){return e.useProto3Json||Ug(t)?t:{value:t}}function ah(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function e7(e,t){return ah(e,t.toTimestamp())}function Ur(e){return ee(!!e,49232),re.fromTimestamp(function(n){const r=Fo(n);return new wn(r.seconds,r.nanos)}(e))}function u5(e,t){return ey(e,t).canonicalString()}function ey(e,t){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function lT(e){const t=Be.fromString(e);return ee(yT(t),10190,{key:t.toString()}),t}function ig(e,t){return u5(e.databaseId,t.path)}function eu(e,t){const n=lT(t);if(n.get(1)!==e.databaseId.projectId)throw new qt(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qt(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Kt(hT(n))}function uT(e,t){return u5(e.databaseId,t)}function cT(e){const t=lT(e);return t.length===4?Be.emptyPath():hT(t)}function ny(e){return new Be(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hT(e){return ee(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Z4(e,t,n){return{name:ig(e,t),fields:n.value.mapValue.fields}}function n7(e,t,n){const r=eu(e,t.name),i=Ur(t.updateTime),s=t.createTime?Ur(t.createTime):re.min(),o=new Er({mapValue:{fields:t.fields}}),a=Cn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function r7(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Jt(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(ee(h===void 0||typeof h=="string",58123),qn.fromBase64String(h||"")):(ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),qn.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const h=u.code===void 0?At.UNKNOWN:iT(u.code);return new qt(h,u.message||"")}(o);n=new oT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=eu(e,r.document.name),s=Ur(r.document.updateTime),o=r.document.createTime?Ur(r.document.createTime):re.min(),a=new Er({mapValue:{fields:r.document.fields}}),l=Cn.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new lm(u,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=eu(e,r.document),s=r.readTime?Ur(r.readTime):re.min(),o=Cn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new lm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=eu(e,r.document),s=r.removedTargetIds||[];n=new lm([],s,i,null)}else{if(!("filter"in t))return Jt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new GR(i,s),a=r.targetId;n=new sT(a,o)}}return n}function sg(e,t){let n;if(t instanceof vh)n={update:Z4(e,t.key,t.value)};else if(t instanceof Jg)n={delete:ig(e,t.key)};else if(t instanceof qo)n={update:Z4(e,t.key,t.data),updateMask:u7(t.fieldMask)};else{if(!(t instanceof rT))return Jt(16599,{ft:t.type});n={verify:ig(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof fd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Jt(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:e7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Jt(27497)}(e,t.precondition)),n}function ry(e,t){const n=t.currentDocument?function(s){return s.updateTime!==void 0?jr.updateTime(Ur(s.updateTime)):s.exists!==void 0?jr.exists(s.exists):jr.none()}(t.currentDocument):jr.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ee(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new fd;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];l=new sh(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];l=new oh(h)}else"increment"in a?l=new dd(o,a.increment):Jt(16584,{proto:a});const u=gn.fromServerFormat(a.fieldPath);return new UR(u,l)}(e,i)):[];if(t.update){t.update.name;const i=eu(e,t.update.name),s=new Er({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=function(l){const u=l.fieldPaths||[];return new ii(u.map(h=>gn.fromServerFormat(h)))}(t.updateMask);return new qo(i,s,o,n,r)}return new vh(i,s,n,r)}if(t.delete){const i=eu(e,t.delete);return new Jg(i,n)}if(t.verify){const i=eu(e,t.verify);return new rT(i,n)}return Jt(1463,{proto:t})}function i7(e,t){return e&&e.length>0?(ee(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?Ur(i.updateTime):Ur(s);return o.isEqual(re.min())&&(o=Ur(s)),new $R(o,i.transformResults||[])}(n,t))):[]}function fT(e,t){return{documents:[uT(e,t.path)]}}function dT(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uT(e,i);const s=function(u){if(u.length!==0)return gT($e.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:sc(g.field),direction:o7(g.dir)}}(h))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ty(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{gt:n,parent:i}}function pT(e){let t=cT(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ee(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let s=[];n.where&&(s=function(d){const g=mT(d);return g instanceof $e&&r5(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(S){return new hd(oc(S.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,Ug(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,m=d.values||[];return new rh(m,g)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const g=!d.before,m=d.values||[];return new rh(m,g)}(n.endAt)),NR(t,i,o,s,a,"F",l,u)}function s7(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function mT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oc(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oc(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oc(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oc(n.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Jt(61313);default:return Jt(60726)}}(e):e.fieldFilter!==void 0?function(n){return Le.create(oc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Jt(58110);default:return Jt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return $e.create(n.compositeFilter.filters.map(r=>mT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Jt(1026)}}(n.compositeFilter.op))}(e):Jt(30097,{filter:e})}function o7(e){return XR[e]}function a7(e){return JR[e]}function l7(e){return ZR[e]}function sc(e){return{fieldPath:e.canonicalString()}}function oc(e){return gn.fromServerFormat(e.fieldPath)}function gT(e){return e instanceof Le?function(n){if(n.op==="=="){if(M4(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NAN"}};if(F4(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M4(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NAN"}};if(F4(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(n.field),op:a7(n.op),value:n.value}}}(e):e instanceof $e?function(n){const r=n.getFilters().map(i=>gT(i));return r.length===1?r[0]:{compositeFilter:{op:l7(n.op),filters:r}}}(e):Jt(54877,{filter:e})}function u7(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function yT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n,r,i,s=re.min(),o=re.min(),a=qn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Io(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t){this.wt=t}}function c7(e,t){let n;if(t.document)n=n7(e.wt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=Kt.fromSegments(t.noDocument.path),i=mu(t.noDocument.readTime);n=Cn.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Jt(56709);{const r=Kt.fromSegments(t.unknownDocument.path),i=mu(t.unknownDocument.version);n=Cn.newUnknownDocument(r,i)}}return t.readTime&&n.setReadTime(function(i){const s=new wn(i[0],i[1]);return re.fromTimestamp(s)}(t.readTime)),n}function tb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:og(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(s,o){return{name:ig(s,o.key),fields:o.data.value.mapValue.fields,updateTime:ah(s,o.version.toTimestamp()),createTime:ah(s,o.createTime.toTimestamp())}}(e.wt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pu(t.version)};else{if(!t.isUnknownDocument())return Jt(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:pu(t.version)}}return r}function og(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pu(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function mu(e){const t=new wn(e.seconds,e.nanoseconds);return re.fromTimestamp(t)}function zl(e,t){const n=(t.baseMutations||[]).map(s=>ry(e.wt,s));for(let s=0;s<t.mutations.length-1;++s){const o=t.mutations[s];if(s+1<t.mutations.length&&t.mutations[s+1].transform!==void 0){const a=t.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map(s=>ry(e.wt,s)),i=wn.fromMillis(t.localWriteTimeMs);return new s5(t.batchId,i,n,r)}function cf(e){const t=mu(e.readTime),n=e.lastLimboFreeSnapshotVersion!==void 0?mu(e.lastLimboFreeSnapshotVersion):re.min();let r;return r=function(s){return s.documents!==void 0}(e.query)?function(s){const o=s.documents.length;return ee(o===1,1966,{count:o}),es(Kg(cT(s.documents[0])))}(e.query):function(s){return es(pT(s))}(e.query),new Io(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,qn.fromBase64String(e.resumeToken))}function wT(e,t){const n=pu(t.snapshotVersion),r=pu(t.lastLimboFreeSnapshotVersion);let i;i=eg(t.target)?fT(e.wt,t.target):dT(e.wt,t.target).gt;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:du(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function _T(e){const t=pT({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?rg(t,t.limit,"L"):t}function h0(e,t){return new a5(t.largestBatchId,ry(e.wt,t.overlayMutation))}function eb(e,t){const n=t.path.lastSegment();return[e,Pr(t.path.popLast()),n]}function nb(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:pu(r.readTime),documentKey:Pr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{getBundleMetadata(t,n){return rb(t).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:mu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(t,n){return rb(t).put(function(i){return{bundleId:i.id,createTime:pu(Ur(i.createTime)),version:i.version}}(n))}getNamedQuery(t,n){return ib(t).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:_T(s.bundledQuery),readTime:mu(s.readTime)}}(r)})}saveNamedQuery(t,n){return ib(t).put(function(i){return{name:i.name,readTime:pu(Ur(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function rb(e){return Kn(e,qg)}function ib(e){return Kn(e,$g)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,n){this.serializer=t,this.userId=n}static bt(t,n){const r=n.uid||"";return new t1(t,r)}getOverlay(t,n){return Kh(t).get(eb(this.userId,n)).next(r=>r?h0(this.serializer,r):null)}getOverlays(t,n){const r=Gs();return ct.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){const i=[];return r.forEach((s,o)=>{const a=new a5(n,o);i.push(this.St(t,a))}),ct.waitFor(i)}removeOverlaysForBatchId(t,n,r){const i=new Set;n.forEach(o=>i.add(Pr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Kh(t).X(W2,a))}),ct.waitFor(s)}getOverlaysForCollection(t,n,r){const i=Gs(),s=Pr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Kh(t).J(W2,o).next(a=>{for(const l of a){const u=h0(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(t,n,r,i){const s=Gs();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Kh(t).te({index:AE,range:a},(l,u,h)=>{const d=h0(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):h.done()}).next(()=>s)}St(t,n){return Kh(t).put(function(i,s,o){const[a,l,u]=eb(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:sg(i.wt,o.mutation)}}(this.serializer,this.userId,n))}}function Kh(e){return Kn(e,Hg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{Dt(t){return Kn(t,Jv)}getSessionToken(t){return this.Dt(t).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?qn.fromUint8Array(r):qn.EMPTY_BYTE_STRING})}setSessionToken(t,n){return this.Dt(t).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){}vt(t,n){this.Ct(t,n),n.Ft()}Ct(t,n){if("nullValue"in t)this.Mt(n,5);else if("booleanValue"in t)this.Mt(n,10),n.xt(t.booleanValue?1:0);else if("integerValue"in t)this.Mt(n,15),n.xt(fn(t.integerValue));else if("doubleValue"in t){const r=fn(t.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),rd(r)?n.xt(0):n.xt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Fo(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in t)this.Nt(t.stringValue,n),this.Bt(n);else if("bytesValue"in t)this.Mt(n,30),n.Lt(Mo(t.bytesValue)),this.Bt(n);else if("referenceValue"in t)this.kt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in t?DE(t)?this.Mt(n,Number.MAX_SAFE_INTEGER):Gg(t)?this.qt(t.mapValue,n):(this.Qt(t.mapValue,n),this.Bt(n)):"arrayValue"in t?(this.$t(t.arrayValue,n),this.Bt(n)):Jt(19022,{Ut:t})}Nt(t,n){this.Mt(n,25),this.Kt(t,n)}Kt(t,n){n.Ot(t)}Qt(t,n){const r=t.fields||{};this.Mt(n,55);for(const i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(t,n){var r,i;const s=t.fields||{};this.Mt(n,53);const o=eh,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(fn(a)),this.Nt(o,n),this.Ct(s[o],n)}$t(t,n){const r=t.values||[];this.Mt(n,50);for(const i of r)this.Ct(i,n)}kt(t,n){this.Mt(n,37),Kt.fromName(t).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(t,n){t.xt(n)}Bt(t){t.xt(2)}}Ul.Wt=new Ul;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=255;function d7(e){if(e===0)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function sb(e){const t=64-function(r){let i=0;for(let s=0;s<8;++s){const o=d7(255&r[s]);if(i+=o,o!==8)break}return i}(e);return Math.ceil(t/8)}class p7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.zt(r.value),r=n.next();this.jt()}Ht(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Yt()}Zt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=n.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(t){const n=this.tn(t),r=sb(n);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}rn(t){const n=this.tn(t),r=sb(n);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}sn(){this._n(Xu),this._n(255)}an(){this.un(Xu),this.un(255)}reset(){this.position=0}seed(t){this.nn(t.length),this.buffer.set(t,this.position),this.position+=t.length}cn(){return this.buffer.slice(0,this.position)}tn(t){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}zt(t){const n=255&t;n===0?(this._n(0),this._n(255)):n===Xu?(this._n(Xu),this._n(0)):this._n(n)}Jt(t){const n=255&t;n===0?(this.un(0),this.un(255)):n===Xu?(this.un(Xu),this.un(0)):this.un(t)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(t){this.nn(1),this.buffer[this.position++]=t}un(t){this.nn(1),this.buffer[this.position++]=~t}nn(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class m7{constructor(t){this.ln=t}Lt(t){this.ln.Gt(t)}Ot(t){this.ln.Zt(t)}xt(t){this.ln.en(t)}Ft(){this.ln.sn()}}class g7{constructor(t){this.ln=t}Lt(t){this.ln.Ht(t)}Ot(t){this.ln.Xt(t)}xt(t){this.ln.rn(t)}Ft(){this.ln.an()}}class Qh{constructor(){this.ln=new p7,this.hn=new m7(this.ln),this.Pn=new g7(this.ln)}seed(t){this.ln.seed(t)}Tn(t){return t===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n,r,i){this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}In(){const t=this.directionalValue.length,n=t===0||this.directionalValue[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new ql(this.indexId,this.documentKey,this.arrayValue,r)}}function va(e,t){let n=e.indexId-t.indexId;return n!==0?n:(n=ob(e.arrayValue,t.arrayValue),n!==0?n:(n=ob(e.directionalValue,t.directionalValue),n!==0?n:Kt.comparator(e.documentKey,t.documentKey)))}function ob(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(r!==0)return r}return e.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.En=new Ge((n,r)=>gn.comparator(n.field,r.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.An=[];for(const n of t.filters){const r=n;r.isInequality()?this.En=this.En.add(r):this.An.push(r)}}get Rn(){return this.En.size>1}Vn(t){if(ee(t.collectionGroup===this.collectionId,49279),this.Rn)return!1;const n=q2(t);if(n!==void 0&&!this.mn(n))return!1;const r=Fl(t);let i=new Set,s=0,o=0;for(;s<r.length&&this.mn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.En.size>0){const a=this.En.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.fn(a,l)||!this.gn(this.dn[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.dn.length||!this.gn(this.dn[o++],a))return!1}return!0}pn(){if(this.Rn)return null;let t=new Ge(gn.comparator);const n=[];for(const r of this.An)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new em(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new em(r.field,0))}for(const r of this.dn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new em(r.field,r.dir==="asc"?0:1)));return new Km(Km.UNKNOWN_ID,this.collectionId,n,nd.empty())}mn(t){for(const n of this.An)if(this.fn(n,t))return!0;return!1}fn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}gn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(e){var t,n;if(ee(e instanceof Le||e instanceof $e,20012),e instanceof Le){if(e instanceof qE){const i=((n=(t=e.value.arrayValue)===null||t===void 0?void 0:t.values)===null||n===void 0?void 0:n.map(s=>Le.create(e.field,"==",s)))||[];return $e.create(i,"or")}return e}const r=e.filters.map(i=>bT(i));return $e.create(r,e.op)}function y7(e){if(e.getFilters().length===0)return[];const t=oy(bT(e));return ee(xT(t),7391),iy(t)||sy(t)?[t]:t.getFilters()}function iy(e){return e instanceof Le}function sy(e){return e instanceof $e&&r5(e)}function xT(e){return iy(e)||sy(e)||function(n){if(n instanceof $e&&Y2(n)){for(const r of n.getFilters())if(!iy(r)&&!sy(r))return!1;return!0}return!1}(e)}function oy(e){if(ee(e instanceof Le||e instanceof $e,34018),e instanceof Le)return e;if(e.filters.length===1)return oy(e.filters[0]);const t=e.filters.map(r=>oy(r));let n=$e.create(t,e.op);return n=ag(n),xT(n)?n:(ee(n instanceof $e,64498),ee(ih(n),40251),ee(n.filters.length>1,57927),n.filters.reduce((r,i)=>c5(r,i)))}function c5(e,t){let n;return ee(e instanceof Le||e instanceof $e,38388),ee(t instanceof Le||t instanceof $e,25473),n=e instanceof Le?t instanceof Le?function(i,s){return $e.create([i,s],"and")}(e,t):lb(e,t):t instanceof Le?lb(t,e):function(i,s){if(ee(i.filters.length>0&&s.filters.length>0,48005),ih(i)&&ih(s))return BE(i,s.getFilters());const o=Y2(i)?i:s,a=Y2(i)?s:i,l=o.filters.map(u=>c5(u,a));return $e.create(l,"or")}(e,t),ag(n)}function lb(e,t){if(ih(t))return BE(t,e.getFilters());{const n=t.filters.map(r=>c5(e,r));return $e.create(n,"or")}}function ag(e){if(ee(e instanceof Le||e instanceof $e,11850),e instanceof Le)return e;const t=e.getFilters();if(t.length===1)return ag(t[0]);if(OE(e))return e;const n=t.map(i=>ag(i)),r=[];return n.forEach(i=>{i instanceof Le?r.push(i):i instanceof $e&&(i.op===e.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:$e.create(r,e.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(){this.yn=new h5}addToCollectionParentIndex(t,n){return this.yn.add(n),ct.resolve()}getCollectionParents(t,n){return ct.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return ct.resolve()}deleteFieldIndex(t,n){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,n){return ct.resolve()}getDocumentsMatchingTarget(t,n){return ct.resolve(null)}getIndexType(t,n){return ct.resolve(0)}getFieldIndexes(t,n){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,n){return ct.resolve(Li.min())}getMinOffsetFromCollectionGroup(t,n){return ct.resolve(Li.min())}updateCollectionGroup(t,n,r){return ct.resolve()}updateIndexEntries(t,n){return ct.resolve()}}class h5{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ge(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ge(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="IndexedDbIndexManager",Np=new Uint8Array(0);class w7{constructor(t,n){this.databaseId=n,this.wn=new h5,this.bn=new Uo(r=>du(r),(r,i)=>Cd(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.wn.has(n)){const r=n.lastSegment(),i=n.popLast();t.addOnCommittedListener(()=>{this.wn.add(n)});const s={collectionId:r,parent:Pr(i)};return cb(t).put(s)}return ct.resolve()}getCollectionParents(t,n){const r=[],i=IDBKeyRange.bound([n,""],[dE(n),""],!1,!0);return cb(t).J(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ws(o.parent))}return r})}addFieldIndex(t,n){const r=Yh(t),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Zu(t);return s.next(a=>{o.put(nb(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(t,n){const r=Yh(t),i=Zu(t),s=Ju(t);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const n=Yh(t),r=Ju(t),i=Zu(t);return n.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(t,n){return ct.forEach(this.Sn(n),r=>this.getIndexType(t,r).next(i=>{if(i===0||i===1){const s=new ab(r).pn();if(s!=null)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,n){const r=Ju(t);let i=!0;const s=new Map;return ct.forEach(this.Sn(n),o=>this.Dn(t,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Te();const a=[];return ct.forEach(s,(l,u)=>{Rt(ub,`Using index ${function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(q=>`${q.fieldPath}:${q.kind}`).join(",")}`}(l)} to execute ${du(n)}`);const h=function(P,q){const $=q2(q);if($===void 0)return null;for(const Q of ng(P,$.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null}(u,l),d=function(P,q){const $=new Map;for(const Q of Fl(q))for(const C of ng(P,Q.fieldPath))switch(C.op){case"==":case"in":$.set(Q.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return $.set(Q.fieldPath.canonicalString(),C.value),Array.from($.values())}return null}(u,l),g=function(P,q){const $=[];let Q=!0;for(const C of Fl(q)){const x=C.kind===0?U4(P,C.fieldPath,P.startAt):q4(P,C.fieldPath,P.startAt);$.push(x.value),Q&&(Q=x.inclusive)}return new rh($,Q)}(u,l),m=function(P,q){const $=[];let Q=!0;for(const C of Fl(q)){const x=C.kind===0?q4(P,C.fieldPath,P.endAt):U4(P,C.fieldPath,P.endAt);$.push(x.value),Q&&(Q=x.inclusive)}return new rh($,Q)}(u,l),S=this.vn(l,u,g),E=this.vn(l,u,m),L=this.Cn(l,u,d),_=this.Fn(l.indexId,h,S,g.inclusive,E,m.inclusive,L);return ct.forEach(_,b=>r.Z(b,n.limit).next(P=>{P.forEach(q=>{const $=Kt.fromSegments(q.documentKey);o.has($)||(o=o.add($),a.push($))})}))}).next(()=>a)}return ct.resolve(null)})}Sn(t){let n=this.bn.get(t);return n||(t.filters.length===0?n=[t]:n=y7($e.create(t.filters,"and")).map(r=>J2(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.bn.set(t,n),n)}Fn(t,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),h=[];for(let d=0;d<l;++d){const g=n?this.Mn(n[d/u]):Np,m=this.xn(t,g,r[d%u],i),S=this.On(t,g,s[d%u],o),E=a.map(L=>this.xn(t,g,L,!0));h.push(...this.createRange(m,S,E))}return h}xn(t,n,r,i){const s=new ql(t,Kt.empty(),n,r);return i?s:s.In()}On(t,n,r,i){const s=new ql(t,Kt.empty(),n,r);return i?s.In():s}Dn(t,n){const r=new ab(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,i).next(s=>{let o=null;for(const a of s)r.Vn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,n){let r=2;const i=this.Sn(n);return ct.forEach(i,s=>this.Dn(t,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ge(gn.comparator),h=!1;for(const d of l.filters)for(const g of d.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:u=u.add(g.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Nn(t,n){const r=new Qh;for(const i of Fl(t)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Tn(i.kind);Ul.Wt.vt(s,o)}return r.cn()}Mn(t){const n=new Qh;return Ul.Wt.vt(t,n.Tn(0)),n.cn()}Bn(t,n){const r=new Qh;return Ul.Wt.vt(ud(this.databaseId,n),r.Tn(function(s){const o=Fl(s);return o.length===0?0:o[o.length-1].kind}(t))),r.cn()}Cn(t,n,r){if(r===null)return[];let i=[];i.push(new Qh);let s=0;for(const o of Fl(t)){const a=r[s++];for(const l of i)if(this.Ln(n,o.fieldPath)&&cd(a))i=this.kn(i,o,a);else{const u=l.Tn(o.kind);Ul.Wt.vt(a,u)}}return this.qn(i)}vn(t,n,r){return this.Cn(t,n,r.position)}qn(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].cn();return n}kn(t,n,r){const i=[...t],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Qh;l.seed(a.cn()),Ul.Wt.vt(o,l.Tn(n.kind)),s.push(l)}return s}Ln(t,n){return!!t.filters.find(r=>r instanceof Le&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(t,n){const r=Yh(t),i=Zu(t);return(n?r.J(H2,IDBKeyRange.bound(n,n)):r.J()).next(s=>{const o=[];return ct.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,d){const g=d?new nd(d.sequenceNumber,new Li(mu(d.readTime),new Kt(Ws(d.documentKey)),d.largestBatchId)):nd.empty(),m=h.fields.map(([S,E])=>new em(gn.fromServerFormat(S),E));return new Km(h.indexId,h.collectionGroup,m,g)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:me(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(t,n,r){const i=Yh(t),s=Zu(t);return this.Qn(t).next(o=>i.J(H2,IDBKeyRange.bound(n,n)).next(a=>ct.forEach(a,l=>s.put(nb(l.indexId,this.uid,o,r)))))}updateIndexEntries(t,n){const r=new Map;return ct.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?ct.resolve(o):this.getFieldIndexes(t,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ct.forEach(a,l=>this.$n(t,i,l).next(u=>{const h=this.Un(s,l);return u.isEqual(h)?ct.resolve():this.Kn(t,s,l,u,h)}))))})}Wn(t,n,r,i){return Ju(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Bn(r,n.key),documentKey:n.key.path.toArray()})}Gn(t,n,r,i){return Ju(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Bn(r,n.key),n.key.path.toArray()])}$n(t,n,r){const i=Ju(t);let s=new Ge(va);return i.te({index:xE,range:IDBKeyRange.only([r.indexId,this.uid,this.Bn(r,n)])},(o,a)=>{s=s.add(new ql(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Un(t,n){let r=new Ge(va);const i=this.Nn(n,t);if(i==null)return r;const s=q2(n);if(s!=null){const o=t.data.field(s.fieldPath);if(cd(o))for(const a of o.arrayValue.values||[])r=r.add(new ql(n.indexId,t.key,this.Mn(a),i))}else r=r.add(new ql(n.indexId,t.key,Np,i));return r}Kn(t,n,r,i,s){Rt(ub,"Updating index entries for document '%s'",n.key);const o=[];return function(l,u,h,d,g){const m=l.getIterator(),S=u.getIterator();let E=Yu(m),L=Yu(S);for(;E||L;){let _=!1,b=!1;if(E&&L){const P=h(E,L);P<0?b=!0:P>0&&(_=!0)}else E!=null?b=!0:_=!0;_?(d(L),L=Yu(S)):b?(g(E),E=Yu(m)):(E=Yu(m),L=Yu(S))}}(i,s,va,a=>{o.push(this.Wn(t,n,r,a))},a=>{o.push(this.Gn(t,n,r,a))}),ct.waitFor(o)}Qn(t){let n=1;return Zu(t).te({index:bE,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(t,n,r){r=r.sort((o,a)=>va(o,a)).filter((o,a,l)=>!a||va(o,l[a-1])!==0);const i=[];i.push(t);for(const o of r){const a=va(o,t),l=va(o,n);if(a===0)i[0]=t.In();else if(a>0&&l<0)i.push(o),i.push(o.In());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.zn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Np,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Np,[]];s.push(IDBKeyRange.bound(a,l))}return s}zn(t,n){return va(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(hb)}getMinOffset(t,n){return ct.mapArray(this.Sn(n),r=>this.Dn(t,r).next(i=>i||Jt(44426))).next(hb)}}function cb(e){return Kn(e,od)}function Ju(e){return Kn(e,Zm)}function Yh(e){return Kn(e,Xv)}function Zu(e){return Kn(e,Jm)}function hb(e){ee(e.length!==0,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Kv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Li(t.readTime,t.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class Ar{static withCacheSize(t){return new Ar(t,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(e,t,n){const r=e.store(Ss),i=e.store(Xc),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.te({range:o},(h,d,g)=>(a++,g.delete()));s.push(l.next(()=>{ee(a===1,47070,{batchId:n.batchId})}));const u=[];for(const h of n.mutations){const d=vE(t,h.key.path,n.batchId);s.push(i.delete(d)),u.push(h.key)}return ct.waitFor(s).next(()=>u)}function lg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Jt(14731);t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(AT,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);class e1{constructor(t,n,r,i){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.jn={}}static bt(t,n,r,i){ee(t.uid!=="",64387);const s=t.isAuthenticated()?t.uid:"";return new e1(s,n,r,i)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wa(t).te({index:Kl,range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(t,n,r,i){const s=ac(t),o=wa(t);return o.add({}).next(a=>{ee(typeof a=="number",49019);const l=new s5(a,n,r,i),u=function(m,S,E){const L=E.baseMutations.map(b=>sg(m.wt,b)),_=E.mutations.map(b=>sg(m.wt,b));return{userId:S,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:L,mutations:_}}(this.serializer,this.userId,l),h=[];let d=new Ge((g,m)=>me(g.canonicalString(),m.canonicalString()));for(const g of i){const m=vE(this.userId,g.key.path,a);d=d.add(g.key.path.popLast()),h.push(o.put(u)),h.push(s.put(m,K8))}return d.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(t,g))}),t.addOnCommittedListener(()=>{this.jn[a]=l.keys()}),ct.waitFor(h).next(()=>l)})}lookupMutationBatch(t,n){return wa(t).get(n).next(r=>r?(ee(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),zl(this.serializer,r)):null)}Hn(t,n){return this.jn[n]?ct.resolve(this.jn[n]):this.lookupMutationBatch(t,n).next(r=>{if(r){const i=r.keys();return this.jn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return wa(t).te({index:Kl,range:i},(o,a,l)=>{a.userId===this.userId&&(ee(a.batchId>=r,47524,{Jn:r}),s=zl(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Zl;return wa(t).te({index:Kl,range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,Zl],[this.userId,Number.POSITIVE_INFINITY]);return wa(t).J(Kl,n).next(r=>r.map(i=>zl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=nm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return ac(t).te({range:i},(o,a,l)=>{const[u,h,d]=o,g=Ws(h);if(u===this.userId&&n.path.isEqual(g))return wa(t).get(d).next(m=>{if(!m)throw Jt(61480,{Yn:o,batchId:d});ee(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:d}),s.push(zl(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ge(me);const i=[];return n.forEach(s=>{const o=nm(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=ac(t).te({range:a},(u,h,d)=>{const[g,m,S]=u,E=Ws(m);g===this.userId&&s.path.isEqual(E)?r=r.add(S):d.done()});i.push(l)}),ct.waitFor(i).next(()=>this.Zn(t,r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1,s=nm(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ge(me);return ac(t).te({range:o},(l,u,h)=>{const[d,g,m]=l,S=Ws(g);d===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(m)):h.done()}).next(()=>this.Zn(t,a))}Zn(t,n){const r=[],i=[];return n.forEach(s=>{i.push(wa(t).get(s).next(o=>{if(o===null)throw Jt(35274,{batchId:s});ee(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),r.push(zl(this.serializer,o))}))}),ct.waitFor(i).next(()=>r)}removeMutationBatch(t,n){return ST(t.he,this.userId,n).next(r=>(t.addOnCommittedListener(()=>{this.Xn(n.batchId)}),ct.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}Xn(t){delete this.jn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(n=>{if(!n)return ct.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return ac(t).te({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Ws(s[1]);i.push(l)}else a.done()}).next(()=>{ee(i.length===0,56720,{er:i.map(s=>s.canonicalString())})})})}containsKey(t,n){return ET(t,this.userId,n)}tr(t){return TT(t).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Zl,lastStreamToken:""})}}function ET(e,t,n){const r=nm(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ac(e).te({range:s,ee:!0},(a,l,u)=>{const[h,d,g]=a;h===t&&d===i&&(o=!0),u.done()}).next(()=>o)}function wa(e){return Kn(e,Ss)}function ac(e){return Kn(e,Xc)}function TT(e){return Kn(e,id)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new gu(0)}static ir(){return new gu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.sr(t).next(n=>{const r=new gu(n.highestTargetId);return n.highestTargetId=r.next(),this._r(t,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.sr(t).next(n=>re.fromTimestamp(new wn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.sr(t).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.sr(t).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this._r(t,i)))}addTargetData(t,n){return this.ar(t,n).next(()=>this.sr(t).next(r=>(r.targetCount+=1,this.ur(n,r),this._r(t,r))))}updateTargetData(t,n){return this.ar(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next(()=>tc(t).delete(n.targetId)).next(()=>this.sr(t)).next(r=>(ee(r.targetCount>0,8065),r.targetCount-=1,this._r(t,r)))}removeTargets(t,n,r){let i=0;const s=[];return tc(t).te((o,a)=>{const l=cf(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(t,l)))}).next(()=>ct.waitFor(s)).next(()=>i)}forEachTarget(t,n){return tc(t).te((r,i)=>{const s=cf(i);n(s)})}sr(t){return db(t).get(Xm).next(n=>(ee(n!==null,2888),n))}_r(t,n){return db(t).put(Xm,n)}ar(t,n){return tc(t).put(wT(this.serializer,n))}ur(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.sr(t).next(n=>n.targetCount)}getTargetData(t,n){const r=du(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return tc(t).te({range:i,index:_E},(o,a,l)=>{const u=cf(a);Cd(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(t,n,r){const i=[],s=Pa(t);return n.forEach(o=>{const a=Pr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(t,r,o))}),ct.waitFor(i)}removeMatchingKeys(t,n,r){const i=Pa(t);return ct.forEach(n,s=>{const o=Pr(s.path);return ct.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(t,r,s)])})}removeMatchingKeysForTargetId(t,n){const r=Pa(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Pa(t);let s=Te();return i.te({range:r,ee:!0},(o,a,l)=>{const u=Ws(o[1]),h=new Kt(u);s=s.add(h)}).next(()=>s)}containsKey(t,n){const r=Pr(n.path),i=IDBKeyRange.bound([r],[dE(r)],!1,!0);let s=0;return Pa(t).te({index:Yv,ee:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}Rt(t,n){return tc(t).get(n).next(r=>r?cf(r):null)}}function tc(e){return Kn(e,Jc)}function db(e){return Kn(e,tu)}function Pa(e){return Kn(e,Zc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="LruGarbageCollector",b7=1048576;function mb([e,t],[n,r]){const i=me(e,n);return i===0?me(t,r):i}class x7{constructor(t){this.cr=t,this.buffer=new Ge(mb),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IT{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Rt(pb,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?Rt(pb,"Ignoring IndexedDB error during garbage collection: ",n):await _u(n)}await this.Ir(3e5)})}}class A7{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return ct.resolve(Zi.le);const r=new x7(n);return this.Er.forEachTarget(t,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(t,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Er.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(fb)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fb):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(t,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(d=>(u=Date.now(),rc()<=Re.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function PT(e,t){return new A7(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(t,n){this.db=t,this.garbageCollector=PT(this,n)}dr(t){const n=this.Vr(t);return this.db.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}Vr(t){let n=0;return this.Ar(t,r=>{n++}).next(()=>n)}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}Ar(t,n){return this.mr(t,(r,i)=>n(i))}addReference(t,n,r){return Lp(t,r)}removeReference(t,n,r){return Lp(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return Lp(t,n)}gr(t,n){return function(i,s){let o=!1;return TT(i).ne(a=>ET(i,a,s).next(l=>(l&&(o=!0),ct.resolve(!l)))).next(()=>o)}(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.mr(t,(o,a)=>{if(a<=n){const l=this.gr(t,o).next(u=>{if(!u)return s++,r.getEntry(t,o).next(()=>(r.removeEntry(o,re.min()),Pa(t).delete(function(d){return[0,Pr(d.path)]}(o))))});i.push(l)}}).next(()=>ct.waitFor(i)).next(()=>r.apply(t)).next(()=>s)}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return Lp(t,n)}mr(t,n){const r=Pa(t);let i,s=Zi.le;return r.te({index:Yv},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Zi.le&&n(new Kt(Ws(i)),s),s=u,i=l):s=Zi.le}).next(()=>{s!==Zi.le&&n(new Kt(Ws(i)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Lp(e,t){return Pa(e).put(function(r,i){return{targetId:0,path:Pr(r.path),sequenceNumber:i}}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.changes=new Uo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Cn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ct.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return Ll(t).put(r)}removeEntry(t,n,r){return Ll(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],og(o),a[a.length-1]]}(n,r))}updateMetadata(t,n){return this.getMetadata(t).next(r=>(r.byteSize+=n,this.pr(t,r)))}getEntry(t,n){let r=Cn.newInvalidDocument(n);return Ll(t).te({index:rm,range:IDBKeyRange.only(Xh(n))},(i,s)=>{r=this.yr(n,s)}).next(()=>r)}wr(t,n){let r={size:0,document:Cn.newInvalidDocument(n)};return Ll(t).te({index:rm,range:IDBKeyRange.only(Xh(n))},(i,s)=>{r={document:this.yr(n,s),size:lg(s)}}).next(()=>r)}getEntries(t,n){let r=Ii();return this.br(t,n,(i,s)=>{const o=this.yr(i,s);r=r.insert(i,o)}).next(()=>r)}Sr(t,n){let r=Ii(),i=new pn(Kt.comparator);return this.br(t,n,(s,o)=>{const a=this.yr(s,o);r=r.insert(s,a),i=i.insert(s,lg(o))}).next(()=>({documents:r,Dr:i}))}br(t,n,r){if(n.isEmpty())return ct.resolve();let i=new Ge(vb);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Xh(i.first()),Xh(i.last())),o=i.getIterator();let a=o.getNext();return Ll(t).te({index:rm,range:s},(l,u,h)=>{const d=Kt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&vb(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?h.H(Xh(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),og(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ll(t).J(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let h=Ii();for(const d of u){const g=this.yr(Kt.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);g.isFoundDocument()&&(Nd(n,g)||i.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(t,n,r,i){let s=Ii();const o=yb(n,r),a=yb(n,Li.max());return Ll(t).te({index:wE,range:IDBKeyRange.bound(o,a,!0)},(l,u,h)=>{const d=this.yr(Kt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(t){return new T7(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(n=>n.byteSize)}getMetadata(t){return gb(t).get($2).next(n=>(ee(!!n,20021),n))}pr(t,n){return gb(t).put($2,n)}yr(t,n){if(n){const r=c7(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(re.min())))return r}return Cn.newInvalidDocument(t)}}function NT(e){return new E7(e)}class T7 extends CT{constructor(t,n){super(),this.vr=t,this.trackRemovals=n,this.Cr=new Uo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const n=[];let r=0,i=new Ge((s,o)=>me(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Cr.get(s);if(n.push(this.vr.removeEntry(t,s,a.readTime)),o.isValidDocument()){const l=tb(this.vr.serializer,o);i=i.add(s.path.popLast());const u=lg(l);r+=u-a.size,n.push(this.vr.addEntry(t,s,l))}else if(r-=a.size,this.trackRemovals){const l=tb(this.vr.serializer,o.convertToNoDocument(re.min()));n.push(this.vr.addEntry(t,s,l))}}),i.forEach(s=>{n.push(this.vr.indexManager.addToCollectionParentIndex(t,s))}),n.push(this.vr.updateMetadata(t,r)),ct.waitFor(n)}getFromCache(t,n){return this.vr.wr(t,n).next(r=>(this.Cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,n){return this.vr.Sr(t,n).next(({documents:r,Dr:i})=>(i.forEach((s,o)=>{this.Cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function gb(e){return Kn(e,sd)}function Ll(e){return Kn(e,Ym)}function Xh(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function yb(e,t){const n=t.documentKey.path.toArray();return[e,og(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vb(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=me(n[s],r[s]),i)return i;return i=me(n.length,r.length),i||(i=me(n[n.length-2],r[r.length-2]),i||me(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Pf(r.mutation,i,ii.empty(),wn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Te()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Te()){const i=Gs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=lf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Gs();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Te()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ii();const o=If(),a=function(){return If()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof qo)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Pf(h.mutation,u,h.mutation.getFieldMask(),wn.now())):o.set(u.key,ii.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new I7(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=If();let i=new pn((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||ii.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=QE();h.forEach(g=>{if(!s.has(g)){const m=eT(n.get(g),r.get(g));m!==null&&d.set(g,m),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return ct.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Kt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$E(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):ct.resolve(Gs());let a=ed,l=s;return o.next(u=>ct.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?ct.resolve():this.remoteDocumentCache.getEntry(t,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,Te())).next(h=>({batchId:a,changes:KE(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Kt(n)).next(r=>{let i=lf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=lf();return this.indexManager.getCollectionParents(t,s).next(a=>ct.forEach(a,l=>{const u=function(d,g){return new yh(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(h=>{h.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Cn.newInvalidDocument(h)))});let a=lf();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&Pf(h.mutation,u,ii.empty(),wn.now()),Nd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return ct.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ur(i.createTime)}}(n)),ct.resolve()}getNamedQuery(t,n){return ct.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:_T(i.bundledQuery),readTime:Ur(i.readTime)}}(n)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(){this.overlays=new pn(Kt.comparator),this.Or=new Map}getOverlay(t,n){return ct.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Gs();return ct.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),ct.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),ct.resolve()}getOverlaysForCollection(t,n,r){const i=Gs(),s=n.length+1,o=new Kt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ct.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new pn((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Gs(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Gs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return ct.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new a5(n,r));let s=this.Or.get(n);s===void 0&&(s=Te(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.Nr=new Ge(Jn.Br),this.Lr=new Ge(Jn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const r=new Jn(t,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Qr(new Jn(t,n))}$r(t,n){t.forEach(r=>this.removeReference(r,n))}Ur(t){const n=new Kt(new Be([])),r=new Jn(n,t),i=new Jn(n,t+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new Kt(new Be([])),r=new Jn(n,t),i=new Jn(n,t+1);let s=Te();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Jn(t,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Jn{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return Kt.comparator(t.key,n.key)||me(t.Gr,n.Gr)}static kr(t,n){return me(t.Gr,n.Gr)||Kt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ge(Jn.Br)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new s5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new Jn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ct.resolve(o)}lookupMutationBatch(t,n){return ct.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return ct.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?Zl:this.Jn-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Jn(n,0),i=new Jn(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),ct.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ge(me);return n.forEach(i=>{const s=new Jn(i,0),o=new Jn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),ct.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Kt.isDocumentKey(s)||(s=s.child(""));const o=new Jn(new Kt(s),0);let a=new Ge(me);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Gr)),!0)},o),ct.resolve(this.Jr(a))}Jr(t){const n=[];return t.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ee(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ct.forEach(n.mutations,i=>{const s=new Jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,n){const r=new Jn(n,0),i=this.zr.firstAfterOrEqual(r);return ct.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(t){this.Zr=t,this.docs=function(){return new pn(Kt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return ct.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(t,n){let r=Ii();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Cn.newInvalidDocument(i))}),ct.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ii();const o=n.path,a=new Kt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Kv(pE(h),r)<=0||(i.has(h.key)||Nd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ct.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Jt(9500)}Xr(t,n){return ct.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new R7(this)}getSize(t){return ct.resolve(this.size)}}class R7 extends CT{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(t,i)):this.vr.removeEntry(r)}),ct.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(t){this.persistence=t,this.ei=new Uo(n=>du(n),Cd),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.ti=0,this.ni=new f5,this.targetCount=0,this.ri=gu.rr()}forEachTarget(t,n){return this.ei.forEach((r,i)=>n(i)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),ct.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new gu(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,ct.resolve()}updateTargetData(t,n){return this.ar(n),ct.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),ct.waitFor(s).next(()=>i)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,n){const r=this.ei.get(n)||null;return ct.resolve(r)}addMatchingKeys(t,n,r){return this.ni.qr(n,r),ct.resolve()}removeMatchingKeys(t,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),ct.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),ct.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ni.Wr(n);return ct.resolve(r)}containsKey(t,n){return ct.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(t,n){this.ii={},this.overlays={},this.si=new Zi(0),this.oi=!1,this.oi=!0,this._i=new N7,this.referenceDelegate=t(this),this.ai=new D7(this),this.indexManager=new v7,this.remoteDocumentCache=function(i){return new k7(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new vT(n),this.ci=new P7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new C7,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ii[t.toKey()];return r||(r=new L7(n,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,r){Rt("MemoryPersistence","Starting transaction:",t);const i=new V7(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(t,n){return ct.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,n)))}}class V7 extends gE{constructor(t){super(),this.currentSequenceNumber=t}}class n1{constructor(t){this.persistence=t,this.Ti=new f5,this.Ii=null}static Ei(t){return new n1(t)}get di(){if(this.Ii)return this.Ii;throw Jt(60996)}addReference(t,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),ct.resolve()}removeReference(t,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),ct.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),ct.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.di,r=>{const i=Kt.fromPath(r);return this.Ai(t,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return ct.or([()=>ct.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class ug{constructor(t,n){this.persistence=t,this.Ri=new Uo(r=>Pr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=PT(this,n)}static Ei(t,n){return new ug(t,n)}li(){}hi(t){return ct.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}Vr(t){let n=0;return this.Ar(t,r=>{n++}).next(()=>n)}Ar(t,n){return ct.forEach(this.Ri,(r,i)=>this.gr(t,r,i).next(s=>s?ct.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(t,o=>this.gr(t,o,n).next(a=>{a||(r++,s.removeEntry(o,re.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),ct.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),ct.resolve()}removeReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),ct.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),ct.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=sm(t.data.value)),n}gr(t,n,r){return ct.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.Ri.get(n);return ct.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(t){this.serializer=t}q(t,n,r,i){const s=new zg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Pd)}(t),function(l){l.createObjectStore(id,{keyPath:G8}),l.createObjectStore(Ss,{keyPath:N4,autoIncrement:!0}).createIndex(Kl,L4,{unique:!0}),l.createObjectStore(Xc)}(t),wb(t),function(l){l.createObjectStore(Ml)}(t));let o=ct.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Zc),l.deleteObjectStore(Jc),l.deleteObjectStore(tu)}(t),wb(t)),o=o.next(()=>function(l){const u=l.store(tu),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:re.min().toTimestamp(),targetCount:0};return u.put(Xm,h)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store(Ss).J().next(d=>{l.deleteObjectStore(Ss),l.createObjectStore(Ss,{keyPath:N4,autoIncrement:!0}).createIndex(Kl,L4,{unique:!0});const g=u.store(Ss),m=d.map(S=>g.put(S));return ct.waitFor(m)})}(t,s))),o=o.next(()=>{(function(l){l.createObjectStore(th,{keyPath:nR})})(t)})),r<5&&i>=5&&(o=o.next(()=>this.Vi(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore(sd)}(t),this.mi(s)))),r<7&&i>=7&&(o=o.next(()=>this.fi(s))),r<8&&i>=8&&(o=o.next(()=>this.gi(t,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t)})),r<10&&i>=10&&(o=o.next(()=>this.pi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(qg,{keyPath:rR})})(t),function(l){l.createObjectStore($g,{keyPath:iR})}(t)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore(Hg,{keyPath:hR});u.createIndex(W2,fR,{unique:!1}),u.createIndex(AE,dR,{unique:!1})})(t)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore(Ym,{keyPath:Q8});u.createIndex(rm,Y8),u.createIndex(wE,X8)}(t)).next(()=>this.yi(t,s)).next(()=>t.deleteObjectStore(Ml))),r<14&&i>=14&&(o=o.next(()=>this.wi(t,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore(Xv,{keyPath:sR,autoIncrement:!0}).createIndex(H2,oR,{unique:!1}),l.createObjectStore(Jm,{keyPath:aR}).createIndex(bE,lR,{unique:!1}),l.createObjectStore(Zm,{keyPath:uR}).createIndex(xE,cR,{unique:!1})}(t))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore(Jm).clear()}).next(()=>{n.objectStore(Zm).clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(Jv,{keyPath:pR})})(t)})),o}mi(t){let n=0;return t.store(Ml).te((r,i)=>{n+=lg(i)}).next(()=>{const r={byteSize:n};return t.store(sd).put($2,r)})}Vi(t){const n=t.store(id),r=t.store(Ss);return n.J().next(i=>ct.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,Zl],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Kl,o).next(a=>ct.forEach(a,l=>{ee(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const u=zl(this.serializer,l);return ST(t,s.userId,u).next(()=>{})}))}))}fi(t){const n=t.store(Zc),r=t.store(Ml);return t.store(tu).get(Xm).next(i=>{const s=[];return r.te((o,a)=>{const l=new Be(o),u=function(d){return[0,Pr(d)]}(l);s.push(n.get(u).next(h=>h?ct.resolve():(d=>n.put({targetId:0,path:Pr(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>ct.waitFor(s))})}gi(t,n){t.createObjectStore(od,{keyPath:eR});const r=n.store(od),i=new h5,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Pr(l)})}};return n.store(Ml).te({ee:!0},(o,a)=>{const l=new Be(o);return s(l.popLast())}).next(()=>n.store(Xc).te({ee:!0},([o,a,l],u)=>{const h=Ws(a);return s(h.popLast())}))}pi(t){const n=t.store(Jc);return n.te((r,i)=>{const s=cf(i),o=wT(this.serializer,s);return n.put(o)})}yi(t,n){const r=n.store(Ml),i=[];return r.te((s,o)=>{const a=n.store(Ym),l=function(d){return d.document?new Kt(Be.fromString(d.document.name).popFirst(5)):d.noDocument?Kt.fromSegments(d.noDocument.path):d.unknownDocument?Kt.fromSegments(d.unknownDocument.path):Jt(36783)}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>ct.waitFor(i))}wi(t,n){const r=n.store(Ss),i=NT(this.serializer),s=new d5(n1.Ei,this.serializer.wt);return r.J().next(o=>{const a=new Map;return o.forEach(l=>{var u;let h=(u=a.get(l.userId))!==null&&u!==void 0?u:Te();zl(this.serializer,l).keys().forEach(d=>h=h.add(d)),a.set(l.userId,h)}),ct.forEach(a,(l,u)=>{const h=new lr(u),d=t1.bt(this.serializer,h),g=s.getIndexManager(h),m=e1.bt(h,this.serializer,g,s.referenceDelegate);return new LT(i,m,d,g).recalculateAndSaveOverlaysForDocumentKeys(new G2(n,Zi.le),l).next()})})}}function wb(e){e.createObjectStore(Zc,{keyPath:Z8}).createIndex(Yv,tR,{unique:!0}),e.createObjectStore(Jc,{keyPath:"targetId"}).createIndex(_E,J8,{unique:!0}),e.createObjectStore(tu)}const _a="IndexedDbPersistence",f0=18e5,d0=5e3,p0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",M7="main";class p5{constructor(t,n,r,i,s,o,a,l,u,h,d=17){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.bi=s,this.window=o,this.document=a,this.Si=u,this.Di=h,this.Ci=d,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=g=>Promise.resolve(),!p5.C())throw new qt(At.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new S7(this,i),this.Bi=n+M7,this.serializer=new vT(l),this.Li=new Ha(this.Bi,this.Ci,new F7(this.serializer)),this._i=new f7,this.ai=new _7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=NT(this.serializer),this.ci=new h7,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,h===!1&&Or(_a,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qt(At.FAILED_PRECONDITION,p0);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ai.getHighestSequenceNumber(t))}).then(t=>{this.si=new Zi(t,this.Si)}).then(()=>{this.oi=!0}).catch(t=>(this.Li&&this.Li.close(),Promise.reject(t)))}Ki(t){return this.Ni=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Li.U(async n=>{n.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>kp(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(t).next(n=>{n||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(t)).next(n=>this.isPrimary&&!n?this.zi(t).next(()=>!1):!!n&&this.ji(t).next(()=>!0))).catch(t=>{if(al(t))return Rt(_a,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Rt(_a,"Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.bi.enqueueRetryable(()=>this.Ni(t)),this.isPrimary=t})}Wi(t){return Jh(t).get(Qu).next(n=>ct.resolve(this.Hi(n)))}Ji(t){return kp(t).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,f0)){this.Oi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Kn(n,th);return r.J().next(i=>{const s=this.Xi(i,f0),o=i.filter(a=>s.indexOf(a)===-1);return ct.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ki)for(const n of t)this.ki.removeItem(this.es(n.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(t){return!!t&&t.ownerId===this.clientId}Gi(t){return this.Di?ct.resolve(!0):Jh(t).get(Qu).next(n=>{if(n!==null&&this.Zi(n.leaseTimestampMs,d0)&&!this.ts(n.ownerId)){if(this.Hi(n)&&this.networkEnabled)return!0;if(!this.Hi(n)){if(!n.allowTabSynchronization)throw new qt(At.FAILED_PRECONDITION,p0);return!1}}return!(!this.networkEnabled||!this.inForeground)||kp(t).J().next(r=>this.Xi(r,d0).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Rt(_a,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[Pd,th],t=>{const n=new G2(t,Zi.le);return this.zi(n).next(()=>this.Ji(n))}),this.Li.close(),this._s()}Xi(t,n){return t.filter(r=>this.Zi(r.updateTimeMs,n)&&!this.ts(r.clientId))}us(){return this.runTransaction("getActiveClients","readonly",t=>kp(t).J().next(n=>this.Xi(n,f0).map(r=>r.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(t,n){return e1.bt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new w7(t,this.serializer.wt.databaseId)}getDocumentOverlayCache(t){return t1.bt(this.serializer,t)}getBundleCache(){return this.ci}runTransaction(t,n,r){Rt(_a,"Starting transaction:",t);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?yR:l===16?gR:l===15?Zv:l===14?TE:l===13?EE:l===12?mR:l===11?SE:void Jt(60245)}(this.Ci);let o;return this.Li.runTransaction(t,i,s,a=>(o=new G2(a,this.si?this.si.next():Zi.le),n==="readwrite-primary"?this.Wi(o).next(l=>!!l||this.Gi(o)).next(l=>{if(!l)throw Or(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new qt(At.FAILED_PRECONDITION,mE);return r(o)}).next(l=>this.ji(o).next(()=>l)):this.cs(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}cs(t){return Jh(t).get(Qu).next(n=>{if(n!==null&&this.Zi(n.leaseTimestampMs,d0)&&!this.ts(n.ownerId)&&!this.Hi(n)&&!(this.Di||this.allowTabSynchronization&&n.allowTabSynchronization))throw new qt(At.FAILED_PRECONDITION,p0)})}ji(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jh(t).put(Qu,n)}static C(){return Ha.C()}zi(t){const n=Jh(t);return n.get(Qu).next(r=>this.Hi(r)?(Rt(_a,"Releasing primary lease."),n.delete(Qu)):ct.resolve())}Zi(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(Or(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const n=/(?:Version|Mobile)\/1[456]/;KS()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(t){var n;try{const r=((n=this.ki)===null||n===void 0?void 0:n.getItem(this.es(t)))!==null;return Rt(_a,`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Or(_a,"Failed to get zombied client id.",r),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(t){Or("Failed to set zombie client id.",t)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Jh(e){return Kn(e,Pd)}function kp(e){return Kn(e,th)}function O7(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ls=r,this.hs=i}static Ps(t,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new m5(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return KS()?8:yE($m())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.Rs(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new j7;return this.fs(t,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(t,n,o,a.size)})}).next(()=>s.result)}gs(t,n,r,i){return r.documentReadCount<this.Es?(rc()<=Re.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",ic(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ct.resolve()):(rc()<=Re.DEBUG&&Rt("QueryEngine","Query:",ic(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(rc()<=Re.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",ic(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,es(n))):ct.resolve())}Rs(t,n){if($4(n))return ct.resolve(null);let r=es(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rg(n,null,"F"),r=es(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Te(...s);return this.As.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ps(n,a);return this.ys(n,u,o,l.readTime)?this.Rs(t,rg(n,null,"F")):this.ws(t,u,n,l)}))})))}Vs(t,n,r,i){return $4(n)||i.isEqual(re.min())?ct.resolve(null):this.As.getDocuments(t,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?ct.resolve(null):(rc()<=Re.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(n)),this.ws(t,o,n,B8(i,ed)).next(a=>a))})}ps(t,n){let r=new Ge(WE(t));return n.forEach((i,s)=>{Nd(t,s)&&(r=r.add(s))}),r}ys(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(t,n,r){return rc()<=Re.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",ic(n)),this.As.getDocumentsMatchingQuery(t,n,Li.min(),r)}ws(t,n,r,i){return this.As.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="LocalStore",B7=3e8;class z7{constructor(t,n,r,i){this.persistence=t,this.bs=n,this.serializer=i,this.Ss=new pn(me),this.Ds=new Uo(s=>du(s),Cd),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LT(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function RT(e,t,n,r){return new z7(e,t,n,r)}async function DT(e,t){const n=_e(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Te();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:a}))})})}function U7(e,t){const n=_e(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,g=d.keys();let m=ct.resolve();return g.forEach(S=>{m=m.next(()=>h.getEntry(l,S)).next(E=>{const L=u.docVersions.get(S);ee(L!==null,48541),E.version.compareTo(L)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function VT(e){const t=_e(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function q7(e,t){const n=_e(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];t.targetChanges.forEach((h,d)=>{const g=i.get(d);if(!g)return;a.push(n.ai.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.ai.addMatchingKeys(s,h.addedDocuments,d)));let m=g.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(qn.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(E,L,_){return E.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=B7?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,m,h)&&a.push(n.ai.updateTargetData(s,m))});let l=Ii(),u=Te();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push($7(s,o,t.documentUpdates).next(h=>{l=h.xs,u=h.Os})),!r.isEqual(re.min())){const h=n.ai.getLastRemoteSnapshotVersion(s).next(d=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return ct.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ss=i,s))}function $7(e,t,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ii();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Rt(g5,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:i}})}function H7(e,t){const n=_e(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Zl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function W7(e,t){const n=_e(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,t).next(s=>s?(i=s,ct.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new Io(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(t,r.targetId)),r})}async function ay(e,t,n){const r=_e(e),i=r.Ss.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!al(o))throw o;Rt(g5,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function _b(e,t,n){const r=_e(e);let i=re.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=_e(l),g=d.Ds.get(h);return g!==void 0?ct.resolve(d.Ss.get(g)):d.ai.getTargetData(u,h)}(r,o,es(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,t,n?i:re.min(),n?s:Te())).next(a=>(G7(r,kR(t),a),{documents:a,Ns:s})))}function G7(e,t,n){let r=e.vs.get(t)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.vs.set(t,r)}class bb{constructor(){this.activeTargetIds=OR()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class FT{constructor(){this.So=new bb,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,r){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new bb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="ConnectivityMonitor";class Ab{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Rt(xb,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Rt(xb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp=null;function ly(){return Rp===null?Rp=function(){return 268435456+Math.round(2147483648*Math.random())}():Rp++,"0x"+Rp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="RestConnection",Q7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y7{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===tg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(t,n,r,i,s){const o=ly(),a=this.$o(t,n.toUriEncodedString());Rt(m0,`Sending RPC '${t}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,s);const{host:u}=new URL(a),h=Hv(u);return this.Ko(t,a,l,r,h).then(d=>(Rt(m0,`Received RPC '${t}' ${o}: `,d),d),d=>{throw hu(m0,`RPC '${t}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Wo(t,n,r,i,s,o){return this.Qo(t,n,r,i,s)}Uo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}$o(t,n){const r=Q7[t];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="WebChannelConnection";class J7 extends Y7{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,r,i,s){const o=ly();return new Promise((a,l)=>{const u=new iE;u.setWithCredentials(!0),u.listenOnce(sE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tm.NO_ERROR:const d=u.getResponseJson();Rt(yr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),a(d);break;case tm.TIMEOUT:Rt(yr,`RPC '${t}' ${o} timed out`),l(new qt(At.DEADLINE_EXCEEDED,"Request time out"));break;case tm.HTTP_ERROR:const g=u.getStatus();if(Rt(yr,`RPC '${t}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const E=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(b)>=0?b:At.UNKNOWN}(S.status);l(new qt(E,S.message))}else l(new qt(At.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new qt(At.UNAVAILABLE,"Connection failed."));break;default:Jt(9055,{s_:t,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{Rt(yr,`RPC '${t}' ${o} completed.`)}});const h=JSON.stringify(i);Rt(yr,`RPC '${t}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}a_(t,n,r){const i=ly(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=lE(),a=aE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Rt(yr,`Creating RPC '${t}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let g=!1,m=!1;const S=new X7({Go:L=>{m?Rt(yr,`Not sending because RPC '${t}' stream ${i} is closed:`,L):(g||(Rt(yr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),g=!0),Rt(yr,`RPC '${t}' stream ${i} sending:`,L),d.send(L))},zo:()=>d.close()}),E=(L,_,b)=>{L.listen(_,P=>{try{b(P)}catch(q){setTimeout(()=>{throw q},0)}})};return E(d,af.EventType.OPEN,()=>{m||(Rt(yr,`RPC '${t}' stream ${i} transport opened.`),S.t_())}),E(d,af.EventType.CLOSE,()=>{m||(m=!0,Rt(yr,`RPC '${t}' stream ${i} transport closed`),S.r_())}),E(d,af.EventType.ERROR,L=>{m||(m=!0,hu(yr,`RPC '${t}' stream ${i} transport errored. Name:`,L.name,"Message:",L.message),S.r_(new qt(At.UNAVAILABLE,"The operation could not be completed")))}),E(d,af.EventType.MESSAGE,L=>{var _;if(!m){const b=L.data[0];ee(!!b,16349);const P=b,q=(P==null?void 0:P.error)||((_=P[0])===null||_===void 0?void 0:_.error);if(q){Rt(yr,`RPC '${t}' stream ${i} received error:`,q);const $=q.status;let Q=function(V){const j=zn[V];if(j!==void 0)return iT(j)}($),C=q.message;Q===void 0&&(Q=At.INTERNAL,C="Unknown error status: "+$+" with message "+q.message),m=!0,S.r_(new qt(Q,C)),d.close()}else Rt(yr,`RPC '${t}' stream ${i} received:`,b),S.i_(b)}}),E(a,oE.STAT_EVENT,L=>{L.stat===z2.PROXY?Rt(yr,`RPC '${t}' stream ${i} detected buffering proxy`):L.stat===z2.NOPROXY&&Rt(yr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(){return typeof window<"u"?window:null}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(e){return new t7(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n,r=1e3,i=1.5,s=6e4){this.bi=t,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="PersistentStream";class OT{constructor(t,n,r,i,s,o,a,l){this.bi=t,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new MT(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===At.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===At.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{t(()=>{const i=new qt(At.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(t,n){const r=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Rt(Sb,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(Rt(Sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tD extends OT{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=r7(this.serializer,t),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Ur(o.readTime):re.min()}(t);return this.listener.Q_(n,r)}U_(t){const n={};n.database=ny(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=eg(l)?{documents:fT(s,l)}:{query:dT(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aT(s,o.resumeToken);const u=ty(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=ah(s,o.snapshotVersion.toTimestamp());const u=ty(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=s7(this.serializer,t);r&&(n.labels=r),this.F_(n)}K_(t){const n={};n.database=ny(this.serializer),n.removeTarget=t,this.F_(n)}}class eD extends OT{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=i7(t.writeResults,t.commitTime),r=Ur(t.commitTime);return this.listener.j_(r,n)}H_(){const t={};t.database=ny(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>sg(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{}class rD extends nD{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new qt(At.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(t,ey(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qt(At.UNKNOWN,s.toString())})}Wo(t,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(t,ey(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qt(At.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class iD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Or(n),this.ea=!1):Rt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu="RemoteStore";class sD{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{bu(this)&&(Rt(yu,"Restarting streams for network reachability change."),await async function(l){const u=_e(l);u.aa.add(4),await kd(u),u.la.set("Unknown"),u.aa.delete(4),await i1(u)}(this))})}),this.la=new iD(r,i)}}async function i1(e){if(bu(e))for(const t of e.ua)await t(!0)}async function kd(e){for(const t of e.ua)await t(!1)}function jT(e,t){const n=_e(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),_5(n)?w5(n):wh(n).b_()&&v5(n,t))}function y5(e,t){const n=_e(e),r=wh(n);n._a.delete(t),r.b_()&&BT(n,t),n._a.size===0&&(r.b_()?r.v_():bu(n)&&n.la.set("Unknown"))}function v5(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(re.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wh(e).U_(t)}function BT(e,t){e.ha.Ke(t),wh(e).K_(t)}function w5(e){e.ha=new YR({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),wh(e).start(),e.la.ta()}function _5(e){return bu(e)&&!wh(e).w_()&&e._a.size>0}function bu(e){return _e(e).aa.size===0}function zT(e){e.ha=void 0}async function oD(e){e.la.set("Online")}async function aD(e){e._a.forEach((t,n)=>{v5(e,t)})}async function lD(e,t){zT(e),_5(e)?(e.la.ia(t),w5(e)):e.la.set("Unknown")}async function uD(e,t,n){if(e.la.set("Online"),t instanceof oT&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(e,t)}catch(r){Rt(yu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await cg(e,r)}else if(t instanceof lm?e.ha.Xe(t):t instanceof sT?e.ha.ot(t):e.ha.nt(t),!n.isEqual(re.min()))try{const r=await VT(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s._a.get(u);h&&s._a.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s._a.get(l);if(!h)return;s._a.set(l,h.withResumeToken(qn.EMPTY_BYTE_STRING,h.snapshotVersion)),BT(s,l);const d=new Io(h.target,l,u,h.sequenceNumber);v5(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Rt(yu,"Failed to raise snapshot:",r),await cg(e,r)}}async function cg(e,t,n){if(!al(t))throw t;e.aa.add(1),await kd(e),e.la.set("Offline"),n||(n=()=>VT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Rt(yu,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await i1(e)})}function UT(e,t){return t().catch(n=>cg(e,n,t))}async function Rd(e){const t=_e(e),n=Xa(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Zl;for(;cD(t);)try{const i=await H7(t.localStore,r);if(i===null){t.oa.length===0&&n.v_();break}r=i.batchId,hD(t,i)}catch(i){await cg(t,i)}qT(t)&&$T(t)}function cD(e){return bu(e)&&e.oa.length<10}function hD(e,t){e.oa.push(t);const n=Xa(e);n.b_()&&n.W_&&n.G_(t.mutations)}function qT(e){return bu(e)&&!Xa(e).w_()&&e.oa.length>0}function $T(e){Xa(e).start()}async function fD(e){Xa(e).H_()}async function dD(e){const t=Xa(e);for(const n of e.oa)t.G_(n.mutations)}async function pD(e,t,n){const r=e.oa.shift(),i=o5.from(r,t,n);await UT(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Rd(e)}async function mD(e,t){t&&Xa(e).W_&&await async function(r,i){if(function(o){return KR(o)&&o!==At.ABORTED}(i.code)){const s=r.oa.shift();Xa(r).D_(),await UT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Rd(r)}}(e,t),qT(e)&&$T(e)}async function Eb(e,t){const n=_e(e);n.asyncQueue.verifyOperationInProgress(),Rt(yu,"RemoteStore received new credentials");const r=bu(n);n.aa.add(3),await kd(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await i1(n)}async function gD(e,t){const n=_e(e);t?(n.aa.delete(2),await i1(n)):t||(n.aa.add(2),await kd(n),n.la.set("Unknown"))}function wh(e){return e.Pa||(e.Pa=function(n,r,i){const s=_e(n);return s.Y_(),new tD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{jo:oD.bind(null,e),Jo:aD.bind(null,e),Zo:lD.bind(null,e),Q_:uD.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),_5(e)?w5(e):e.la.set("Unknown")):(await e.Pa.stop(),zT(e))})),e.Pa}function Xa(e){return e.Ta||(e.Ta=function(n,r,i){const s=_e(n);return s.Y_(),new eD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:fD.bind(null,e),Zo:mD.bind(null,e),z_:dD.bind(null,e),j_:pD.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await Rd(e)):(await e.Ta.stop(),e.oa.length>0&&(Rt(yu,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new b5(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qt(At.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x5(e,t){if(Or("AsyncQueue",`${t}: ${e}`),al(e))return new qt(At.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{static emptySet(t){return new Vc(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Kt.comparator(n.key,r.key):(n,r)=>Kt.comparator(n.key,r.key),this.keyedMap=lf(),this.sortedSet=new pn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Vc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.Ia=new pn(Kt.comparator)}track(t){const n=t.doc.key,r=this.Ia.get(n);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(n):t.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):Jt(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,r)=>{t.push(r)}),t}}class lh{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lh(t,n,Vc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class vD{constructor(){this.queries=Ib(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=Ib(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new qt(At.ABORTED,"Firestore shutting down"))}}function Ib(){return new Uo(e=>HE(e),Qg)}async function HT(e,t){const n=_e(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Va()&&t.ma()&&(r=2):(s=new yD,r=t.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=x5(o,`Initialization of query '${ic(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.Ra.push(t),t.ga(n.onlineState),s.Aa&&t.pa(s.Aa)&&A5(n)}async function WT(e,t){const n=_e(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(t);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=t.ma()?0:1:!s.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wD(e,t){const n=_e(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&A5(n)}function _D(e,t,n){const r=_e(e),i=r.queries.get(t);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(t)}function A5(e){e.fa.forEach(t=>{t.next()})}var uy,Pb;(Pb=uy||(uy={})).ya="default",Pb.Cache="cache";class GT{constructor(t,n,r){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new lh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=lh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.key=t}}class QT{constructor(t){this.key=t}}class bD{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Te(),this.mutatedKeys=Te(),this.Ua=WE(t),this.Ka=new Vc(this.Ua)}get Wa(){return this.qa}Ga(t,n){const r=n?n.za:new Tb,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,d)=>{const g=i.get(h),m=Nd(this.query,d)?d:null,S=!!g&&this.mutatedKeys.has(g.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let L=!1;g&&m?g.data.isEqual(m.data)?S!==E&&(r.track({type:3,doc:m}),L=!0):this.ja(g,m)||(r.track({type:2,doc:m}),L=!0,(l&&this.Ua(m,l)>0||u&&this.Ua(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),L=!0):g&&!m&&(r.track({type:1,doc:g}),L=!0,(l||u)&&(a=!0)),L&&(m?(o=o.add(m),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const o=t.za.da();o.sort((h,d)=>function(m,S){const E=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt(20277,{Vt:L})}};return E(m)-E(S)}(h.type,d.type)||this.Ua(h.doc,d.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new lh(this.query,t.Ka,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Tb,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Te(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return t.forEach(r=>{this.$a.has(r)||n.push(new QT(r))}),this.$a.forEach(r=>{t.has(r)||n.push(new KT(r))}),n}Xa(t){this.qa=t.Ns,this.$a=Te();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return lh.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const S5="SyncEngine";class xD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class AD{constructor(t){this.key=t,this.tu=!1}}class SD{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Uo(a=>HE(a),Qg),this.iu=new Map,this.su=new Set,this.ou=new pn(Kt.comparator),this._u=new Map,this.au=new f5,this.uu={},this.cu=new Map,this.lu=gu.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function ED(e,t,n=!0){const r=eI(e);let i;const s=r.ru.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await YT(r,t,n,!0),i}async function TD(e,t){const n=eI(e);await YT(n,t,!0,!1)}async function YT(e,t,n,r){const i=await W7(e.localStore,es(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await ID(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&jT(e.remoteStore,i),a}async function ID(e,t,n,r,i){e.Pu=(d,g,m)=>async function(E,L,_,b){let P=L.view.Ga(_);P.ys&&(P=await _b(E.localStore,L.query,!1).then(({documents:C})=>L.view.Ga(C,P)));const q=b&&b.targetChanges.get(L.targetId),$=b&&b.targetMismatches.get(L.targetId)!=null,Q=L.view.applyChanges(P,E.isPrimaryClient,q,$);return Nb(E,L.targetId,Q.Ya),Q.snapshot}(e,d,g,m);const s=await _b(e.localStore,t,!0),o=new bD(t,s.Ns),a=o.Ga(s.documents),l=Ld.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);Nb(e,n,u.Ya);const h=new xD(t,n,o);return e.ru.set(t,h),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),u.snapshot}async function PD(e,t,n){const r=_e(e),i=r.ru.get(t),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!Qg(o,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&y5(r.remoteStore,i.targetId),cy(r,i.targetId)}).catch(_u)):(cy(r,i.targetId),await ay(r.localStore,i.targetId,!0))}async function CD(e,t){const n=_e(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y5(n.remoteStore,r.targetId))}async function ND(e,t,n){const r=nI(e);try{const i=await function(o,a){const l=_e(o),u=wn.now(),h=a.reduce((m,S)=>m.add(S.key),Te());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=Ii(),E=Te();return l.Cs.getEntries(m,h).next(L=>{S=L,S.forEach((_,b)=>{b.isValidDocument()||(E=E.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,S)).next(L=>{d=L;const _=[];for(const b of a){const P=WR(b,d.get(b.key).overlayedDocument);P!=null&&_.push(new qo(b.key,P,FE(P.value.mapValue),jr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(L=>{g=L;const _=L.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(m,L.batchId,_)})}).then(()=>({batchId:g.batchId,changes:KE(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.uu[o.currentUser.toKey()];u||(u=new pn(me)),u=u.insert(a,l),o.uu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Dd(r,i.changes),await Rd(r.remoteStore)}catch(i){const s=x5(i,"Failed to persist write");n.reject(s)}}async function XT(e,t){const n=_e(e);try{const r=await q7(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?ee(o.tu,14607):i.removedDocuments.size>0&&(ee(o.tu,42227),o.tu=!1))}),await Dd(n,r,t)}catch(r){await _u(r)}}function Cb(e,t,n){const r=_e(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_e(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const g of d.Ra)g.ga(a)&&(u=!0)}),u&&A5(l)}(r.eventManager,t),i.length&&r.nu.Q_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function LD(e,t,n){const r=_e(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),s=i&&i.key;if(s){let o=new pn(Kt.comparator);o=o.insert(s,Cn.newNoDocument(s,re.min()));const a=Te().add(s),l=new Zg(re.min(),new Map,new pn(me),o,a);await XT(r,l),r.ou=r.ou.remove(s),r._u.delete(t),E5(r)}else await ay(r.localStore,t,!1).then(()=>cy(r,t,n)).catch(_u)}async function kD(e,t){const n=_e(e),r=t.batch.batchId;try{const i=await U7(n.localStore,t);ZT(n,r,null),JT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dd(n,i)}catch(i){await _u(i)}}async function RD(e,t,n){const r=_e(e);try{const i=await function(o,a){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ee(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,t);ZT(r,t,n),JT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dd(r,i)}catch(i){await _u(i)}}function JT(e,t){(e.cu.get(t)||[]).forEach(n=>{n.resolve()}),e.cu.delete(t)}function ZT(e,t,n){const r=_e(e);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function cy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(r=>{e.au.containsKey(r)||tI(e,r)})}function tI(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);n!==null&&(y5(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),E5(e))}function Nb(e,t,n){for(const r of n)r instanceof KT?(e.au.addReference(r.key,t),DD(e,r)):r instanceof QT?(Rt(S5,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||tI(e,r.key)):Jt(19791,{Iu:r})}function DD(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(Rt(S5,"New document in limbo: "+n),e.su.add(r),E5(e))}function E5(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new Kt(Be.fromString(t)),r=e.lu.next();e._u.set(r,new AD(n)),e.ou=e.ou.insert(n,r),jT(e.remoteStore,new Io(es(Kg(n.path)),r,"TargetPurposeLimboResolution",Zi.le))}}async function Dd(e,t,n){const r=_e(e),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,t,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=m5.Ps(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,u){const h=_e(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ct.forEach(u,g=>ct.forEach(g.ls,m=>h.persistence.referenceDelegate.addReference(d,g.targetId,m)).next(()=>ct.forEach(g.hs,m=>h.persistence.referenceDelegate.removeReference(d,g.targetId,m)))))}catch(d){if(!al(d))throw d;Rt(g5,"Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const m=h.Ss.get(g),S=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(S);h.Ss=h.Ss.insert(g,E)}}}(r.localStore,s))}async function VD(e,t){const n=_e(e);if(!n.currentUser.isEqual(t)){Rt(S5,"User change. New user:",t.toKey());const r=await DT(n.localStore,t);n.currentUser=t,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new qt(At.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Dd(n,r.Ms)}}function FD(e,t){const n=_e(e),r=n._u.get(t);if(r&&r.tu)return Te().add(r.key);{let i=Te();const s=n.iu.get(t);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function eI(e){const t=_e(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LD.bind(null,t),t.nu.Q_=wD.bind(null,t.eventManager),t.nu.Tu=_D.bind(null,t.eventManager),t}function nI(e){const t=_e(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RD.bind(null,t),t}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=r1(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return RT(this.persistence,new kT,t.initialUser,this.serializer)}Ru(t){return new d5(n1.Ei,this.serializer)}Au(t){return new FT}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class MD extends pd{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){ee(this.persistence.referenceDelegate instanceof ug,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IT(r,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new d5(r=>ug.Ei(r,n),this.serializer)}}class OD extends pd{constructor(t,n,r){super(),this.gu=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.gu.initialize(this,t),await nI(this.gu.syncEngine),await Rd(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(t){return RT(this.persistence,new kT,t.initialUser,this.serializer)}mu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new IT(r,t.asyncQueue,n)}fu(t,n){const r=new $8(n,this.persistence);return new q8(t.asyncQueue,r)}Ru(t){const n=O7(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new p5(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,Z7(),um(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(t){return new FT}}class hg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new vD}()}createDatastore(t){const n=r1(t.databaseInfo.databaseId),r=function(s){return new J7(s)}(t.databaseInfo);return function(s,o,a,l){return new rD(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new sD(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Cb(this.syncEngine,n,0),function(){return Ab.C()?new Ab:new K7}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,h){const d=new SD(i,s,o,a,l,u);return h&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=_e(i);Rt(yu,"RemoteStore shutting down."),s.aa.add(5),await kd(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hg.provider={build:()=>new hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Or("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="FirestoreClient";class jD{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lr.UNAUTHENTICATED,this.clientId=fE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Rt(Ja,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Rt(Ja,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=x5(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function g0(e,t){e.asyncQueue.verifyOperationInProgress(),Rt(Ja,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Lb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await BD(e);Rt(Ja,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Eb(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Eb(t.remoteStore,i)),e._onlineComponents=t}async function BD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rt(Ja,"Using user provided OfflineComponentProvider");try{await g0(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===At.FAILED_PRECONDITION||i.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;hu("Error using user provided cache. Falling back to memory cache: "+n),await g0(e,new pd)}}else Rt(Ja,"Using default OfflineComponentProvider"),await g0(e,new MD(void 0));return e._offlineComponents}async function iI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rt(Ja,"Using user provided OnlineComponentProvider"),await Lb(e,e._uninitializedComponentsProvider._online)):(Rt(Ja,"Using default OnlineComponentProvider"),await Lb(e,new hg))),e._onlineComponents}function zD(e){return iI(e).then(t=>t.syncEngine)}async function hy(e){const t=await iI(e),n=t.eventManager;return n.onListen=ED.bind(null,t.syncEngine),n.onUnlisten=PD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CD.bind(null,t.syncEngine),n}function UD(e,t,n={}){const r=new No;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new rI({next:g=>{h.yu(),o.enqueueAndForget(()=>WT(s,d)),g.fromCache&&l.source==="server"?u.reject(new qt(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new GT(a,h,{includeMetadataChanges:!0,Fa:!0});return HT(s,d)}(await hy(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(e,t,n){if(!n)throw new qt(At.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qD(e,t,n,r){if(t===!0&&r===!0)throw new qt(At.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Rb(e){if(!Kt.isDocumentKey(e))throw new qt(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Db(e){if(Kt.isDocumentKey(e))throw new qt(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function s1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Jt(12329,{type:typeof e})}function Ps(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qt(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=s1(e);throw new qt(At.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function $D(e,t){if(t<=0)throw new qt(At.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firestore.googleapis.com",Vb=!0;class Fb{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new qt(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aI,this.ssl=Vb}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Vb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<b7)throw new qt(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sI((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new qt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new qt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new qt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class o1{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qt(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new qt(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L8;switch(r.type){case"firstParty":return new V8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qt(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,GS("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kb.get(n);r&&(Rt("ComponentProvider","Removing Datastore"),kb.delete(n),r.terminate())}(this),Promise.resolve()}}function HD(e,t,n,r={}){var i;e=Ps(e,o1);const s=Hv(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;o.host!==aI&&o.host!==l&&hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Hm(u,a)&&(e._setSettings(u),s&&(lk(`https://${l}`),GS("Firestore",!0)),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=lr.MOCK_USER;else{h=uk(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new qt(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new lr(g)}e._authCredentials=new k8(new cE(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new $o(this.firestore,t,this._query)}}class ui{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ui(this.firestore,t,this._key)}}class Wa extends $o{constructor(t,n,r){super(t,n,Kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ui(this.firestore,null,new Kt(t))}withConverter(t){return new Wa(this.firestore,t,this._path)}}function fg(e,t,...n){if(e=eo(e),oI("collection","path",t),e instanceof o1){const r=Be.fromString(t,...n);return Db(r),new Wa(e,null,r)}{if(!(e instanceof ui||e instanceof Wa))throw new qt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Be.fromString(t,...n));return Db(r),new Wa(e.firestore,null,r)}}function Fc(e,t,...n){if(e=eo(e),arguments.length===1&&(t=fE.newId()),oI("doc","path",t),e instanceof o1){const r=Be.fromString(t,...n);return Rb(r),new ui(e,null,new Kt(r))}{if(!(e instanceof ui||e instanceof Wa))throw new qt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Be.fromString(t,...n));return Rb(r),new ui(e.firestore,e instanceof Wa?e.converter:null,new Kt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="AsyncQueue";class Ob{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new MT(this,"async_queue_retry"),this.ju=()=>{const r=um();r&&Rt(Mb,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new No;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!al(t))throw t;Rt(Mb,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,Or("INTERNAL UNHANDLED ERROR: ",jb(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(t,n,r){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const i=b5.createAndSchedule(this,t,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&Jt(47125,{ec:jb(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function jb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Za extends o1{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Ob,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ob(t),this._firestoreClient=void 0,await t}}}function WD(e,t){const n=typeof e=="object"?e:v8(),r=typeof e=="string"?e:t||tg,i=d8(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ok("firestore");s&&HD(i,...s)}return i}function T5(e){if(e._terminated)throw new qt(At.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lI(e),e._firestoreClient}function lI(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,h){return new wR(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new jD(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}function GD(e,t){hu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return KD(e,hg.provider,{build:r=>new OD(r,n.cacheSizeBytes,t==null?void 0:t.forceOwnership)}),Promise.resolve()}function KD(e,t,n){if((e=Ps(e,Za))._firestoreClient||e._terminated)throw new qt(At.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new qt(At.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},lI(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new uh(qn.fromBase64String(t))}catch(n){throw new qt(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new uh(qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new qt(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new qt(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new qt(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return me(this._lat,t._lat)||me(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^__.*__$/;class YD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new qo(t,this.data,this.fieldMask,n,this.fieldTransforms):new vh(t,this.data,n,this.fieldTransforms)}}class uI{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new qo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function cI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt(40011,{oc:e})}}class N5{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new N5(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ac({path:r,cc:!1});return i.lc(t),i}hc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return dg(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(cI(this.oc)&&QD.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class XD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||r1(t)}dc(t,n,r,i=!1){return new N5({oc:t,methodName:n,Ec:r,path:gn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L5(e){const t=e._freezeSettings(),n=r1(e._databaseId);return new XD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function JD(e,t,n,r,i,s={}){const o=e.dc(s.merge||s.mergeFields?2:0,t,n,i);k5("Data must be an object, but it was:",o,r);const a=hI(r,o);let l,u;if(s.merge)l=new ii(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const g=fy(t,d,n);if(!o.contains(g))throw new qt(At.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);dI(h,g)||h.push(g)}l=new ii(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new YD(new Er(a),l,u)}class l1 extends I5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof l1}}function ZD(e,t,n,r){const i=e.dc(1,t,n);k5("Data must be an object, but it was:",i,r);const s=[],o=Er.empty();ll(r,(l,u)=>{const h=R5(t,l,n);u=eo(u);const d=i.hc(h);if(u instanceof l1)s.push(h);else{const g=Vd(u,d);g!=null&&(s.push(h),o.set(h,g))}});const a=new ii(s);return new uI(o,a,i.fieldTransforms)}function tV(e,t,n,r,i,s){const o=e.dc(1,t,n),a=[fy(t,r,n)],l=[i];if(s.length%2!=0)throw new qt(At.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(fy(t,s[g])),l.push(s[g+1]);const u=[],h=Er.empty();for(let g=a.length-1;g>=0;--g)if(!dI(u,a[g])){const m=a[g];let S=l[g];S=eo(S);const E=o.hc(m);if(S instanceof l1)u.push(m);else{const L=Vd(S,E);L!=null&&(u.push(m),h.set(m,L))}}const d=new ii(u);return new uI(h,d,o.fieldTransforms)}function eV(e,t,n,r=!1){return Vd(n,e.dc(r?4:3,t))}function Vd(e,t){if(fI(e=eo(e)))return k5("Unsupported field value:",t,e),hI(e,t);if(e instanceof I5)return function(r,i){if(!cI(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Vd(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=eo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wn.fromDate(r);return{timestampValue:ah(i.serializer,s)}}if(r instanceof wn){const s=new wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(i.serializer,s)}}if(r instanceof P5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uh)return{bytesValue:aT(i.serializer,r._byteString)};if(r instanceof ui){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:u5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof C5)return function(o,a){return{mapValue:{fields:{[e5]:{stringValue:n5},[eh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return i5(a.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${s1(r)}`)}(e,t)}function hI(e,t){const n={};return IE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ll(e,(r,i)=>{const s=Vd(i,t.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof wn||e instanceof P5||e instanceof uh||e instanceof ui||e instanceof I5||e instanceof C5)}function k5(e,t,n){if(!fI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=s1(n);throw r==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function fy(e,t,n){if((t=eo(t))instanceof a1)return t._internalPath;if(typeof t=="string")return R5(e,t);throw dg("Field path arguments must be of type string or ",e,!1,void 0,n)}const nV=new RegExp("[~\\*/\\[\\]]");function R5(e,t,n){if(t.search(nV)>=0)throw dg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new a1(...t.split("."))._internalPath}catch{throw dg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function dg(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new qt(At.INVALID_ARGUMENT,a+e+l)}function dI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(D5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rV extends pI{data(){return super.data()}}function D5(e,t){return typeof t=="string"?R5(e,t):t instanceof a1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new qt(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V5{}class F5 extends V5{}function gI(e,t,...n){let r=[];t instanceof V5&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof O5).length,a=s.filter(l=>l instanceof M5).length;if(o>1||o>0&&a>0)throw new qt(At.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class M5 extends F5{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new M5(t,n,r)}_apply(t){const n=this._parse(t);return vI(t._query,n),new $o(t.firestore,t.converter,Z2(t._query,n))}_parse(t){const n=L5(t.firestore);return function(s,o,a,l,u,h,d){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new qt(At.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ub(d,h);const S=[];for(const E of d)S.push(zb(l,s,E));g={arrayValue:{values:S}}}else g=zb(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ub(d,h),g=eV(a,o,d,h==="in"||h==="not-in");return Le.create(u,h,g)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class O5 extends V5{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new O5(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$e.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)vI(o,l),o=Z2(o,l)}(t._query,n),new $o(t.firestore,t.converter,Z2(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j5 extends F5{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new j5(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new qt(At.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new qt(At.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hd(s,o)}(t._query,this._field,this._direction);return new $o(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new yh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function yI(e,t="asc"){const n=t,r=D5("orderBy",e);return j5._create(r,n)}class B5 extends F5{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new B5(t,n,r)}_apply(t){return new $o(t.firestore,t.converter,rg(t._query,this._limit,this._limitType))}}function iV(e){return $D("limit",e),B5._create("limit",e,"F")}function zb(e,t,n){if(typeof(n=eo(n))=="string"){if(n==="")throw new qt(At.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$E(t)&&n.indexOf("/")!==-1)throw new qt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Be.fromString(n));if(!Kt.isDocumentKey(r))throw new qt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ud(e,new Kt(r))}if(n instanceof ui)return ud(e,n._key);throw new qt(At.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${s1(n)}.`)}function Ub(e,t){if(!Array.isArray(e)||e.length===0)throw new qt(At.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vI(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new qt(At.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new qt(At.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class sV{convertValue(t,n="none"){switch(Qa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Jt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ll(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,i;const s=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[eh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>fn(o.doubleValue));return new C5(s)}convertGeoPoint(t){return new P5(fn(t.latitude),fn(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Wg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ad(t));default:return null}}convertTimestamp(t){const n=Fo(t);return new wn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Be.fromString(t);ee(yT(r),9688,{name:t});const i=new fu(r.get(1),r.get(3)),s=new Kt(r.popFirst(5));return i.isEqual(n)||Or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wI extends pI{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(D5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cm extends wI{data(t={}){return super.data(t)}}class _I{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new cm(this._firestore,this._userDataWriter,r.key,r,new hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qt(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new cm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new cm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:aV(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt(61501,{type:e})}}class z5 extends sV{constructor(t){super(),this.firestore=t}convertBytes(t){return new uh(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ui(this.firestore,null,n)}}function lV(e){e=Ps(e,$o);const t=Ps(e.firestore,Za),n=T5(t),r=new z5(t);return mI(e._query),UD(n,e._query).then(i=>new _I(t,r,e,i))}function dy(e,t,n,...r){e=Ps(e,ui);const i=Ps(e.firestore,Za),s=L5(i);let o;return o=typeof(t=eo(t))=="string"||t instanceof a1?tV(s,"updateDoc",e._key,t,n,r):ZD(s,"updateDoc",e._key,t),U5(i,[o.toMutation(e._key,jr.exists(!0))])}function bI(e){return U5(Ps(e.firestore,Za),[new Jg(e._key,jr.none())])}function xI(e,t){const n=Ps(e.firestore,Za),r=Fc(e),i=oV(e.converter,t);return U5(n,[JD(L5(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}function uV(e,...t){var n,r,i;e=eo(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||Bb(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Bb(t[o])){const d=t[o];t[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,h;if(e instanceof ui)u=Ps(e.firestore,Za),h=Kg(e._key.path),l={next:d=>{t[o]&&t[o](cV(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Ps(e,$o);u=Ps(d.firestore,Za),h=d._query;const g=new z5(u);l={next:m=>{t[o]&&t[o](new _I(u,g,d,m))},error:t[o+1],complete:t[o+2]},mI(e._query)}return function(g,m,S,E){const L=new rI(E),_=new GT(m,L,S);return g.asyncQueue.enqueueAndForget(async()=>HT(await hy(g),_)),()=>{L.yu(),g.asyncQueue.enqueueAndForget(async()=>WT(await hy(g),_))}}(T5(u),h,a,l)}function U5(e,t){return function(r,i){const s=new No;return r.asyncQueue.enqueueAndForget(async()=>ND(await zD(r),i,s)),s.promise}(T5(e),t)}function cV(e,t,n){const r=n.docs.get(t._key),i=new z5(e);return new wI(e,i,t._key,r,new hf(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){gh=i})(y8),Gm(new Zf("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Za(new R8(r.getProvider("auth-internal")),new F8(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qt(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dc(b4,x4,t),Dc(b4,x4,"esm2017")})();const hV={apiKey:"AIzaSyAIX6I-1ssRG0TGNaiN4yVgFVhvn--NZeE",authDomain:"organizador-d190a.firebaseapp.com",projectId:"organizador-d190a",storageBucket:"organizador-d190a.appspot.com",messagingSenderId:"224407294338",appId:"1:224407294338:web:b15ec4b6f309ad03237f9b"},fV=tE(hV),Hs=WD(fV);GD(Hs).catch(e=>{e.code==="failed-precondition"?console.warn("Persistência offline falhou: múltiplas abas abertas"):e.code==="unimplemented"&&console.warn("Persistência offline não é suportada neste navegador")});const q5=Ot.createContext({});function $5(e){const t=Ot.useRef(null);return t.current===null&&(t.current=e()),t.current}const H5=typeof window<"u",AI=H5?Ot.useLayoutEffect:Ot.useEffect,u1=Ot.createContext(null);function W5(e,t){e.indexOf(t)===-1&&e.push(t)}function G5(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Oo=(e,t,n)=>n>t?t:n<e?e:n;let K5=()=>{};const jo={},SI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function EI(e){return typeof e=="object"&&e!==null}const TI=e=>/^0[^.\s]+$/u.test(e);function Q5(e){let t;return()=>(t===void 0&&(t=e()),t)}const ns=e=>e,dV=(e,t)=>n=>t(e(n)),Fd=(...e)=>e.reduce(dV),md=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Y5{constructor(){this.subscriptions=[]}add(t){return W5(this.subscriptions,t),()=>G5(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xs=e=>e*1e3,Js=e=>e/1e3;function II(e,t){return t?e*(1e3/t):0}const PI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pV=1e-7,mV=12;function gV(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=PI(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>pV&&++a<mV);return o}function Md(e,t,n,r){if(e===t&&n===r)return ns;const i=s=>gV(s,0,1,e,n);return s=>s===0||s===1?s:PI(i(s),t,r)}const CI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,NI=e=>t=>1-e(1-t),LI=Md(.33,1.53,.69,.99),X5=NI(LI),kI=CI(X5),RI=e=>(e*=2)<1?.5*X5(e):.5*(2-Math.pow(2,-10*(e-1))),J5=e=>1-Math.sin(Math.acos(e)),DI=NI(J5),VI=CI(J5),yV=Md(.42,0,1,1),vV=Md(0,0,.58,1),FI=Md(.42,0,.58,1),wV=e=>Array.isArray(e)&&typeof e[0]!="number",MI=e=>Array.isArray(e)&&typeof e[0]=="number",_V={linear:ns,easeIn:yV,easeInOut:FI,easeOut:vV,circIn:J5,circInOut:VI,circOut:DI,backIn:X5,backInOut:kI,backOut:LI,anticipate:RI},bV=e=>typeof e=="string",qb=e=>{if(MI(e)){K5(e.length===4);const[t,n,r,i]=e;return Md(t,n,r,i)}else if(bV(e))return _V[e];return e},Dp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],$b={value:null,addProjectionMetrics:null};function xV(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(h.schedule(d),e()),l++,d(a)}const h={schedule:(d,g=!1,m=!1)=>{const E=m&&i?n:r;return g&&o.add(d),E.has(d)||E.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),t&&$b.value&&$b.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,h.process(d))}};return h}const AV=40;function OI(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Dp.reduce((P,q)=>(P[q]=xV(s,t?q:void 0),P),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:d,preRender:g,render:m,postRender:S}=o,E=()=>{const P=jo.useManualTiming?i.timestamp:performance.now();n=!1,jo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,AV),1)),i.timestamp=P,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),d.process(i),g.process(i),m.process(i),S.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(E))},L=()=>{n=!0,r=!0,i.isProcessing||e(E)};return{schedule:Dp.reduce((P,q)=>{const $=o[q];return P[q]=(Q,C=!1,x=!1)=>(n||L(),$.schedule(Q,C,x)),P},{}),cancel:P=>{for(let q=0;q<Dp.length;q++)o[Dp[q]].cancel(P)},state:i,steps:o}}const{schedule:_n,cancel:tl,state:ar,steps:y0}=OI(typeof requestAnimationFrame<"u"?requestAnimationFrame:ns,!0);let hm;function SV(){hm=void 0}const si={now:()=>(hm===void 0&&si.set(ar.isProcessing||jo.useManualTiming?ar.timestamp:performance.now()),hm),set:e=>{hm=e,queueMicrotask(SV)}},jI=e=>t=>typeof t=="string"&&t.startsWith(e),Z5=jI("--"),EV=jI("var(--"),tw=e=>EV(e)?TV.test(e.split("/*")[0].trim()):!1,TV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_h={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gd={..._h,transform:e=>Oo(0,1,e)},Vp={..._h,default:1},Cf=e=>Math.round(e*1e5)/1e5,ew=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IV(e){return e==null}const PV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nw=(e,t)=>n=>!!(typeof n=="string"&&PV.test(n)&&n.startsWith(e)||t&&!IV(n)&&Object.prototype.hasOwnProperty.call(n,t)),BI=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(ew);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},CV=e=>Oo(0,255,e),v0={..._h,transform:e=>Math.round(CV(e))},Ql={test:nw("rgb","red"),parse:BI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+v0.transform(e)+", "+v0.transform(t)+", "+v0.transform(n)+", "+Cf(gd.transform(r))+")"};function NV(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const py={test:nw("#"),parse:NV,transform:Ql.transform},Od=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Aa=Od("deg"),Zs=Od("%"),pe=Od("px"),LV=Od("vh"),kV=Od("vw"),Hb=(()=>({...Zs,parse:e=>Zs.parse(e)/100,transform:e=>Zs.transform(e*100)}))(),xc={test:nw("hsl","hue"),parse:BI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Zs.transform(Cf(t))+", "+Zs.transform(Cf(n))+", "+Cf(gd.transform(r))+")"},xr={test:e=>Ql.test(e)||py.test(e)||xc.test(e),parse:e=>Ql.test(e)?Ql.parse(e):xc.test(e)?xc.parse(e):py.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ql.transform(e):xc.transform(e)},RV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DV(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ew))==null?void 0:t.length)||0)+(((n=e.match(RV))==null?void 0:n.length)||0)>0}const zI="number",UI="color",VV="var",FV="var(",Wb="${}",MV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yd(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(MV,l=>(xr.test(l)?(r.color.push(s),i.push(UI),n.push(xr.parse(l))):l.startsWith(FV)?(r.var.push(s),i.push(VV),n.push(l)):(r.number.push(s),i.push(zI),n.push(parseFloat(l))),++s,Wb)).split(Wb);return{values:n,split:a,indexes:r,types:i}}function qI(e){return yd(e).values}function $I(e){const{split:t,types:n}=yd(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===zI?s+=Cf(i[o]):a===UI?s+=xr.transform(i[o]):s+=i[o]}return s}}const OV=e=>typeof e=="number"?0:e;function jV(e){const t=qI(e);return $I(e)(t.map(OV))}const el={test:DV,parse:qI,createTransformer:$I,getAnimatableNone:jV};function w0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function BV({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=w0(l,a,e+1/3),s=w0(l,a,e),o=w0(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function pg(e,t){return n=>n>0?t:e}const yn=(e,t,n)=>e+(t-e)*n,_0=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},zV=[py,Ql,xc],UV=e=>zV.find(t=>t.test(e));function Gb(e){const t=UV(e);if(!t)return!1;let n=t.parse(e);return t===xc&&(n=BV(n)),n}const Kb=(e,t)=>{const n=Gb(e),r=Gb(t);if(!n||!r)return pg(e,t);const i={...n};return s=>(i.red=_0(n.red,r.red,s),i.green=_0(n.green,r.green,s),i.blue=_0(n.blue,r.blue,s),i.alpha=yn(n.alpha,r.alpha,s),Ql.transform(i))},my=new Set(["none","hidden"]);function qV(e,t){return my.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function $V(e,t){return n=>yn(e,t,n)}function rw(e){return typeof e=="number"?$V:typeof e=="string"?tw(e)?pg:xr.test(e)?Kb:GV:Array.isArray(e)?HI:typeof e=="object"?xr.test(e)?Kb:HV:pg}function HI(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>rw(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function HV(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=rw(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function WV(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const GV=(e,t)=>{const n=el.createTransformer(t),r=yd(e),i=yd(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?my.has(e)&&!i.values.length||my.has(t)&&!r.values.length?qV(e,t):Fd(HI(WV(r,i),i.values),n):pg(e,t)};function WI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?yn(e,t,n):rw(e)(e,t)}const KV=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>_n.update(t,n),stop:()=>tl(t),now:()=>ar.isProcessing?ar.timestamp:si.now()}},GI=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},mg=2e4;function iw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<mg;)t+=n,r=e.next(t);return t>=mg?1/0:t}function QV(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(iw(r),mg);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Js(i)}}const YV=5;function KI(e,t,n){const r=Math.max(t-YV,0);return II(n-e(r),t-r)}const In={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},b0=.001;function XV({duration:e=In.duration,bounce:t=In.bounce,velocity:n=In.velocity,mass:r=In.mass}){let i,s,o=1-t;o=Oo(In.minDamping,In.maxDamping,o),e=Oo(In.minDuration,In.maxDuration,Js(e)),o<1?(i=u=>{const h=u*o,d=h*e,g=h-n,m=gy(u,o),S=Math.exp(-d);return b0-g/m*S},s=u=>{const d=u*o*e,g=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,S=Math.exp(-d),E=gy(Math.pow(u,2),o);return(-i(u)+b0>0?-1:1)*((g-m)*S)/E}):(i=u=>{const h=Math.exp(-u*e),d=(u-n)*e+1;return-b0+h*d},s=u=>{const h=Math.exp(-u*e),d=(n-u)*(e*e);return h*d});const a=5/e,l=ZV(i,s,a);if(e=Xs(e),isNaN(l))return{stiffness:In.stiffness,damping:In.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const JV=12;function ZV(e,t,n){let r=n;for(let i=1;i<JV;i++)r=r-e(r)/t(r);return r}function gy(e,t){return e*Math.sqrt(1-t*t)}const t9=["duration","bounce"],e9=["stiffness","damping","mass"];function Qb(e,t){return t.some(n=>e[n]!==void 0)}function n9(e){let t={velocity:In.velocity,stiffness:In.stiffness,damping:In.damping,mass:In.mass,isResolvedFromDuration:!1,...e};if(!Qb(e,e9)&&Qb(e,t9))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Oo(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:In.mass,stiffness:i,damping:s}}else{const n=XV(e);t={...t,...n,mass:In.mass},t.isResolvedFromDuration=!0}return t}function gg(e=In.visualDuration,t=In.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:d,velocity:g,isResolvedFromDuration:m}=n9({...n,velocity:-Js(n.velocity||0)}),S=g||0,E=u/(2*Math.sqrt(l*h)),L=o-s,_=Js(Math.sqrt(l/h)),b=Math.abs(L)<5;r||(r=b?In.restSpeed.granular:In.restSpeed.default),i||(i=b?In.restDelta.granular:In.restDelta.default);let P;if(E<1){const $=gy(_,E);P=Q=>{const C=Math.exp(-E*_*Q);return o-C*((S+E*_*L)/$*Math.sin($*Q)+L*Math.cos($*Q))}}else if(E===1)P=$=>o-Math.exp(-_*$)*(L+(S+_*L)*$);else{const $=_*Math.sqrt(E*E-1);P=Q=>{const C=Math.exp(-E*_*Q),x=Math.min($*Q,300);return o-C*((S+E*_*L)*Math.sinh(x)+$*L*Math.cosh(x))/$}}const q={calculatedDuration:m&&d||null,next:$=>{const Q=P($);if(m)a.done=$>=d;else{let C=$===0?S:0;E<1&&(C=$===0?Xs(S):KI(P,$,Q));const x=Math.abs(C)<=r,V=Math.abs(o-Q)<=i;a.done=x&&V}return a.value=a.done?o:Q,a},toString:()=>{const $=Math.min(iw(q),mg),Q=GI(C=>q.next($*C).value,$,30);return $+"ms "+Q},toTransition:()=>{}};return q}gg.applyToOptions=e=>{const t=QV(e,100,gg);return e.ease=t.ease,e.duration=Xs(t.duration),e.type="keyframes",e};function yy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=e[0],g={done:!1,value:d},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,S=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let E=n*t;const L=d+E,_=o===void 0?L:o(L);_!==L&&(E=_-d);const b=x=>-E*Math.exp(-x/r),P=x=>_+b(x),q=x=>{const V=b(x),j=P(x);g.done=Math.abs(V)<=u,g.value=g.done?_:j};let $,Q;const C=x=>{m(g.value)&&($=x,Q=gg({keyframes:[g.value,S(g.value)],velocity:KI(P,x,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return C(0),{calculatedDuration:null,next:x=>{let V=!1;return!Q&&$===void 0&&(V=!0,q(x),C(x)),$!==void 0&&x>=$?Q.next(x-$):(!V&&q(x),g)}}}function r9(e,t,n){const r=[],i=n||jo.mix||WI,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ns:t;a=Fd(l,a)}r.push(a)}return r}function i9(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(K5(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=r9(t,r,i),l=a.length,u=h=>{if(o&&h<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const g=md(e[d],e[d+1],h);return a[d](g)};return n?h=>u(Oo(e[0],e[s-1],h)):u}function s9(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=md(0,t,r);e.push(yn(n,1,i))}}function o9(e){const t=[0];return s9(t,e.length-1),t}function a9(e,t){return e.map(n=>n*t)}function l9(e,t){return e.map(()=>t||FI).splice(0,e.length-1)}function Nf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=wV(r)?r.map(qb):qb(r),s={done:!1,value:t[0]},o=a9(n&&n.length===t.length?n:o9(t),e),a=i9(o,t,{ease:Array.isArray(i)?i:l9(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const u9=e=>e!==null;function sw(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(u9),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const c9={decay:yy,inertia:yy,tween:Nf,keyframes:Nf,spring:gg};function QI(e){typeof e.type=="string"&&(e.type=c9[e.type])}class ow{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const h9=e=>e/100;class aw extends ow{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==si.now()&&this.tick(si.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;QI(t);const{type:n=Nf,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Nf;l!==Nf&&typeof a[0]!="number"&&(this.mixKeyframes=Fd(h9,WI(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=iw(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:g,repeatDelay:m,type:S,onUpdate:E,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,q=r;if(d){const x=Math.min(this.currentTime,i)/a;let V=Math.floor(x),j=x%1;!j&&x>=1&&(j=1),j===1&&V--,V=Math.min(V,d+1),!!(V%2)&&(g==="reverse"?(j=1-j,m&&(j-=m/a)):g==="mirror"&&(q=o)),P=Oo(0,1,j)*a}const $=b?{done:!1,value:h[0]}:q.next(P);s&&($.value=s($.value));let{done:Q}=$;!b&&l!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return C&&S!==yy&&($.value=sw(h,this.options,L,this.speed)),E&&E($.value),C&&this.finish(),$}then(t,n){return this.finished.then(t,n)}get duration(){return Js(this.calculatedDuration)}get time(){return Js(this.currentTime)}set time(t){var n;t=Xs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(si.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Js(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=KV,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(si.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function f9(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Yl=e=>e*180/Math.PI,vy=e=>{const t=Yl(Math.atan2(e[1],e[0]));return wy(t)},d9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vy,rotateZ:vy,skewX:e=>Yl(Math.atan(e[1])),skewY:e=>Yl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},wy=e=>(e=e%360,e<0&&(e+=360),e),Yb=vy,Xb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),p9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xb,scaleY:Jb,scale:e=>(Xb(e)+Jb(e))/2,rotateX:e=>wy(Yl(Math.atan2(e[6],e[5]))),rotateY:e=>wy(Yl(Math.atan2(-e[2],e[0]))),rotateZ:Yb,rotate:Yb,skewX:e=>Yl(Math.atan(e[4])),skewY:e=>Yl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _y(e){return e.includes("scale")?1:0}function by(e,t){if(!e||e==="none")return _y(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=p9,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=d9,i=a}if(!i)return _y(t);const s=r[t],o=i[1].split(",").map(g9);return typeof s=="function"?s(o):o[s]}const m9=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return by(n,t)};function g9(e){return parseFloat(e.trim())}const bh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xh=(()=>new Set(bh))(),Zb=e=>e===_h||e===pe,y9=new Set(["x","y","z"]),v9=bh.filter(e=>!y9.has(e));function w9(e){const t=[];return v9.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const nu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>by(t,"x"),y:(e,{transform:t})=>by(t,"y")};nu.translateX=nu.x;nu.translateY=nu.y;const ru=new Set;let xy=!1,Ay=!1,Sy=!1;function YI(){if(Ay){const e=Array.from(ru).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=w9(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ay=!1,xy=!1,ru.forEach(e=>e.complete(Sy)),ru.clear()}function XI(){ru.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ay=!0)})}function _9(){Sy=!0,XI(),YI(),Sy=!1}class lw{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ru.add(this),xy||(xy=!0,_n.read(XI),_n.resolveKeyframes(YI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}f9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ru.delete(this)}cancel(){this.state==="scheduled"&&(ru.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b9=e=>e.startsWith("--");function x9(e,t,n){b9(t)?e.style.setProperty(t,n):e.style[t]=n}const A9=Q5(()=>window.ScrollTimeline!==void 0),S9={};function E9(e,t){const n=Q5(e);return()=>S9[t]??n()}const JI=E9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ff=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,t3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ff([0,.65,.55,1]),circOut:ff([.55,0,1,.45]),backIn:ff([.31,.01,.66,-.59]),backOut:ff([.33,1.53,.69,.99])};function ZI(e,t){if(e)return typeof e=="function"?JI()?GI(e,t):"ease-out":MI(e)?ff(e):Array.isArray(e)?e.map(n=>ZI(n,t)||t3.easeOut):t3[e]}function T9(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[t]:n};l&&(h.offset=l);const d=ZI(a,i);Array.isArray(d)&&(h.easing=d);const g={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),e.animate(h,g)}function t6(e){return typeof e=="function"&&"applyToOptions"in e}function I9({type:e,...t}){return t6(e)&&JI()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class P9 extends ow{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,K5(typeof t.type!="string");const u=I9(t);this.animation=T9(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=sw(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):x9(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Js(Number(t))}get time(){return Js(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Xs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&A9()?(this.animation.timeline=t,ns):n(this)}}const e6={anticipate:RI,backInOut:kI,circInOut:VI};function C9(e){return e in e6}function N9(e){typeof e.ease=="string"&&C9(e.ease)&&(e.ease=e6[e.ease])}const e3=10;class L9 extends P9{constructor(t){N9(t),QI(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new aw({...o,autoplay:!1}),l=Xs(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-e3).value,a.sample(l).value,e3),a.stop()}}const n3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(el.test(e)||e==="0")&&!e.startsWith("url("));function k9(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function R9(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=n3(i,t),a=n3(s,t);return!o||!a?!1:k9(e)||(n==="spring"||t6(n))&&r}function uw(e){return EI(e)&&"offsetHeight"in e}const D9=new Set(["opacity","clipPath","filter","transform"]),V9=Q5(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F9(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!uw((u=t==null?void 0:t.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return V9()&&n&&D9.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const M9=40;class O9 extends ow{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...d}){var S;super(),this.stop=()=>{var E,L;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(L=this.keyframeResolver)==null||L.cancel()},this.createdAt=si.now();const g={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:h,...d},m=(h==null?void 0:h.KeyframeResolver)||lw;this.keyframeResolver=new m(a,(E,L,_)=>this.onKeyframesResolved(E,L,g,!_),l,u,h),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=si.now(),R9(t,s,o,a)||((jo.instantAnimations||!l)&&(h==null||h(sw(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>M9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&F9(g)?new L9({...g,element:g.motionValue.owner.current}):new aw(g);m.finished.then(()=>this.notifyFinished()).catch(ns),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),_9()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const j9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B9(e){const t=j9.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function n6(e,t,n=1){const[r,i]=B9(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return SI(o)?parseFloat(o):o}return tw(i)?n6(i,t,n+1):i}function cw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const r6=new Set(["width","height","top","left","right","bottom",...bh]),z9={test:e=>e==="auto",parse:e=>e},i6=e=>t=>t.test(e),s6=[_h,pe,Zs,Aa,kV,LV,z9],r3=e=>s6.find(i6(e));function U9(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||TI(e):!0}const q9=new Set(["brightness","contrast","saturate","opacity"]);function $9(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ew)||[];if(!r)return e;const i=n.replace(r,"");let s=q9.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const H9=/\b([a-z-]*)\(.*?\)/gu,Ey={...el,getAnimatableNone:e=>{const t=e.match(H9);return t?t.map($9).join(" "):e}},i3={..._h,transform:Math.round},W9={rotate:Aa,rotateX:Aa,rotateY:Aa,rotateZ:Aa,scale:Vp,scaleX:Vp,scaleY:Vp,scaleZ:Vp,skew:Aa,skewX:Aa,skewY:Aa,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:gd,originX:Hb,originY:Hb,originZ:pe},hw={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe,...W9,zIndex:i3,fillOpacity:gd,strokeOpacity:gd,numOctaves:i3},G9={...hw,color:xr,backgroundColor:xr,outlineColor:xr,fill:xr,stroke:xr,borderColor:xr,borderTopColor:xr,borderRightColor:xr,borderBottomColor:xr,borderLeftColor:xr,filter:Ey,WebkitFilter:Ey},o6=e=>G9[e];function a6(e,t){let n=o6(e);return n!==Ey&&(n=el),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const K9=new Set(["auto","none","0"]);function Q9(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!K9.has(s)&&yd(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=a6(n,i)}class Y9 extends lw{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),tw(u))){const h=n6(u,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!r6.has(r)||t.length!==2)return;const[i,s]=t,o=r3(i),a=r3(s);if(o!==a)if(Zb(o)&&Zb(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else nu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||U9(t[i]))&&r.push(i);r.length&&Q9(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=nu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function X9(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const s3=30,J9=e=>!isNaN(parseFloat(e));class Z9{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=si.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=si.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=J9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Y5);const r=this.events[t].add(n);return t==="change"?()=>{r(),_n.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>s3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,s3);return II(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ch(e,t){return new Z9(e,t)}const l6=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:fw,cancel:QB}=OI(queueMicrotask,!1),_s={x:!1,y:!1};function u6(){return _s.x||_s.y}function tF(e){return e==="x"||e==="y"?_s[e]?null:(_s[e]=!0,()=>{_s[e]=!1}):_s.x||_s.y?null:(_s.x=_s.y=!0,()=>{_s.x=_s.y=!1})}function c6(e,t){const n=X9(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function o3(e){return!(e.pointerType==="touch"||u6())}function eF(e,t,n={}){const[r,i,s]=c6(e,n),o=a=>{if(!o3(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const h=d=>{o3(d)&&(u(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const h6=(e,t)=>t?e===t?!0:h6(e,t.parentElement):!1,dw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rF(e){return nF.has(e.tagName)||e.tabIndex!==-1}const fm=new WeakSet;function a3(e){return t=>{t.key==="Enter"&&e(t)}}function x0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const iF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=a3(()=>{if(fm.has(n))return;x0(n,"down");const i=a3(()=>{x0(n,"up")}),s=()=>x0(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function l3(e){return dw(e)&&!u6()}function sF(e,t,n={}){const[r,i,s]=c6(e,n),o=a=>{const l=a.currentTarget;if(!l3(a))return;fm.add(l);const u=t(l,a),h=(m,S)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",g),fm.has(l)&&fm.delete(l),l3(m)&&typeof u=="function"&&u(m,{success:S})},d=m=>{h(m,l===window||l===document||n.useGlobalTarget||h6(l,m.target))},g=m=>{h(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),uw(a)&&(a.addEventListener("focus",u=>iF(u,i)),!rF(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function f6(e){return EI(e)&&"ownerSVGElement"in e}function oF(e){return f6(e)&&e.tagName==="svg"}const Ir=e=>!!(e&&e.getVelocity),aF=[...s6,xr,el],lF=e=>aF.find(i6(e)),pw=Ot.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class uF extends Ot.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=uw(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cF({children:e,isPresent:t,anchorX:n}){const r=Ot.useId(),i=Ot.useRef(null),s=Ot.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=Ot.useContext(pw);return Ot.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:h,right:d}=s.current;if(t||!i.current||!a||!l)return;const g=n==="left"?`left: ${h}`:`right: ${d}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${g}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),Dt.jsx(uF,{isPresent:t,childRef:i,sizeRef:s,children:Ot.cloneElement(e,{ref:i})})}const hF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=$5(fF),u=Ot.useId();let h=!0,d=Ot.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:g=>{l.set(g,!0);for(const m of l.values())if(!m)return;r&&r()},register:g=>(l.set(g,!1),()=>l.delete(g))}),[n,l,r]);return s&&h&&(d={...d}),Ot.useMemo(()=>{l.forEach((g,m)=>l.set(m,!1))},[n]),Ot.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=Dt.jsx(cF,{isPresent:n,anchorX:a,children:e})),Dt.jsx(u1.Provider,{value:d,children:e})};function fF(){return new Map}function d6(e=!0){const t=Ot.useContext(u1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=Ot.useId();Ot.useEffect(()=>{if(e)return i(s)},[e]);const o=Ot.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Fp=e=>e.key||"";function u3(e){const t=[];return Ot.Children.forEach(e,n=>{Ot.isValidElement(n)&&t.push(n)}),t}const p6=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,u]=d6(o),h=Ot.useMemo(()=>u3(e),[e]),d=o&&!l?[]:h.map(Fp),g=Ot.useRef(!0),m=Ot.useRef(h),S=$5(()=>new Map),[E,L]=Ot.useState(h),[_,b]=Ot.useState(h);AI(()=>{g.current=!1,m.current=h;for(let $=0;$<_.length;$++){const Q=Fp(_[$]);d.includes(Q)?S.delete(Q):S.get(Q)!==!0&&S.set(Q,!1)}},[_,d.length,d.join("-")]);const P=[];if(h!==E){let $=[...h];for(let Q=0;Q<_.length;Q++){const C=_[Q],x=Fp(C);d.includes(x)||($.splice(Q,0,C),P.push(C))}return s==="wait"&&P.length&&($=P),b(u3($)),L(h),null}const{forceRender:q}=Ot.useContext(q5);return Dt.jsx(Dt.Fragment,{children:_.map($=>{const Q=Fp($),C=o&&!l?!1:h===_||d.includes(Q),x=()=>{if(S.has(Q))S.set(Q,!0);else return;let V=!0;S.forEach(j=>{j||(V=!1)}),V&&(q==null||q(),b(m.current),o&&(u==null||u()),r&&r())};return Dt.jsx(hF,{isPresent:C,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,onExitComplete:C?void 0:x,anchorX:a,children:$},Q)})})},m6=Ot.createContext({strict:!1}),c3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hh={};for(const e in c3)hh[e]={isEnabled:t=>c3[e].some(n=>!!t[n])};function dF(e){for(const t in e)hh[t]={...hh[t],...e[t]}}const pF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pF.has(e)}let g6=e=>!yg(e);function mF(e){e&&(g6=t=>t.startsWith("on")?!yg(t):e(t))}try{mF(require("@emotion/is-prop-valid").default)}catch{}function gF(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(g6(i)||n===!0&&yg(i)||!t&&!yg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function yF(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const c1=Ot.createContext({});function h1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vd(e){return typeof e=="string"||Array.isArray(e)}const mw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gw=["initial",...mw];function f1(e){return h1(e.animate)||gw.some(t=>vd(e[t]))}function y6(e){return!!(f1(e)||e.variants)}function vF(e,t){if(f1(e)){const{initial:n,animate:r}=e;return{initial:n===!1||vd(n)?n:void 0,animate:vd(r)?r:void 0}}return e.inherit!==!1?t:{}}function wF(e){const{initial:t,animate:n}=vF(e,Ot.useContext(c1));return Ot.useMemo(()=>({initial:t,animate:n}),[h3(t),h3(n)])}function h3(e){return Array.isArray(e)?e.join(" "):e}const _F=Symbol.for("motionComponentSymbol");function Ac(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bF(e,t,n){return Ot.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ac(n)&&(n.current=r))},[t])}const yw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xF="framerAppearId",v6="data-"+yw(xF),w6=Ot.createContext({});function AF(e,t,n,r,i){var E,L;const{visualElement:s}=Ot.useContext(c1),o=Ot.useContext(m6),a=Ot.useContext(u1),l=Ot.useContext(pw).reducedMotion,u=Ot.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,d=Ot.useContext(w6);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&SF(u.current,n,i,d);const g=Ot.useRef(!1);Ot.useInsertionEffect(()=>{h&&g.current&&h.update(n,a)});const m=n[v6],S=Ot.useRef(!!m&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,m))&&((L=window.MotionHasOptimisedAnimation)==null?void 0:L.call(window,m)));return AI(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),fw.render(h.render),S.current&&h.animationState&&h.animationState.animateChanges())}),Ot.useEffect(()=>{h&&(!S.current&&h.animationState&&h.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),S.current=!1))}),h}function SF(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_6(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ac(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function _6(e){if(e)return e.options.allowProjection!==!1?e.projection:_6(e.parent)}function EF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&dF(e);function s(a,l){let u;const h={...Ot.useContext(pw),...a,layoutId:TF(a)},{isStatic:d}=h,g=wF(a),m=r(a,d);if(!d&&H5){IF();const S=PF(h);u=S.MeasureLayout,g.visualElement=AF(i,m,h,t,S.ProjectionNode)}return Dt.jsxs(c1.Provider,{value:g,children:[u&&g.visualElement?Dt.jsx(u,{visualElement:g.visualElement,...h}):null,n(i,a,bF(m,g.visualElement,l),m,d,g.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=Ot.forwardRef(s);return o[_F]=i,o}function TF({layoutId:e}){const t=Ot.useContext(q5).id;return t&&e!==void 0?t+"-"+e:e}function IF(e,t){Ot.useContext(m6).strict}function PF(e){const{drag:t,layout:n}=hh;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const wd={};function CF(e){for(const t in e)wd[t]=e[t],Z5(t)&&(wd[t].isCSSVariable=!0)}function b6(e,{layout:t,layoutId:n}){return xh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wd[e]||e==="opacity")}const NF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LF=bh.length;function kF(e,t,n){let r="",i=!0;for(let s=0;s<LF;s++){const o=bh[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=l6(a,hw[o]);if(!l){i=!1;const h=NF[o]||o;r+=`${h}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function vw(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(xh.has(l)){o=!0;continue}else if(Z5(l)){i[l]=u;continue}else{const h=l6(u,hw[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(t.transform||(o||n?r.transform=kF(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const ww=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function x6(e,t,n){for(const r in t)!Ir(t[r])&&!b6(r,n)&&(e[r]=t[r])}function RF({transformTemplate:e},t){return Ot.useMemo(()=>{const n=ww();return vw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function DF(e,t){const n=e.style||{},r={};return x6(r,n,e),Object.assign(r,RF(e,t)),r}function VF(e,t){const n={},r=DF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const FF={offset:"stroke-dashoffset",array:"stroke-dasharray"},MF={offset:"strokeDashoffset",array:"strokeDasharray"};function OF(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?FF:MF;e[s.offset]=pe.transform(-r);const o=pe.transform(t),a=pe.transform(n);e[s.array]=`${o} ${a}`}function A6(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,h){if(vw(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:g}=e;d.transform&&(g.transform=d.transform,delete d.transform),(g.transform||d.transformOrigin)&&(g.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&OF(d,i,s,o,!1)}const S6=()=>({...ww(),attrs:{}}),E6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jF(e,t,n,r){const i=Ot.useMemo(()=>{const s=S6();return A6(s,t,E6(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};x6(s,e.style,e),i.style={...s,...i.style}}return i}const BF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _w(e){return typeof e!="string"||e.includes("-")?!1:!!(BF.indexOf(e)>-1||/[A-Z]/u.test(e))}function zF(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(_w(n)?jF:VF)(r,s,o,n),u=gF(r,typeof n=="string",e),h=n!==Ot.Fragment?{...u,...l,ref:i}:{},{children:d}=r,g=Ot.useMemo(()=>Ir(d)?d.get():d,[d]);return Ot.createElement(n,{...h,children:g})}}function f3(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function bw(e,t,n,r){if(typeof t=="function"){const[i,s]=f3(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=f3(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function dm(e){return Ir(e)?e.get():e}function UF({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:qF(n,r,i,e),renderState:t()}}const T6=e=>(t,n)=>{const r=Ot.useContext(c1),i=Ot.useContext(u1),s=()=>UF(e,t,r,i);return n?s():$5(s)};function qF(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=dm(s[g]);let{initial:o,animate:a}=e;const l=f1(e),u=y6(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!h1(d)){const g=Array.isArray(d)?d:[d];for(let m=0;m<g.length;m++){const S=bw(e,g[m]);if(S){const{transitionEnd:E,transition:L,..._}=S;for(const b in _){let P=_[b];if(Array.isArray(P)){const q=h?P.length-1:0;P=P[q]}P!==null&&(i[b]=P)}for(const b in E)i[b]=E[b]}}}return i}function xw(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(Ir(r[o])||t.style&&Ir(t.style[o])||b6(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const $F={useVisualState:T6({scrapeMotionValuesFromProps:xw,createRenderState:ww})};function I6(e,t,n){const r=xw(e,t,n);for(const i in e)if(Ir(e[i])||Ir(t[i])){const s=bh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const HF={useVisualState:T6({scrapeMotionValuesFromProps:I6,createRenderState:S6})};function WF(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={..._w(r)?HF:$F,preloadedFeatures:e,useRender:zF(i),createVisualElement:t,Component:r};return EF(o)}}function _d(e,t,n){const r=e.getProps();return bw(r,t,n!==void 0?n:r.custom,e)}const Ty=e=>Array.isArray(e);function GF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ch(n))}function KF(e){return Ty(e)?e[e.length-1]||0:e}function QF(e,t){const n=_d(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=KF(s[o]);GF(e,o,a)}}function YF(e){return!!(Ir(e)&&e.add)}function Iy(e,t){const n=e.getValue("willChange");if(YF(n))return n.add(t);if(!n&&jo.WillChange){const r=new jo.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function P6(e){return e.props[v6]}const XF=e=>e!==null;function JF(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(XF),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const ZF={type:"spring",stiffness:500,damping:25,restSpeed:10},tM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eM={type:"keyframes",duration:.8},nM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rM=(e,{keyframes:t})=>t.length>2?eM:xh.has(e)?e.startsWith("scale")?tM(t[1]):ZF:nM;function iM({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const Aw=(e,t,n,r={},i,s)=>o=>{const a=cw(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xs(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};iM(a)||Object.assign(h,rM(e,h)),h.duration&&(h.duration=Xs(h.duration)),h.repeatDelay&&(h.repeatDelay=Xs(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),(jo.instantAnimations||jo.skipAnimations)&&(d=!0,h.duration=0,h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!s&&t.get()!==void 0){const g=JF(h.keyframes,a);if(g!==void 0){_n.update(()=>{h.onUpdate(g),h.onComplete()});return}}return a.isSync?new aw(h):new O9(h)};function sM({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function C6(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const d=e.getValue(h,e.latestValues[h]??null),g=a[h];if(g===void 0||u&&sM(u,h))continue;const m={delay:n,...cw(s||{},h)},S=d.get();if(S!==void 0&&!d.isAnimating&&!Array.isArray(g)&&g===S&&!m.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const _=P6(e);if(_){const b=window.MotionHandoffAnimation(_,h,_n);b!==null&&(m.startTime=b,E=!0)}}Iy(e,h),d.start(Aw(h,d,g,e.shouldReduceMotion&&r6.has(h)?{type:!1}:m,e,E));const L=d.animation;L&&l.push(L)}return o&&Promise.all(l).then(()=>{_n.update(()=>{o&&QF(e,o)})}),l}function Py(e,t,n={}){var l;const r=_d(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(C6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:g}=i;return oM(e,t,h+u,d,g,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,h]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function oM(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(aM).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(Py(u,t,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function aM(e,t){return e.sortNodePosition(t)}function lM(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Py(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Py(e,t,n);else{const i=typeof t=="function"?_d(e,t,n.custom):t;r=Promise.all(C6(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function N6(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const uM=gw.length;function L6(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?L6(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uM;n++){const r=gw[n],i=e.props[r];(vd(i)||i===!1)&&(t[r]=i)}return t}const cM=[...mw].reverse(),hM=mw.length;function fM(e){return t=>Promise.all(t.map(({animation:n,options:r})=>lM(e,n,r)))}function dM(e){let t=fM(e),n=d3(),r=!0;const i=l=>(u,h)=>{var g;const d=_d(e,h,l==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(d){const{transition:m,transitionEnd:S,...E}=d;u={...u,...E,...S}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,h=L6(e.parent)||{},d=[],g=new Set;let m={},S=1/0;for(let L=0;L<hM;L++){const _=cM[L],b=n[_],P=u[_]!==void 0?u[_]:h[_],q=vd(P),$=_===l?b.isActive:null;$===!1&&(S=L);let Q=P===h[_]&&P!==u[_]&&q;if(Q&&r&&e.manuallyAnimateOnMount&&(Q=!1),b.protectedKeys={...m},!b.isActive&&$===null||!P&&!b.prevProp||h1(P)||typeof P=="boolean")continue;const C=pM(b.prevProp,P);let x=C||_===l&&b.isActive&&!Q&&q||L>S&&q,V=!1;const j=Array.isArray(P)?P:[P];let I=j.reduce(i(_),{});$===!1&&(I={});const{prevResolvedValues:N={}}=b,k={...N,...I},J=mt=>{x=!0,g.has(mt)&&(V=!0,g.delete(mt)),b.needsAnimating[mt]=!0;const X=e.getValue(mt);X&&(X.liveStyle=!1)};for(const mt in k){const X=I[mt],at=N[mt];if(m.hasOwnProperty(mt))continue;let ut=!1;Ty(X)&&Ty(at)?ut=!N6(X,at):ut=X!==at,ut?X!=null?J(mt):g.add(mt):X!==void 0&&g.has(mt)?J(mt):b.protectedKeys[mt]=!0}b.prevProp=P,b.prevResolvedValues=I,b.isActive&&(m={...m,...I}),r&&e.blockInitialAnimation&&(x=!1),x&&(!(Q&&C)||V)&&d.push(...j.map(mt=>({animation:mt,options:{type:_}})))}if(g.size){const L={};if(typeof u.initial!="boolean"){const _=_d(e,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(L.transition=_.transition)}g.forEach(_=>{const b=e.getBaseTarget(_),P=e.getValue(_);P&&(P.liveStyle=!0),L[_]=b??null}),d.push({animation:L})}let E=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(E=!1),r=!1,E?t(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(g=>{var m;return(m=g.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=d3(),r=!0}}}function pM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!N6(t,e):!1}function kl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d3(){return{animate:kl(!0),whileInView:kl(),whileHover:kl(),whileTap:kl(),whileDrag:kl(),whileFocus:kl(),exit:kl()}}class ul{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mM extends ul{constructor(t){super(t),t.animationState||(t.animationState=dM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();h1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let gM=0;class yM extends ul{constructor(){super(...arguments),this.id=gM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const vM={animation:{Feature:mM},exit:{Feature:yM}};function bd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function jd(e){return{point:{x:e.pageX,y:e.pageY}}}const wM=e=>t=>dw(t)&&e(t,jd(t));function Lf(e,t,n,r){return bd(e,t,wM(n),r)}function k6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _M({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const R6=1e-4,xM=1-R6,AM=1+R6,D6=.01,SM=0-D6,EM=0+D6;function Br(e){return e.max-e.min}function TM(e,t,n){return Math.abs(e-t)<=n}function p3(e,t,n,r=.5){e.origin=r,e.originPoint=yn(t.min,t.max,e.origin),e.scale=Br(n)/Br(t),e.translate=yn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=xM&&e.scale<=AM||isNaN(e.scale))&&(e.scale=1),(e.translate>=SM&&e.translate<=EM||isNaN(e.translate))&&(e.translate=0)}function kf(e,t,n,r){p3(e.x,t.x,n.x,r?r.originX:void 0),p3(e.y,t.y,n.y,r?r.originY:void 0)}function m3(e,t,n){e.min=n.min+t.min,e.max=e.min+Br(t)}function IM(e,t,n){m3(e.x,t.x,n.x),m3(e.y,t.y,n.y)}function g3(e,t,n){e.min=t.min-n.min,e.max=e.min+Br(t)}function Rf(e,t,n){g3(e.x,t.x,n.x),g3(e.y,t.y,n.y)}const y3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sc=()=>({x:y3(),y:y3()}),v3=()=>({min:0,max:0}),Rn=()=>({x:v3(),y:v3()});function Qi(e){return[e("x"),e("y")]}function A0(e){return e===void 0||e===1}function Cy({scale:e,scaleX:t,scaleY:n}){return!A0(e)||!A0(t)||!A0(n)}function Ol(e){return Cy(e)||V6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function V6(e){return w3(e.x)||w3(e.y)}function w3(e){return e&&e!=="0%"}function vg(e,t,n){const r=e-n,i=t*r;return n+i}function _3(e,t,n,r,i){return i!==void 0&&(e=vg(e,i,r)),vg(e,n,r)+t}function Ny(e,t=0,n=1,r,i){e.min=_3(e.min,t,n,r,i),e.max=_3(e.max,t,n,r,i)}function F6(e,{x:t,y:n}){Ny(e.x,t.translate,t.scale,t.originPoint),Ny(e.y,n.translate,n.scale,n.originPoint)}const b3=.999999999999,x3=1.0000000000001;function PM(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Tc(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,F6(e,o)),r&&Ol(s.latestValues)&&Tc(e,s.latestValues))}t.x<x3&&t.x>b3&&(t.x=1),t.y<x3&&t.y>b3&&(t.y=1)}function Ec(e,t){e.min=e.min+t,e.max=e.max+t}function A3(e,t,n,r,i=.5){const s=yn(e.min,e.max,i);Ny(e,t,n,s,r)}function Tc(e,t){A3(e.x,t.x,t.scaleX,t.scale,t.originX),A3(e.y,t.y,t.scaleY,t.scale,t.originY)}function M6(e,t){return k6(bM(e.getBoundingClientRect(),t))}function CM(e,t,n){const r=M6(e,n),{scroll:i}=t;return i&&(Ec(r.x,i.offset.x),Ec(r.y,i.offset.y)),r}const O6=({current:e})=>e?e.ownerDocument.defaultView:null,S3=(e,t)=>Math.abs(e-t);function NM(e,t){const n=S3(e.x,t.x),r=S3(e.y,t.y);return Math.sqrt(n**2+r**2)}class j6{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=E0(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=NM(d.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:S}=d,{timestamp:E}=ar;this.history.push({...S,timestamp:E});const{onStart:L,onMove:_}=this.handlers;g||(L&&L(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,g)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=S0(g,this.transformPagePoint),_n.update(this.updatePoint,!0)},this.handlePointerUp=(d,g)=>{this.end();const{onEnd:m,onSessionEnd:S,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=E0(d.type==="pointercancel"?this.lastMoveEventInfo:S0(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,L),S&&S(d,L)},!dw(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=jd(t),a=S0(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=ar;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,E0(a,this.history)),this.removeListeners=Fd(Lf(this.contextWindow,"pointermove",this.handlePointerMove),Lf(this.contextWindow,"pointerup",this.handlePointerUp),Lf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tl(this.updatePoint)}}function S0(e,t){return t?{point:t(e.point)}:e}function E3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function E0({point:e},t){return{point:e,delta:E3(e,B6(t)),offset:E3(e,LM(t)),velocity:kM(t,.1)}}function LM(e){return e[0]}function B6(e){return e[e.length-1]}function kM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=B6(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Xs(t)));)n--;if(!r)return{x:0,y:0};const s=Js(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function RM(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?yn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?yn(n,e,r.max):Math.min(e,n)),e}function T3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function DM(e,{top:t,left:n,bottom:r,right:i}){return{x:T3(e.x,n,i),y:T3(e.y,t,r)}}function I3(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function VM(e,t){return{x:I3(e.x,t.x),y:I3(e.y,t.y)}}function FM(e,t){let n=.5;const r=Br(e),i=Br(t);return i>r?n=md(t.min,t.max-r,e.min):r>i&&(n=md(e.min,e.max-i,t.min)),Oo(0,1,n)}function MM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ly=.35;function OM(e=Ly){return e===!1?e=0:e===!0&&(e=Ly),{x:P3(e,"left","right"),y:P3(e,"top","bottom")}}function P3(e,t,n){return{min:C3(e,t),max:C3(e,n)}}function C3(e,t){return typeof e=="number"?e:e[t]||0}const jM=new WeakMap;class BM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jd(h).point)},s=(h,d)=>{const{drag:g,dragPropagation:m,onDragStart:S}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tF(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qi(L=>{let _=this.getAxisMotionValue(L).get()||0;if(Zs.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const P=b.layout.layoutBox[L];P&&(_=Br(P)*(parseFloat(_)/100))}}this.originPoint[L]=_}),S&&_n.postRender(()=>S(h,d)),Iy(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:S,onDrag:E}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:L}=d;if(m&&this.currentDirection===null){this.currentDirection=zM(L),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",d.point,L),this.updateAxis("y",d.point,L),this.visualElement.render(),E&&E(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Qi(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new j6(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:O6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&_n.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Mp(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=RM(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Ac(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=DM(r.layoutBox,t):this.constraints=!1,this.elastic=OM(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=MM(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ac(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=CM(r,i.root,this.visualElement.getTransformPagePoint());let o=VM(i.layout.layoutBox,s);if(n){const a=n(_M(o));this.hasMutatedConstraints=!!a,a&&(o=k6(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Qi(h=>{if(!Mp(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,S={type:"inertia",velocity:r?t[h]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,S)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Iy(this.visualElement,t),r.start(Aw(t,r,0,n,this.visualElement,!1))}stopAnimation(){Qi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Qi(n=>{const{drag:r}=this.getProps();if(!Mp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-yn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ac(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=FM({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qi(o=>{if(!Mp(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(yn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;jM.set(this.visualElement,this);const t=this.visualElement.current,n=Lf(t,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ac(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),_n.read(r);const o=bd(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qi(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ly,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Mp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function zM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class UM extends ul{constructor(t){super(t),this.removeGroupControls=ns,this.removeListeners=ns,this.controls=new BM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ns}unmount(){this.removeGroupControls(),this.removeListeners()}}const N3=e=>(t,n)=>{e&&_n.postRender(()=>e(t,n))};class qM extends ul{constructor(){super(...arguments),this.removePointerDownListener=ns}onPointerDown(t){this.session=new j6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:N3(t),onStart:N3(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&_n.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Lf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function L3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pe.test(e))e=parseFloat(e);else return e;const n=L3(e,t.target.x),r=L3(e,t.target.y);return`${n}% ${r}%`}},$M={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=el.parse(e);if(i.length>5)return r;const s=el.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=yn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class HM extends Ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;CF(WM),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),pm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||_n.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function z6(e){const[t,n]=d6(),r=Ot.useContext(q5);return Dt.jsx(HM,{...e,layoutGroup:r,switchLayoutGroup:Ot.useContext(w6),isPresent:t,safeToRemove:n})}const WM={borderRadius:{...Zh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zh,borderTopRightRadius:Zh,borderBottomLeftRadius:Zh,borderBottomRightRadius:Zh,boxShadow:$M};function GM(e,t,n){const r=Ir(e)?e:ch(e);return r.start(Aw("",r,t,n)),r.animation}const KM=(e,t)=>e.depth-t.depth;class QM{constructor(){this.children=[],this.isDirty=!1}add(t){W5(this.children,t),this.isDirty=!0}remove(t){G5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KM),this.isDirty=!1,this.children.forEach(t)}}function YM(e,t){const n=si.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(tl(r),e(s-t))};return _n.setup(r,!0),()=>tl(r)}const U6=["TopLeft","TopRight","BottomLeft","BottomRight"],XM=U6.length,k3=e=>typeof e=="string"?parseFloat(e):e,R3=e=>typeof e=="number"||pe.test(e);function JM(e,t,n,r,i,s){i?(e.opacity=yn(0,n.opacity??1,ZM(r)),e.opacityExit=yn(t.opacity??1,0,tO(r))):s&&(e.opacity=yn(t.opacity??1,n.opacity??1,r));for(let o=0;o<XM;o++){const a=`border${U6[o]}Radius`;let l=D3(t,a),u=D3(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||R3(l)===R3(u)?(e[a]=Math.max(yn(k3(l),k3(u),r),0),(Zs.test(u)||Zs.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=yn(t.rotate||0,n.rotate||0,r))}function D3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZM=q6(0,.5,DI),tO=q6(.5,.95,ns);function q6(e,t,n){return r=>r<e?0:r>t?1:n(md(e,t,r))}function V3(e,t){e.min=t.min,e.max=t.max}function Ki(e,t){V3(e.x,t.x),V3(e.y,t.y)}function F3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function M3(e,t,n,r,i){return e-=t,e=vg(e,1/n,r),i!==void 0&&(e=vg(e,1/i,r)),e}function eO(e,t=0,n=1,r=.5,i,s=e,o=e){if(Zs.test(t)&&(t=parseFloat(t),t=yn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=yn(s.min,s.max,r);e===s&&(a-=t),e.min=M3(e.min,t,n,a,i),e.max=M3(e.max,t,n,a,i)}function O3(e,t,[n,r,i],s,o){eO(e,t[n],t[r],t[i],t.scale,s,o)}const nO=["x","scaleX","originX"],rO=["y","scaleY","originY"];function j3(e,t,n,r){O3(e.x,t,nO,n?n.x:void 0,r?r.x:void 0),O3(e.y,t,rO,n?n.y:void 0,r?r.y:void 0)}function B3(e){return e.translate===0&&e.scale===1}function $6(e){return B3(e.x)&&B3(e.y)}function z3(e,t){return e.min===t.min&&e.max===t.max}function iO(e,t){return z3(e.x,t.x)&&z3(e.y,t.y)}function U3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function H6(e,t){return U3(e.x,t.x)&&U3(e.y,t.y)}function q3(e){return Br(e.x)/Br(e.y)}function $3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sO{constructor(){this.members=[]}add(t){W5(this.members,t),t.scheduleRender()}remove(t){if(G5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oO(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:g,skewX:m,skewY:S}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const T0=["","X","Y","Z"],aO={visibility:"hidden"},lO=1e3;let uO=0;function I0(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function W6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=P6(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",_n,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&W6(r)}function G6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=uO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fO),this.nodes.forEach(yO),this.nodes.forEach(vO),this.nodes.forEach(dO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new QM)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Y5),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=f6(o)&&!oF(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let h;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=YM(d,250),pm.hasAnimatedSinceResize&&(pm.hasAnimatedSinceResize=!1,this.nodes.forEach(W3))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||u.getDefaultTransition()||AO,{onLayoutAnimationStart:E,onLayoutAnimationComplete:L}=u.getProps(),_=!this.targetLayout||!H6(this.targetLayout,m),b=!d&&g;if(this.options.layoutRoot||this.resumeFrom||b||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const P={...cw(S,"layout"),onPlay:E,onComplete:L};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else d||W3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&W6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H3);return}this.isUpdating||this.nodes.forEach(mO),this.isUpdating=!1,this.nodes.forEach(gO),this.nodes.forEach(cO),this.nodes.forEach(hO),this.clearAllSnapshots();const a=si.now();ar.delta=Oo(0,1e3/60,a-ar.timestamp),ar.timestamp=a,ar.isProcessing=!0,y0.update.process(ar),y0.preRender.process(ar),y0.render.process(ar),ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pO),this.sharedNodes.forEach(_O)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_n.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Br(this.snapshot.measuredBox.x)&&!Br(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!$6(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ol(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),SO(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Rn();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(EO))){const{scroll:h}=this.root;h&&(Ec(a.x,h.offset.x),Ec(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=Rn();if(Ki(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:g}=h;h!==this.root&&d&&g.layoutScroll&&(d.wasRoot&&Ki(a,o),Ec(a.x,d.offset.x),Ec(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Rn();Ki(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Tc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ol(h.latestValues)&&Tc(l,h.latestValues)}return Ol(this.latestValues)&&Tc(l,this.latestValues),l}removeTransform(o){const a=Rn();Ki(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ol(u.latestValues))continue;Cy(u.latestValues)&&u.updateSnapshot();const h=Rn(),d=u.measurePageBox();Ki(h,d),j3(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ol(this.latestValues)&&j3(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=ar.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rn(),this.relativeTargetOrigin=Rn(),Rf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rn(),this.targetWithTransforms=Rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ki(this.target,this.layout.layoutBox),F6(this.target,this.targetDelta)):Ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rn(),this.relativeTargetOrigin=Rn(),Rf(this.relativeTargetOrigin,this.target,m.target),Ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cy(this.parent.latestValues)||V6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ar.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Ki(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,g=this.treeScale.y;PM(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Rn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F3(this.prevProjectionDelta.x,this.projectionDelta.x),F3(this.prevProjectionDelta.y,this.projectionDelta.y)),kf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==g||!$3(this.projectionDelta.x,this.prevProjectionDelta.x)||!$3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sc(),this.projectionDelta=Sc(),this.projectionDeltaWithTransform=Sc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=Sc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Rn(),m=l?l.source:void 0,S=this.layout?this.layout.source:void 0,E=m!==S,L=this.getStack(),_=!L||L.members.length<=1,b=!!(E&&!_&&this.options.crossfade===!0&&!this.path.some(xO));this.animationProgress=0;let P;this.mixTargetDelta=q=>{const $=q/1e3;G3(d.x,o.x,$),G3(d.y,o.y,$),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rf(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bO(this.relativeTarget,this.relativeTargetOrigin,g,$),P&&iO(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Rn()),Ki(P,this.relativeTarget)),E&&(this.animationValues=h,JM(h,u,this.latestValues,$,b,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(tl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_n.update(()=>{pm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ch(0)),this.currentAnimation=GM(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lO),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&K6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Rn();const d=Br(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const g=Br(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}Ki(a,l),Tc(a,h),kf(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sO),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&I0("z",o,u,this.animationValues);for(let h=0;h<T0.length;h++)I0(`rotate${T0[h]}`,o,u,this.animationValues),I0(`skew${T0[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aO;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=dm(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=dm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ol(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=oO(this.projectionDeltaWithTransform,this.treeScale,h),l&&(a.transform=l(h,a.transform));const{x:d,y:g}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in wd){if(h[m]===void 0)continue;const{correct:S,applyTo:E,isCSSVariable:L}=wd[m],_=a.transform==="none"?h[m]:S(h[m],u);if(E){const b=E.length;for(let P=0;P<b;P++)a[E[P]]=_}else L?this.options.visualElement.renderState.vars[m]=_:a[m]=_}return this.options.layoutId&&(a.pointerEvents=u===this?dm(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(H3),this.root.sharedNodes.clear()}}}function cO(e){e.updateLayout()}function hO(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Qi(d=>{const g=o?t.measuredBox[d]:t.layoutBox[d],m=Br(g);g.min=r[d].min,g.max=g.min+m}):K6(s,t.layoutBox,r)&&Qi(d=>{const g=o?t.measuredBox[d]:t.layoutBox[d],m=Br(r[d]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const a=Sc();kf(a,r,t.layoutBox);const l=Sc();o?kf(l,e.applyTransform(i,!0),t.measuredBox):kf(l,r,t.layoutBox);const u=!$6(a);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:g,layout:m}=d;if(g&&m){const S=Rn();Rf(S,t.layoutBox,g.layoutBox);const E=Rn();Rf(E,r,m.layoutBox),H6(S,E)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=S,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function fO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pO(e){e.clearSnapshot()}function H3(e){e.clearMeasurements()}function mO(e){e.isLayoutDirty=!1}function gO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function W3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yO(e){e.resolveTargetDelta()}function vO(e){e.calcProjection()}function wO(e){e.resetSkewAndRotation()}function _O(e){e.removeLeadSnapshot()}function G3(e,t,n){e.translate=yn(t.translate,0,n),e.scale=yn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function K3(e,t,n,r){e.min=yn(t.min,n.min,r),e.max=yn(t.max,n.max,r)}function bO(e,t,n,r){K3(e.x,t.x,n.x,r),K3(e.y,t.y,n.y,r)}function xO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const AO={duration:.45,ease:[.4,0,.1,1]},Q3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Y3=Q3("applewebkit/")&&!Q3("chrome/")?Math.round:ns;function X3(e){e.min=Y3(e.min),e.max=Y3(e.max)}function SO(e){X3(e.x),X3(e.y)}function K6(e,t,n){return e==="position"||e==="preserve-aspect"&&!TM(q3(t),q3(n),.2)}function EO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const TO=G6({attachResizeListener:(e,t)=>bd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),P0={current:void 0},Q6=G6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!P0.current){const e=new TO({});e.mount(window),e.setOptions({layoutScroll:!0}),P0.current=e}return P0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),IO={pan:{Feature:qM},drag:{Feature:UM,ProjectionNode:Q6,MeasureLayout:z6}};function J3(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&_n.postRender(()=>s(t,jd(t)))}class PO extends ul{mount(){const{current:t}=this.node;t&&(this.unmount=eF(t,(n,r)=>(J3(this.node,r,"Start"),i=>J3(this.node,i,"End"))))}unmount(){}}class CO extends ul{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fd(bd(this.node.current,"focus",()=>this.onFocus()),bd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Z3(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&_n.postRender(()=>s(t,jd(t)))}class NO extends ul{mount(){const{current:t}=this.node;t&&(this.unmount=sF(t,(n,r)=>(Z3(this.node,r,"Start"),(i,{success:s})=>Z3(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ky=new WeakMap,C0=new WeakMap,LO=e=>{const t=ky.get(e.target);t&&t(e)},kO=e=>{e.forEach(LO)};function RO({root:e,...t}){const n=e||document;C0.has(n)||C0.set(n,{});const r=C0.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(kO,{root:e,...t})),r[i]}function DO(e,t,n){const r=RO(t);return ky.set(e,n),r.observe(e),()=>{ky.delete(e),r.unobserve(e)}}const VO={some:0,all:1};class FO extends ul{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:VO[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),g=u?h:d;g&&g(l)};return DO(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(MO(t,n))&&this.startObserver()}unmount(){}}function MO({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const OO={inView:{Feature:FO},tap:{Feature:NO},focus:{Feature:CO},hover:{Feature:PO}},jO={layout:{ProjectionNode:Q6,MeasureLayout:z6}},Ry={current:null},Y6={current:!1};function BO(){if(Y6.current=!0,!!H5)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ry.current=e.matches;e.addListener(t),t()}else Ry.current=!1}const zO=new WeakMap;function UO(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Ir(i))e.addValue(r,i);else if(Ir(s))e.addValue(r,ch(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,ch(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const tx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qO{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=si.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,_n.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=f1(n),this.isVariantNode=y6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in d){const m=d[g];l[g]!==void 0&&Ir(m)&&m.set(l[g],!1)}}mount(t){this.current=t,zO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Y6.current||BO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ry.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),tl(this.notifyUpdate),tl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=xh.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&_n.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hh){const n=hh[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tx.length;r++){const i=tx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=UO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ch(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(SI(r)||TI(r))?r=parseFloat(r):!lF(r)&&el.test(n)&&(r=a6(t,n)),this.setBaseTarget(t,Ir(r)?r.get():r)),Ir(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=bw(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ir(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Y5),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class X6 extends qO{constructor(){super(...arguments),this.KeyframeResolver=Y9}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ir(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function J6(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}function $O(e){return window.getComputedStyle(e)}class HO extends X6{constructor(){super(...arguments),this.type="html",this.renderInstance=J6}readValueFromInstance(t,n){var r;if(xh.has(n))return(r=this.projection)!=null&&r.isProjecting?_y(n):m9(t,n);{const i=$O(t),s=(Z5(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return M6(t,n)}build(t,n,r){vw(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return xw(t,n,r)}}const Z6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WO(e,t,n,r){J6(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Z6.has(i)?i:yw(i),t.attrs[i])}class GO extends X6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(xh.has(n)){const r=o6(n);return r&&r.default||0}return n=Z6.has(n)?n:yw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return I6(t,n,r)}build(t,n,r){A6(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){WO(t,n,r,i)}mount(t){this.isSVGTag=E6(t.tagName),super.mount(t)}}const KO=(e,t)=>_w(e)?new GO(t):new HO(t,{allowProjection:e!==Ot.Fragment}),QO=WF({...vM,...OO,...IO,...jO},KO),Mc=yF(QO),YO="modulepreload",XO=function(e){return"/"+e},ex={},Dy=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=XO(s),s in ex)return;ex[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":YO,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function He(e){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(e)}var Tr=Uint8Array,Pi=Uint16Array,Sw=Int32Array,d1=new Tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),p1=new Tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vy=new Tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tP=function(e,t){for(var n=new Pi(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Sw(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},eP=tP(d1,2),nP=eP.b,Fy=eP.r;nP[28]=258,Fy[258]=28;var rP=tP(p1,0),JO=rP.b,nx=rP.r,My=new Pi(32768);for(var cn=0;cn<32768;++cn){var ba=(cn&43690)>>1|(cn&21845)<<1;ba=(ba&52428)>>2|(ba&13107)<<2,ba=(ba&61680)>>4|(ba&3855)<<4,My[cn]=((ba&65280)>>8|(ba&255)<<8)>>1}var to=function(e,t,n){for(var r=e.length,i=0,s=new Pi(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Pi(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Pi(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],h=t-e[i],d=o[e[i]-1]++<<h,g=d|(1<<h)-1;d<=g;++d)a[My[d]>>l]=u}else for(a=new Pi(r),i=0;i<r;++i)e[i]&&(a[i]=My[o[e[i]-1]++]>>15-e[i]);return a},nl=new Tr(288);for(var cn=0;cn<144;++cn)nl[cn]=8;for(var cn=144;cn<256;++cn)nl[cn]=9;for(var cn=256;cn<280;++cn)nl[cn]=7;for(var cn=280;cn<288;++cn)nl[cn]=8;var xd=new Tr(32);for(var cn=0;cn<32;++cn)xd[cn]=5;var ZO=to(nl,9,0),tj=to(nl,9,1),ej=to(xd,5,0),nj=to(xd,5,1),N0=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},vs=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},L0=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Ew=function(e){return(e+7)/8|0},iP=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Tr(e.subarray(t,n))},rj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xs=function(e,t,n){var r=new Error(t||rj[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,xs),!n)throw r;return r},ij=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new Tr(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new Tr(i*3));var u=function(Nt){var zt=n.length;if(Nt>zt){var jt=new Tr(Math.max(zt*2,Nt));jt.set(n),n=jt}},h=t.f||0,d=t.p||0,g=t.b||0,m=t.l,S=t.d,E=t.m,L=t.n,_=i*8;do{if(!m){h=vs(e,d,1);var b=vs(e,d+1,3);if(d+=3,b)if(b==1)m=tj,S=nj,E=9,L=5;else if(b==2){var Q=vs(e,d,31)+257,C=vs(e,d+10,15)+4,x=Q+vs(e,d+5,31)+1;d+=14;for(var V=new Tr(x),j=new Tr(19),I=0;I<C;++I)j[Vy[I]]=vs(e,d+I*3,7);d+=C*3;for(var N=N0(j),k=(1<<N)-1,J=to(j,N,1),I=0;I<x;){var _t=J[vs(e,d,k)];d+=_t&15;var P=_t>>4;if(P<16)V[I++]=P;else{var gt=0,mt=0;for(P==16?(mt=3+vs(e,d,3),d+=2,gt=V[I-1]):P==17?(mt=3+vs(e,d,7),d+=3):P==18&&(mt=11+vs(e,d,127),d+=7);mt--;)V[I++]=gt}}var X=V.subarray(0,Q),at=V.subarray(Q);E=N0(X),L=N0(at),m=to(X,E,1),S=to(at,L,1)}else xs(1);else{var P=Ew(d)+4,q=e[P-4]|e[P-3]<<8,$=P+q;if($>i){l&&xs(0);break}a&&u(g+q),n.set(e.subarray(P,$),g),t.b=g+=q,t.p=d=$*8,t.f=h;continue}if(d>_){l&&xs(0);break}}a&&u(g+131072);for(var ut=(1<<E)-1,kt=(1<<L)-1,F=d;;F=d){var gt=m[L0(e,d)&ut],H=gt>>4;if(d+=gt&15,d>_){l&&xs(0);break}if(gt||xs(2),H<256)n[g++]=H;else if(H==256){F=d,m=null;break}else{var K=H-254;if(H>264){var I=H-257,Z=d1[I];K=vs(e,d,(1<<Z)-1)+nP[I],d+=Z}var it=S[L0(e,d)&kt],ht=it>>4;it||xs(3),d+=it&15;var at=JO[ht];if(ht>3){var Z=p1[ht];at+=L0(e,d)&(1<<Z)-1,d+=Z}if(d>_){l&&xs(0);break}a&&u(g+131072);var yt=g+K;if(g<at){var vt=s-at,Ft=Math.min(at,yt);for(vt+g<0&&xs(3);g<Ft;++g)n[g]=r[vt+g]}for(;g<yt;++g)n[g]=n[g-at]}}t.l=m,t.p=F,t.b=g,t.f=h,m&&(h=1,t.m=E,t.d=S,t.n=L)}while(!h);return g!=n.length&&o?iP(n,0,g):n.subarray(0,g)},xo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},tf=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},k0=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:oP,l:0};if(i==1){var o=new Tr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function($,Q){return $.f-Q.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,h=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=n[n[u].f<n[d].f?u++:d++],l=n[u!=h&&n[u].f<n[d].f?u++:d++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Pi(g+1),S=Oy(n[h-1],m,0);if(S>t){var r=0,E=0,L=S-t,_=1<<L;for(s.sort(function(Q,C){return m[C.s]-m[Q.s]||Q.f-C.f});r<i;++r){var b=s[r].s;if(m[b]>t)E+=_-(1<<S-m[b]),m[b]=t;else break}for(E>>=L;E>0;){var P=s[r].s;m[P]<t?E-=1<<t-m[P]++-1:++r}for(;r>=0&&E;--r){var q=s[r].s;m[q]==t&&(--m[q],++E)}S=t}return{t:new Tr(m),l:S}},Oy=function(e,t,n){return e.s==-1?Math.max(Oy(e.l,t,n+1),Oy(e.r,t,n+1)):t[e.s]=n},rx=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Pi(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},ef=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},sP=function(e,t,n){var r=n.length,i=Ew(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},ix=function(e,t,n,r,i,s,o,a,l,u,h){xo(t,h++,n),++i[256];for(var d=k0(i,15),g=d.t,m=d.l,S=k0(s,15),E=S.t,L=S.l,_=rx(g),b=_.c,P=_.n,q=rx(E),$=q.c,Q=q.n,C=new Pi(19),x=0;x<b.length;++x)++C[b[x]&31];for(var x=0;x<$.length;++x)++C[$[x]&31];for(var V=k0(C,7),j=V.t,I=V.l,N=19;N>4&&!j[Vy[N-1]];--N);var k=u+5<<3,J=ef(i,nl)+ef(s,xd)+o,_t=ef(i,g)+ef(s,E)+o+14+3*N+ef(C,j)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&k<=J&&k<=_t)return sP(t,h,e.subarray(l,l+u));var gt,mt,X,at;if(xo(t,h,1+(_t<J)),h+=2,_t<J){gt=to(g,m,0),mt=g,X=to(E,L,0),at=E;var ut=to(j,I,0);xo(t,h,P-257),xo(t,h+5,Q-1),xo(t,h+10,N-4),h+=14;for(var x=0;x<N;++x)xo(t,h+3*x,j[Vy[x]]);h+=3*N;for(var kt=[b,$],F=0;F<2;++F)for(var H=kt[F],x=0;x<H.length;++x){var K=H[x]&31;xo(t,h,ut[K]),h+=j[K],K>15&&(xo(t,h,H[x]>>5&127),h+=H[x]>>12)}}else gt=ZO,mt=nl,X=ej,at=xd;for(var x=0;x<a;++x){var Z=r[x];if(Z>255){var K=Z>>18&31;tf(t,h,gt[K+257]),h+=mt[K+257],K>7&&(xo(t,h,Z>>23&31),h+=d1[K]);var it=Z&31;tf(t,h,X[it]),h+=at[it],it>3&&(tf(t,h,Z>>5&8191),h+=p1[it])}else tf(t,h,gt[Z]),h+=mt[Z]}return tf(t,h,gt[256]),h+mt[256]},sj=new Sw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oP=new Tr(0),oj=function(e,t,n,r,i,s){var o=s.z||e.length,a=new Tr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,h=(s.r||0)&7;if(t){h&&(l[0]=s.r>>3);for(var d=sj[t-1],g=d>>13,m=d&8191,S=(1<<n)-1,E=s.p||new Pi(32768),L=s.h||new Pi(S+1),_=Math.ceil(n/3),b=2*_,P=function(ie){return(e[ie]^e[ie+1]<<_^e[ie+2]<<b)&S},q=new Sw(25e3),$=new Pi(288),Q=new Pi(32),C=0,x=0,V=s.i||0,j=0,I=s.w||0,N=0;V+2<o;++V){var k=P(V),J=V&32767,_t=L[k];if(E[J]=_t,L[k]=J,I<=V){var gt=o-V;if((C>7e3||j>24576)&&(gt>423||!u)){h=ix(e,l,0,q,$,Q,x,j,N,V-N,h),j=C=x=0,N=V;for(var mt=0;mt<286;++mt)$[mt]=0;for(var mt=0;mt<30;++mt)Q[mt]=0}var X=2,at=0,ut=m,kt=J-_t&32767;if(gt>2&&k==P(V-kt))for(var F=Math.min(g,gt)-1,H=Math.min(32767,V),K=Math.min(258,gt);kt<=H&&--ut&&J!=_t;){if(e[V+X]==e[V+X-kt]){for(var Z=0;Z<K&&e[V+Z]==e[V+Z-kt];++Z);if(Z>X){if(X=Z,at=kt,Z>F)break;for(var it=Math.min(kt,Z-2),ht=0,mt=0;mt<it;++mt){var yt=V-kt+mt&32767,vt=E[yt],Ft=yt-vt&32767;Ft>ht&&(ht=Ft,_t=yt)}}}J=_t,_t=E[J],kt+=J-_t&32767}if(at){q[j++]=268435456|Fy[X]<<18|nx[at];var Nt=Fy[X]&31,zt=nx[at]&31;x+=d1[Nt]+p1[zt],++$[257+Nt],++Q[zt],I=V+X,++C}else q[j++]=e[V],++$[e[V]]}}for(V=Math.max(V,I);V<o;++V)q[j++]=e[V],++$[e[V]];h=ix(e,l,u,q,$,Q,x,j,N,V-N,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=L,s.p=E,s.i=V,s.w=I)}else{for(var V=s.w||0;V<o+u;V+=65535){var jt=V+65535;jt>=o&&(l[h/8|0]=u,jt=o),h=sP(l,h+1,e.subarray(V,jt))}s.i=o}return iP(a,0,r+Ew(h)+i)},aP=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},aj=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Tr(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return oj(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},lP=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},lj=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=aP();i.p(t.dictionary),lP(e,2,i.d())}},uj=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&xs(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&xs(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function jy(e,t){t||(t={});var n=aP();n.p(e);var r=aj(e,t,t.dictionary?6:2,4);return lj(r,t),lP(r,r.length-4,n.d()),r}function cj(e,t){return ij(e.subarray(uj(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var hj=typeof TextDecoder<"u"&&new TextDecoder,fj=0;try{hj.decode(oP,{stream:!0}),fj=1}catch{}var ce=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function R0(){ce.console&&typeof ce.console.log=="function"&&ce.console.log.apply(ce.console,arguments)}var tn={log:R0,warn:function(e){ce.console&&(typeof ce.console.warn=="function"?ce.console.warn.apply(ce.console,arguments):R0.call(null,arguments))},error:function(e){ce.console&&(typeof ce.console.error=="function"?ce.console.error.apply(ce.console,arguments):R0(e))}};function D0(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){jl(r.response,t,n)},r.onerror=function(){tn.error("could not download file")},r.send()}function sx(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Op(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Df,By,jl=ce.saveAs||((typeof window>"u"?"undefined":He(window))!=="object"||window!==ce?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ce.URL||ce.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?sx(i.href)?D0(e,t,n):Op(i,i.target="_blank"):Op(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Op(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(sx(e))D0(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Op(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:He(s)!=="object"&&(tn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return D0(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(ce.HTMLElement)||ce.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":He(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(e)}else{var l=ce.URL||ce.webkitURL,u=l.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function uP(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function V0(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=vr(n,r,i,s,t[0],7,-680876936),s=vr(s,n,r,i,t[1],12,-389564586),i=vr(i,s,n,r,t[2],17,606105819),r=vr(r,i,s,n,t[3],22,-1044525330),n=vr(n,r,i,s,t[4],7,-176418897),s=vr(s,n,r,i,t[5],12,1200080426),i=vr(i,s,n,r,t[6],17,-1473231341),r=vr(r,i,s,n,t[7],22,-45705983),n=vr(n,r,i,s,t[8],7,1770035416),s=vr(s,n,r,i,t[9],12,-1958414417),i=vr(i,s,n,r,t[10],17,-42063),r=vr(r,i,s,n,t[11],22,-1990404162),n=vr(n,r,i,s,t[12],7,1804603682),s=vr(s,n,r,i,t[13],12,-40341101),i=vr(i,s,n,r,t[14],17,-1502002290),n=wr(n,r=vr(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=wr(s,n,r,i,t[6],9,-1069501632),i=wr(i,s,n,r,t[11],14,643717713),r=wr(r,i,s,n,t[0],20,-373897302),n=wr(n,r,i,s,t[5],5,-701558691),s=wr(s,n,r,i,t[10],9,38016083),i=wr(i,s,n,r,t[15],14,-660478335),r=wr(r,i,s,n,t[4],20,-405537848),n=wr(n,r,i,s,t[9],5,568446438),s=wr(s,n,r,i,t[14],9,-1019803690),i=wr(i,s,n,r,t[3],14,-187363961),r=wr(r,i,s,n,t[8],20,1163531501),n=wr(n,r,i,s,t[13],5,-1444681467),s=wr(s,n,r,i,t[2],9,-51403784),i=wr(i,s,n,r,t[7],14,1735328473),n=_r(n,r=wr(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=_r(s,n,r,i,t[8],11,-2022574463),i=_r(i,s,n,r,t[11],16,1839030562),r=_r(r,i,s,n,t[14],23,-35309556),n=_r(n,r,i,s,t[1],4,-1530992060),s=_r(s,n,r,i,t[4],11,1272893353),i=_r(i,s,n,r,t[7],16,-155497632),r=_r(r,i,s,n,t[10],23,-1094730640),n=_r(n,r,i,s,t[13],4,681279174),s=_r(s,n,r,i,t[0],11,-358537222),i=_r(i,s,n,r,t[3],16,-722521979),r=_r(r,i,s,n,t[6],23,76029189),n=_r(n,r,i,s,t[9],4,-640364487),s=_r(s,n,r,i,t[12],11,-421815835),i=_r(i,s,n,r,t[15],16,530742520),n=br(n,r=_r(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=br(s,n,r,i,t[7],10,1126891415),i=br(i,s,n,r,t[14],15,-1416354905),r=br(r,i,s,n,t[5],21,-57434055),n=br(n,r,i,s,t[12],6,1700485571),s=br(s,n,r,i,t[3],10,-1894986606),i=br(i,s,n,r,t[10],15,-1051523),r=br(r,i,s,n,t[1],21,-2054922799),n=br(n,r,i,s,t[8],6,1873313359),s=br(s,n,r,i,t[15],10,-30611744),i=br(i,s,n,r,t[6],15,-1560198380),r=br(r,i,s,n,t[13],21,1309151649),n=br(n,r,i,s,t[4],6,-145523070),s=br(s,n,r,i,t[11],10,-1120210379),i=br(i,s,n,r,t[2],15,718787259),r=br(r,i,s,n,t[9],21,-343485551),e[0]=ka(n,e[0]),e[1]=ka(r,e[1]),e[2]=ka(i,e[2]),e[3]=ka(s,e[3])}function m1(e,t,n,r,i,s){return t=ka(ka(t,e),ka(r,s)),ka(t<<i|t>>>32-i,n)}function vr(e,t,n,r,i,s,o){return m1(t&n|~t&r,e,t,i,s,o)}function wr(e,t,n,r,i,s,o){return m1(t&r|n&~r,e,t,i,s,o)}function _r(e,t,n,r,i,s,o){return m1(t^n^r,e,t,i,s,o)}function br(e,t,n,r,i,s,o){return m1(n^(t|~r),e,t,i,s,o)}function cP(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)V0(r,dj(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(V0(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,V0(r,i),r}function dj(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Df=ce.atob.bind(ce),By=ce.btoa.bind(ce);var ox="0123456789abcdef".split("");function pj(e){for(var t="",n=0;n<4;n++)t+=ox[e>>8*n+4&15]+ox[e>>8*n&15];return t}function mj(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function zy(e){return cP(e).map(mj).join("")}var gj=function(e){for(var t=0;t<e.length;t++)e[t]=pj(e[t]);return e.join("")}(cP("hello"))!="5d41402abc4b2a76b9719d911017c592";function ka(e,t){if(gj){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Uy(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var h=a[l];u=(u+h+o.charCodeAt(l))%256,a[l]=a[u],a[u]=h}n=e,r=a}else a=r;var d=t.length,g=0,m=0,S="";for(l=0;l<d;l++)m=(m+(h=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=h,o=a[(a[g]+a[m])%256],S+=String.fromCharCode(t.charCodeAt(l)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ax={print:4,modify:8,copy:16,"annot-forms":32};function lc(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(ax.perm!==void 0)throw new Error("Invalid permission: "+a);i+=ax[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=zy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Uy(this.encryptionKey,this.padding)}function uc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function lx(e){if(He(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){ce.console&&tn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function wg(e){if(!(this instanceof wg))return new wg(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function hP(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function $l(e,t,n,r,i){if(!(this instanceof $l))return new $l(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,hP.call(this,r,i)}function Ic(e,t,n,r,i){if(!(this instanceof Ic))return new Ic(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,hP.call(this,r,i)}function ue(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",h=null;He(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=lx;var S="1.3",E=m.__private__.getPdfVersion=function(){return S};m.__private__.setPdfVersion=function(y){S=y};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return L};var _=m.__private__.getPageFormat=function(y){return L[y]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},P=b.COMPAT;function q(){this.saveGraphicsState(),Y(new se(Wt,0,0,-Wt,0,ds()*Wt).toString()+" cm"),this.setFontSize(this.getFontSize()/Wt),u="n",P=b.ADVANCED}function $(){this.restoreGraphicsState(),u="S",P=b.COMPAT}var Q=m.__private__.combineFontStyleAndFontWeight=function(y,R){if(y=="bold"&&R=="normal"||y=="bold"&&R==400||y=="normal"&&R=="italic"||y=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(y=R==400||R==="normal"?y==="italic"?"italic":"normal":R!=700&&R!=="bold"||y!=="normal"?(R==700?"bold":R)+""+y:"bold"),y};m.advancedAPI=function(y){var R=P===b.COMPAT;return R&&q.call(this),typeof y!="function"||(y(this),R&&$.call(this)),this},m.compatAPI=function(y){var R=P===b.ADVANCED;return R&&$.call(this),typeof y!="function"||(y(this),R&&q.call(this)),this},m.isAdvancedAPI=function(){return P===b.ADVANCED};var C,x=function(y){if(P!==b.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=m.roundToPrecision=m.__private__.roundToPrecision=function(y,R){var G=t||R;if(isNaN(y)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(G).replace(/0+$/,"")};C=m.hpf=m.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,16)};var j=m.f2=m.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return V(y,2)},I=m.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return V(y,3)},N=m.scale=m.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return P===b.COMPAT?y*Wt:P===b.ADVANCED?y:void 0},k=function(y){return P===b.COMPAT?ds()-y:P===b.ADVANCED?y:void 0},J=function(y){return N(k(y))};m.__private__.setPrecision=m.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(t=parseInt(y,10))};var _t,gt="00000000000000000000000000000000",mt=m.__private__.getFileId=function(){return gt},X=m.__private__.setFileId=function(y){return gt=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():gt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Sn=new lc(h.userPermissions,h.userPassword,h.ownerPassword,gt)),gt};m.setFileId=function(y){return X(y),this},m.getFileId=function(){return mt()};var at=m.__private__.convertDateToPDFDate=function(y){var R=y.getTimezoneOffset(),G=R<0?"+":"-",tt=Math.floor(Math.abs(R/60)),lt=Math.abs(R%60),wt=[G,K(tt),"'",K(lt),"'"].join("");return["D:",y.getFullYear(),K(y.getMonth()+1),K(y.getDate()),K(y.getHours()),K(y.getMinutes()),K(y.getSeconds()),wt].join("")},ut=m.__private__.convertPDFDateToDate=function(y){var R=parseInt(y.substr(2,4),10),G=parseInt(y.substr(6,2),10)-1,tt=parseInt(y.substr(8,2),10),lt=parseInt(y.substr(10,2),10),wt=parseInt(y.substr(12,2),10),Pt=parseInt(y.substr(14,2),10);return new Date(R,G,tt,lt,wt,Pt,0)},kt=m.__private__.setCreationDate=function(y){var R;if(y===void 0&&(y=new Date),y instanceof Date)R=at(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=y}return _t=R},F=m.__private__.getCreationDate=function(y){var R=_t;return y==="jsDate"&&(R=ut(_t)),R};m.setCreationDate=function(y){return kt(y),this},m.getCreationDate=function(y){return F(y)};var H,K=m.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},Z=m.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},it=0,ht=[],yt=[],vt=0,Ft=[],Nt=[],zt=!1,jt=yt,ie=function(){it=0,vt=0,yt=[],ht=[],Ft=[],os=An(),pi=An()};m.__private__.setCustomOutputDestination=function(y){zt=!0,jt=y};var xt=function(y){zt||(jt=y)};m.__private__.resetCustomOutputDestination=function(){zt=!1,jt=yt};var Y=m.__private__.out=function(y){return y=y.toString(),vt+=y.length+1,jt.push(y),jt},ge=m.__private__.write=function(y){return Y(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Zt=m.__private__.getArrayBuffer=function(y){for(var R=y.length,G=new ArrayBuffer(R),tt=new Uint8Array(G);R--;)tt[R]=y.charCodeAt(R);return G},Lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Lt};var Mt=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(y){return Mt=P===b.ADVANCED?y/Wt:y,this};var $t,Ut=m.__private__.getFontSize=m.getFontSize=function(){return P===b.COMPAT?Mt:Mt*Wt},ne=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(y){return ne=y,this},m.__private__.getR2L=m.getR2L=function(){return ne};var he,we=m.__private__.setZoomMode=function(y){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))$t=y;else if(isNaN(y)){if(R.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');$t=y}else $t=parseInt(y,10)};m.__private__.getZoomMode=function(){return $t};var Ae,le=m.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');he=y};m.__private__.getPageMode=function(){return he};var be=m.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Ae=y};m.__private__.getLayoutMode=function(){return Ae},m.__private__.setDisplayMode=m.setDisplayMode=function(y,R,G){return we(y),be(R),le(G),this};var oe={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(y){if(Object.keys(oe).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return oe[y]},m.__private__.getDocumentProperties=function(){return oe},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(y){for(var R in oe)oe.hasOwnProperty(R)&&y[R]&&(oe[R]=y[R]);return this},m.__private__.setDocumentProperty=function(y,R){if(Object.keys(oe).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return oe[y]=R};var Ee,Wt,Qn,Ie,Hr,Oe={},Ke={},Di=[],Fe={},ss={},on={},Wr={},Nr=null,en=0,fe=[],Pe=new lx(m),ks=e.hotfixes||[],xn={},hi={},fr=[],se=function y(R,G,tt,lt,wt,Pt){if(!(this instanceof y))return new y(R,G,tt,lt,wt,Pt);isNaN(R)&&(R=1),isNaN(G)&&(G=0),isNaN(tt)&&(tt=0),isNaN(lt)&&(lt=1),isNaN(wt)&&(wt=0),isNaN(Pt)&&(Pt=0),this._matrix=[R,G,tt,lt,wt,Pt]};Object.defineProperty(se.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(se.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(se.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(se.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(se.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(se.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(se.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(se.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(se.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(se.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(se.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(se.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(se.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(se.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(se.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(se.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),se.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(y)},se.prototype.multiply=function(y){var R=y.sx*this.sx+y.shy*this.shx,G=y.sx*this.shy+y.shy*this.sy,tt=y.shx*this.sx+y.sy*this.shx,lt=y.shx*this.shy+y.sy*this.sy,wt=y.tx*this.sx+y.ty*this.shx+this.tx,Pt=y.tx*this.shy+y.ty*this.sy+this.ty;return new se(R,G,tt,lt,wt,Pt)},se.prototype.decompose=function(){var y=this.sx,R=this.shy,G=this.shx,tt=this.sy,lt=this.tx,wt=this.ty,Pt=Math.sqrt(y*y+R*R),Gt=(y/=Pt)*G+(R/=Pt)*tt;G-=y*Gt,tt-=R*Gt;var te=Math.sqrt(G*G+tt*tt);return Gt/=te,y*(tt/=te)<R*(G/=te)&&(y=-y,R=-R,Gt=-Gt,Pt=-Pt),{scale:new se(Pt,0,0,te,0,0),translate:new se(1,0,0,1,lt,wt),rotate:new se(y,R,-R,y,0,0),skew:new se(1,0,Gt,1,0,0)}},se.prototype.toString=function(y){return this.join(" ")},se.prototype.inversed=function(){var y=this.sx,R=this.shy,G=this.shx,tt=this.sy,lt=this.tx,wt=this.ty,Pt=1/(y*tt-R*G),Gt=tt*Pt,te=-R*Pt,f=-G*Pt,w=y*Pt;return new se(Gt,te,f,w,-Gt*lt-f*wt,-te*lt-w*wt)},se.prototype.applyToPoint=function(y){var R=y.x*this.sx+y.y*this.shx+this.tx,G=y.x*this.shy+y.y*this.sy+this.ty;return new Oi(R,G)},se.prototype.applyToRectangle=function(y){var R=this.applyToPoint(y),G=this.applyToPoint(new Oi(y.x+y.w,y.y+y.h));return new na(R.x,R.y,G.x-R.x,G.y-R.y)},se.prototype.clone=function(){var y=this.sx,R=this.shy,G=this.shx,tt=this.sy,lt=this.tx,wt=this.ty;return new se(y,R,G,tt,lt,wt)},m.Matrix=se;var Xe=m.matrixMult=function(y,R){return R.multiply(y)},fi=new se(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=fi;var On=function(y,R){if(!ss[y]){var G=(R instanceof $l?"Sh":"P")+(Object.keys(Fe).length+1).toString(10);R.id=G,ss[y]=G,Fe[G]=R,Pe.publish("addPattern",R)}};m.ShadingPattern=$l,m.TilingPattern=Ic,m.addShadingPattern=function(y,R){return x("addShadingPattern()"),On(y,R),this},m.beginTilingPattern=function(y){x("beginTilingPattern()"),ia(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},m.endTilingPattern=function(y,R){x("endTilingPattern()"),R.stream=Nt[H].join(`
`),On(y,R),Pe.publish("endTilingPattern",R),fr.pop().restore()};var an=m.__private__.newObject=function(){var y=An();return Lr(y,!0),y},An=m.__private__.newObjectDeferred=function(){return it++,ht[it]=function(){return vt},it},Lr=function(y,R){return R=typeof R=="boolean"&&R,ht[y]=vt,R&&Y(y+" 0 obj"),y},di=m.__private__.newAdditionalObject=function(){var y={objId:An(),content:""};return Ft.push(y),y},os=An(),pi=An(),dr=m.__private__.decodeColorString=function(y){var R=y.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var G=parseFloat(R[0]);R=[G,G,G,"r"]}for(var tt="#",lt=0;lt<3;lt++)tt+=("0"+Math.floor(255*parseFloat(R[lt])).toString(16)).slice(-2);return tt},Gr=m.__private__.encodeColorString=function(y){var R;typeof y=="string"&&(y={ch1:y});var G=y.ch1,tt=y.ch2,lt=y.ch3,wt=y.ch4,Pt=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Gt=new uP(G);if(Gt.ok)G=Gt.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var te=parseInt(G.substr(1),16);G=te>>16&255,tt=te>>8&255,lt=255&te}if(tt===void 0||wt===void 0&&G===tt&&tt===lt)if(typeof G=="string")R=G+" "+Pt[0];else switch(y.precision){case 2:R=j(G/255)+" "+Pt[0];break;case 3:default:R=I(G/255)+" "+Pt[0]}else if(wt===void 0||He(wt)==="object"){if(wt&&!isNaN(wt.a)&&wt.a===0)return R=["1.","1.","1.",Pt[1]].join(" ");if(typeof G=="string")R=[G,tt,lt,Pt[1]].join(" ");else switch(y.precision){case 2:R=[j(G/255),j(tt/255),j(lt/255),Pt[1]].join(" ");break;default:case 3:R=[I(G/255),I(tt/255),I(lt/255),Pt[1]].join(" ")}}else if(typeof G=="string")R=[G,tt,lt,wt,Pt[2]].join(" ");else switch(y.precision){case 2:R=[j(G),j(tt),j(lt),j(wt),Pt[2]].join(" ");break;case 3:default:R=[I(G),I(tt),I(lt),I(wt),Pt[2]].join(" ")}return R},Kr=m.__private__.getFilters=function(){return o},nr=m.__private__.putStream=function(y){var R=(y=y||{}).data||"",G=y.filters||Kr(),tt=y.alreadyAppliedFilters||[],lt=y.addLength1||!1,wt=R.length,Pt=y.objectId,Gt=function(Ct){return Ct};if(h!==null&&Pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Gt=Sn.encryptor(Pt,0));var te={};G===!0&&(G=["FlateEncode"]);var f=y.additionalKeyValues||[],w=(te=ue.API.processDataByFilters!==void 0?ue.API.processDataByFilters(R,G):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(tt)?tt.join(" "):tt.toString());if(te.data.length!==0&&(f.push({key:"Length",value:te.data.length}),lt===!0&&f.push({key:"Length1",value:wt})),w.length!=0)if(w.split("/").length-1==1)f.push({key:"Filter",value:w});else{f.push({key:"Filter",value:"["+w+"]"});for(var T=0;T<f.length;T+=1)if(f[T].key==="DecodeParms"){for(var B=[],rt=0;rt<te.reverseChain.split("/").length-1;rt+=1)B.push("null");B.push(f[T].value),f[T].value="["+B.join(" ")+"]"}}Y("<<");for(var ft=0;ft<f.length;ft++)Y("/"+f[ft].key+" "+f[ft].value);Y(">>"),te.data.length!==0&&(Y("stream"),Y(Gt(te.data)),Y("endstream"))},$n=m.__private__.putPage=function(y){var R=y.number,G=y.data,tt=y.objId,lt=y.contentsObjId;Lr(tt,!0),Y("<</Type /Page"),Y("/Parent "+y.rootDictionaryObjId+" 0 R"),Y("/Resources "+y.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(C(y.mediaBox.bottomLeftX))+" "+parseFloat(C(y.mediaBox.bottomLeftY))+" "+C(y.mediaBox.topRightX)+" "+C(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&Y("/CropBox ["+C(y.cropBox.bottomLeftX)+" "+C(y.cropBox.bottomLeftY)+" "+C(y.cropBox.topRightX)+" "+C(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&Y("/BleedBox ["+C(y.bleedBox.bottomLeftX)+" "+C(y.bleedBox.bottomLeftY)+" "+C(y.bleedBox.topRightX)+" "+C(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&Y("/TrimBox ["+C(y.trimBox.bottomLeftX)+" "+C(y.trimBox.bottomLeftY)+" "+C(y.trimBox.topRightX)+" "+C(y.trimBox.topRightY)+"]"),y.artBox!==null&&Y("/ArtBox ["+C(y.artBox.bottomLeftX)+" "+C(y.artBox.bottomLeftY)+" "+C(y.artBox.topRightX)+" "+C(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&Y("/UserUnit "+y.userUnit),Pe.publish("putPage",{objId:tt,pageContext:fe[R],pageNumber:R,page:G}),Y("/Contents "+lt+" 0 R"),Y(">>"),Y("endobj");var wt=G.join(`
`);return P===b.ADVANCED&&(wt+=`
Q`),Lr(lt,!0),nr({data:wt,filters:Kr(),objectId:lt}),Y("endobj"),tt},Rs=m.__private__.putPages=function(){var y,R,G=[];for(y=1;y<=en;y++)fe[y].objId=An(),fe[y].contentsObjId=An();for(y=1;y<=en;y++)G.push($n({number:y,data:Nt[y],objId:fe[y].objId,contentsObjId:fe[y].contentsObjId,mediaBox:fe[y].mediaBox,cropBox:fe[y].cropBox,bleedBox:fe[y].bleedBox,trimBox:fe[y].trimBox,artBox:fe[y].artBox,userUnit:fe[y].userUnit,rootDictionaryObjId:os,resourceDictionaryObjId:pi}));Lr(os,!0),Y("<</Type /Pages");var tt="/Kids [";for(R=0;R<en;R++)tt+=G[R]+" 0 R ";Y(tt+"]"),Y("/Count "+en),Y(">>"),Y("endobj"),Pe.publish("postPutPages")},io=function(y){Pe.publish("putFont",{font:y,out:Y,newObject:an,putStream:nr}),y.isAlreadyPutted!==!0&&(y.objectNumber=an(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+uc(y.postScriptName)),Y("/Subtype /Type1"),typeof y.encoding=="string"&&Y("/Encoding /"+y.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Ds=function(){for(var y in Oe)Oe.hasOwnProperty(y)&&(d===!1||d===!0&&g.hasOwnProperty(y))&&io(Oe[y])},Vs=function(y){y.objectNumber=an();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[C(y.x),C(y.y),C(y.x+y.width),C(y.y+y.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var G=y.pages[1].join(`
`);nr({data:G,additionalKeyValues:R,objectId:y.objectNumber}),Y("endobj")},so=function(){for(var y in xn)xn.hasOwnProperty(y)&&Vs(xn[y])},hl=function(y,R){var G,tt=[],lt=1/(R-1);for(G=0;G<1;G+=lt)tt.push(G);if(tt.push(1),y[0].offset!=0){var wt={offset:0,color:y[0].color};y.unshift(wt)}if(y[y.length-1].offset!=1){var Pt={offset:1,color:y[y.length-1].color};y.push(Pt)}for(var Gt="",te=0,f=0;f<tt.length;f++){for(G=tt[f];G>y[te+1].offset;)te++;var w=y[te].offset,T=(G-w)/(y[te+1].offset-w),B=y[te].color,rt=y[te+1].color;Gt+=Z(Math.round((1-T)*B[0]+T*rt[0]).toString(16))+Z(Math.round((1-T)*B[1]+T*rt[1]).toString(16))+Z(Math.round((1-T)*B[2]+T*rt[2]).toString(16))}return Gt.trim()},Ah=function(y,R){R||(R=21);var G=an(),tt=hl(y.colors,R),lt=[];lt.push({key:"FunctionType",value:"0"}),lt.push({key:"Domain",value:"[0.0 1.0]"}),lt.push({key:"Size",value:"["+R+"]"}),lt.push({key:"BitsPerSample",value:"8"}),lt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nr({data:tt,additionalKeyValues:lt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),Y("endobj"),y.objectNumber=an(),Y("<< /ShadingType "+y.type),Y("/ColorSpace /DeviceRGB");var wt="/Coords ["+C(parseFloat(y.coords[0]))+" "+C(parseFloat(y.coords[1]))+" ";y.type===2?wt+=C(parseFloat(y.coords[2]))+" "+C(parseFloat(y.coords[3])):wt+=C(parseFloat(y.coords[2]))+" "+C(parseFloat(y.coords[3]))+" "+C(parseFloat(y.coords[4]))+" "+C(parseFloat(y.coords[5])),Y(wt+="]"),y.matrix&&Y("/Matrix ["+y.matrix.toString()+"]"),Y("/Function "+G+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ho=function(y,R){var G=An(),tt=an();R.push({resourcesOid:G,objectOid:tt}),y.objectNumber=tt;var lt=[];lt.push({key:"Type",value:"/Pattern"}),lt.push({key:"PatternType",value:"1"}),lt.push({key:"PaintType",value:"1"}),lt.push({key:"TilingType",value:"1"}),lt.push({key:"BBox",value:"["+y.boundingBox.map(C).join(" ")+"]"}),lt.push({key:"XStep",value:C(y.xStep)}),lt.push({key:"YStep",value:C(y.yStep)}),lt.push({key:"Resources",value:G+" 0 R"}),y.matrix&&lt.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),nr({data:y.stream,additionalKeyValues:lt,objectId:y.objectNumber}),Y("endobj")},oo=function(y){var R;for(R in Fe)Fe.hasOwnProperty(R)&&(Fe[R]instanceof $l?Ah(Fe[R]):Fe[R]instanceof Ic&&Ho(Fe[R],y))},Wo=function(y){for(var R in y.objectNumber=an(),Y("<<"),y)switch(R){case"opacity":Y("/ca "+j(y[R]));break;case"stroke-opacity":Y("/CA "+j(y[R]))}Y(">>"),Y("endobj")},ao=function(){var y;for(y in on)on.hasOwnProperty(y)&&Wo(on[y])},mi=function(){for(var y in Y("/XObject <<"),xn)xn.hasOwnProperty(y)&&xn[y].objectNumber>=0&&Y("/"+y+" "+xn[y].objectNumber+" 0 R");Pe.publish("putXobjectDict"),Y(">>")},fl=function(){Sn.oid=an(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Sn.v),Y("/R "+Sn.r),Y("/U <"+Sn.toHexString(Sn.U)+">"),Y("/O <"+Sn.toHexString(Sn.O)+">"),Y("/P "+Sn.P),Y(">>"),Y("endobj")},Au=function(){for(var y in Y("/Font <<"),Oe)Oe.hasOwnProperty(y)&&(d===!1||d===!0&&g.hasOwnProperty(y))&&Y("/"+y+" "+Oe[y].objectNumber+" 0 R");Y(">>")},Su=function(){if(Object.keys(Fe).length>0){for(var y in Y("/Shading <<"),Fe)Fe.hasOwnProperty(y)&&Fe[y]instanceof $l&&Fe[y].objectNumber>=0&&Y("/"+y+" "+Fe[y].objectNumber+" 0 R");Pe.publish("putShadingPatternDict"),Y(">>")}},lo=function(y){if(Object.keys(Fe).length>0){for(var R in Y("/Pattern <<"),Fe)Fe.hasOwnProperty(R)&&Fe[R]instanceof m.TilingPattern&&Fe[R].objectNumber>=0&&Fe[R].objectNumber<y&&Y("/"+R+" "+Fe[R].objectNumber+" 0 R");Pe.publish("putTilingPatternDict"),Y(">>")}},Eu=function(){if(Object.keys(on).length>0){var y;for(y in Y("/ExtGState <<"),on)on.hasOwnProperty(y)&&on[y].objectNumber>=0&&Y("/"+y+" "+on[y].objectNumber+" 0 R");Pe.publish("putGStateDict"),Y(">>")}},ln=function(y){Lr(y.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Au(),Su(),lo(y.objectOid),Eu(),mi(),Y(">>"),Y("endobj")},Go=function(){var y=[];Ds(),ao(),so(),oo(y),Pe.publish("putResources"),y.forEach(ln),ln({resourcesOid:pi,objectOid:Number.MAX_SAFE_INTEGER}),Pe.publish("postPutResources")},dl=function(){Pe.publish("putAdditionalObjects");for(var y=0;y<Ft.length;y++){var R=Ft[y];Lr(R.objId,!0),Y(R.content),Y("endobj")}Pe.publish("postPutAdditionalObjects")},pl=function(y){Ke[y.fontName]=Ke[y.fontName]||{},Ke[y.fontName][y.fontStyle]=y.id},ml=function(y,R,G,tt,lt){var wt={id:"F"+(Object.keys(Oe).length+1).toString(10),postScriptName:y,fontName:R,fontStyle:G,encoding:tt,isStandardFont:lt||!1,metadata:{}};return Pe.publish("addFont",{font:wt,instance:this}),Oe[wt.id]=wt,pl(wt),wt.id},Sh=function(y){for(var R=0,G=Lt.length;R<G;R++){var tt=ml.call(this,y[R][0],y[R][1],y[R][2],Lt[R][3],!0);d===!1&&(g[tt]=!0);var lt=y[R][0].split("-");pl({id:tt,fontName:lt[0],fontStyle:lt[1]||""})}Pe.publish("addFonts",{fonts:Oe,dictionary:Ke})},Qr=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(tt){var R=tt.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var G="Error in function "+R.split(`
`)[0].split("<")[0]+": "+tt.message;if(!ce.console)throw new Error(G);ce.console.error(G,tt),ce.alert&&alert(G)}},y.foo.bar=y,y.foo},uo=function(y,R){var G,tt,lt,wt,Pt,Gt,te,f,w;if(lt=(R=R||{}).sourceEncoding||"Unicode",Pt=R.outputEncoding,(R.autoencode||Pt)&&Oe[Ee].metadata&&Oe[Ee].metadata[lt]&&Oe[Ee].metadata[lt].encoding&&(wt=Oe[Ee].metadata[lt].encoding,!Pt&&Oe[Ee].encoding&&(Pt=Oe[Ee].encoding),!Pt&&wt.codePages&&(Pt=wt.codePages[0]),typeof Pt=="string"&&(Pt=wt[Pt]),Pt)){for(te=!1,Gt=[],G=0,tt=y.length;G<tt;G++)(f=Pt[y.charCodeAt(G)])?Gt.push(String.fromCharCode(f)):Gt.push(y[G]),Gt[G].charCodeAt(0)>>8&&(te=!0);y=Gt.join("")}for(G=y.length;te===void 0&&G!==0;)y.charCodeAt(G-1)>>8&&(te=!0),G--;if(!te)return y;for(Gt=R.noBOM?[]:[254,255],G=0,tt=y.length;G<tt;G++){if((w=(f=y.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gt.push(w),Gt.push(f-(w<<8))}return String.fromCharCode.apply(void 0,Gt)},pr=m.__private__.pdfEscape=m.pdfEscape=function(y,R){return uo(y,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gi=m.__private__.beginPage=function(y){Nt[++en]=[],fe[en]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},co(en),xt(Nt[H])},Yr=function(y,R){var G,tt,lt;switch(n=R||n,typeof y=="string"&&(G=_(y.toLowerCase()),Array.isArray(G)&&(tt=G[0],lt=G[1])),Array.isArray(y)&&(tt=y[0]*Wt,lt=y[1]*Wt),isNaN(tt)&&(tt=i[0],lt=i[1]),(tt>14400||lt>14400)&&(tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),tt=Math.min(14400,tt),lt=Math.min(14400,lt)),i=[tt,lt],n.substr(0,1)){case"l":lt>tt&&(i=[lt,tt]);break;case"p":tt>lt&&(i=[lt,tt])}gi(i),Ru(Qe),Y(wi),Os!==0&&Y(Os+" J"),xl!==0&&Y(xl+" j"),Pe.publish("addPage",{pageNumber:en})},Ko=function(y){y>0&&y<=en&&(Nt.splice(y,1),fe.splice(y,1),en--,H>en&&(H=en),this.setPage(H))},co=function(y){y>0&&y<=en&&(H=y)},Tu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Nt.length-1},je=function(y,R,G){var tt,lt=void 0;return G=G||{},y=y!==void 0?y:Oe[Ee].fontName,R=R!==void 0?R:Oe[Ee].fontStyle,tt=y.toLowerCase(),Ke[tt]!==void 0&&Ke[tt][R]!==void 0?lt=Ke[tt][R]:Ke[y]!==void 0&&Ke[y][R]!==void 0?lt=Ke[y][R]:G.disableWarning===!1&&tn.warn("Unable to look up font label for font '"+y+"', '"+R+"'. Refer to getFontList() for available fonts."),lt||G.noFallback||(lt=Ke.times[R])==null&&(lt=Ke.times.normal),lt},Qo=m.__private__.putInfo=function(){var y=an(),R=function(tt){return tt};for(var G in h!==null&&(R=Sn.encryptor(y,0)),Y("<<"),Y("/Producer ("+pr(R("jsPDF "+ue.version))+")"),oe)oe.hasOwnProperty(G)&&oe[G]&&Y("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+pr(R(oe[G]))+")");Y("/CreationDate ("+pr(R(_t))+")"),Y(">>"),Y("endobj")},as=m.__private__.putCatalog=function(y){var R=(y=y||{}).rootDictionaryObjId||os;switch(an(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+R+" 0 R"),$t||($t="fullwidth"),$t){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+$t;G.substr(G.length-1)==="%"&&($t=parseInt($t)/100),typeof $t=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+j($t)+"]")}switch(Ae||(Ae="continuous"),Ae){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}he&&Y("/PageMode /"+he),Pe.publish("putCatalog"),Y(">>"),Y("endobj")},ho=m.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(it+1)),Y("/Root "+it+" 0 R"),Y("/Info "+(it-1)+" 0 R"),h!==null&&Y("/Encrypt "+Sn.oid+" 0 R"),Y("/ID [ <"+gt+"> <"+gt+"> ]"),Y(">>")},Eh=m.__private__.putHeader=function(){Y("%PDF-"+S),Y("%ºß¬à")},Iu=m.__private__.putXRef=function(){var y="0000000000";Y("xref"),Y("0 "+(it+1)),Y("0000000000 65535 f ");for(var R=1;R<=it;R++)typeof ht[R]=="function"?Y((y+ht[R]()).slice(-10)+" 00000 n "):ht[R]!==void 0?Y((y+ht[R]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},ls=m.__private__.buildDocument=function(){ie(),xt(yt),Pe.publish("buildDocument"),Eh(),Rs(),dl(),Go(),h!==null&&fl(),Qo(),as();var y=vt;return Iu(),ho(),Y("startxref"),Y(""+y),Y("%%EOF"),xt(Nt[H]),yt.join(`
`)},Yo=m.__private__.getBlob=function(y){return new Blob([Zt(y)],{type:"application/pdf"})},Xo=m.output=m.__private__.output=Qr(function(y,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",y){case void 0:return ls();case"save":m.save(R.filename);break;case"arraybuffer":return Zt(ls());case"blob":return Yo(ls());case"bloburi":case"bloburl":if(ce.URL!==void 0&&typeof ce.URL.createObjectURL=="function")return ce.URL&&ce.URL.createObjectURL(Yo(ls()))||void 0;tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",tt=ls();try{G=By(tt)}catch{G=By(unescape(encodeURIComponent(tt)))}return"data:application/pdf;filename="+R.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ce)==="[object Window]"){var lt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",wt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(lt=R.pdfObjectUrl,wt="");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+lt+'"'+wt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Gt=ce.open();return Gt!==null&&Gt.document.write(Pt),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ce)==="[object Window]"){var te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',f=ce.open();if(f!==null){f.document.write(te);var w=this;f.document.documentElement.querySelector("#pdfViewer").onload=function(){f.document.title=R.filename,f.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(w.output("bloburl"))}}return f}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ce)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var T='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',B=ce.open();if(B!==null&&(B.document.write(T),B.document.title=R.filename),B||typeof safari>"u")return B;break;case"datauri":case"dataurl":return ce.document.location.href=this.output("datauristring",R);default:return null}}),Pu=function(y){return Array.isArray(ks)===!0&&ks.indexOf(y)>-1};switch(r){case"pt":Wt=1;break;case"mm":Wt=72/25.4;break;case"cm":Wt=72/2.54;break;case"in":Wt=72;break;case"px":Wt=Pu("px_scaling")==1?.75:96/72;break;case"pc":case"em":Wt=12;break;case"ex":Wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Wt=r}var Sn=null;kt(),X();var Vi=function(y){return h!==null?Sn.encryptor(y,0):function(R){return R}},gl=m.__private__.getPageInfo=m.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fe[y].objId,pageNumber:y,pageContext:fe[y]}},de=m.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in fe)if(fe[R].objId===y)break;return gl(R)},Cu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:fe[H].objId,pageNumber:H,pageContext:fe[H]}};m.addPage=function(){return Yr.apply(this,arguments),this},m.setPage=function(){return co.apply(this,arguments),xt.call(this,Nt[H]),this},m.insertPage=function(y){return this.addPage(),this.movePage(H,y),this},m.movePage=function(y,R){var G,tt;if(y>R){G=Nt[y],tt=fe[y];for(var lt=y;lt>R;lt--)Nt[lt]=Nt[lt-1],fe[lt]=fe[lt-1];Nt[R]=G,fe[R]=tt,this.setPage(R)}else if(y<R){G=Nt[y],tt=fe[y];for(var wt=y;wt<R;wt++)Nt[wt]=Nt[wt+1],fe[wt]=fe[wt+1];Nt[R]=G,fe[R]=tt,this.setPage(R)}return this},m.deletePage=function(){return Ko.apply(this,arguments),this},m.__private__.text=m.text=function(y,R,G,tt,lt){var wt,Pt,Gt,te,f,w,T,B,rt,ft=(tt=tt||{}).scope||this;if(typeof y=="number"&&typeof R=="number"&&(typeof G=="string"||Array.isArray(G))){var Ct=G;G=R,R=y,y=Ct}if(arguments[3]instanceof se?(x("The transform parameter of text() with a Matrix value"),rt=lt):(Gt=arguments[4],te=arguments[5],He(T=arguments[3])==="object"&&T!==null||(typeof Gt=="string"&&(te=Gt,Gt=null),typeof T=="string"&&(te=T,T=null),typeof T=="number"&&(Gt=T,T=null),tt={flags:T,angle:Gt,align:te})),isNaN(R)||isNaN(G)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return ft;var ye="",ze=!1,ve=typeof tt.lineHeightFactor=="number"?tt.lineHeightFactor:us,Je=ft.internal.scaleFactor;function Nn(nn){return nn=nn.split("	").join(Array(tt.TabLen||9).join(" ")),pr(nn,T)}function Bi(nn){for(var rn,kn=nn.concat(),Hn=[],vo=kn.length;vo--;)typeof(rn=kn.shift())=="string"?Hn.push(rn):Array.isArray(nn)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?Hn.push(rn[0]):Hn.push([rn[0],rn[1],rn[2]]);return Hn}function rr(nn,rn){var kn;if(typeof nn=="string")kn=rn(nn)[0];else if(Array.isArray(nn)){for(var Hn,vo,Rh=nn.concat(),qu=[],$d=Rh.length;$d--;)typeof(Hn=Rh.shift())=="string"?qu.push(rn(Hn)[0]):Array.isArray(Hn)&&typeof Hn[0]=="string"&&(vo=rn(Hn[0],Hn[1],Hn[2]),qu.push([vo[0],vo[1],vo[2]]));kn=qu}return kn}var ps=!1,po=!0;if(typeof y=="string")ps=!0;else if(Array.isArray(y)){var Ih=y.concat();Pt=[];for(var Vu,ir=Ih.length;ir--;)(typeof(Vu=Ih.shift())!="string"||Array.isArray(Vu)&&typeof Vu[0]!="string")&&(po=!1);ps=po}if(ps===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Fu=Mt/ft.internal.scaleFactor,Mu=Fu*(ve-1);switch(tt.baseline){case"bottom":G-=Mu;break;case"top":G+=Fu-Mu;break;case"hanging":G+=Fu-2*Mu;break;case"middle":G+=Fu/2-Mu}if((w=tt.maxWidth||0)>0&&(typeof y=="string"?y=ft.splitTextToSize(y,w):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(nn,rn){return nn.concat(ft.splitTextToSize(rn,w))},[]))),wt={text:y,x:R,y:G,options:tt,mutex:{pdfEscape:pr,activeFontKey:Ee,fonts:Oe,activeFontSize:Mt}},Pe.publish("preProcessText",wt),y=wt.text,Gt=(tt=wt.options).angle,!(rt instanceof se)&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,tt.rotationDirection===0&&(Gt=-Gt),P===b.ADVANCED&&(Gt=-Gt);var Ou=Math.cos(Gt),Ph=Math.sin(Gt);rt=new se(Ou,Ph,-Ph,Ou,0,0)}else Gt&&Gt instanceof se&&(rt=Gt);P!==b.ADVANCED||rt||(rt=fi),(f=tt.charSpace||fs)!==void 0&&(ye+=C(N(f))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(B=tt.horizontalScale)!==void 0&&(ye+=C(100*B)+` Tz
`),tt.lang;var Jr=-1,y1=tt.renderingMode!==void 0?tt.renderingMode:tt.stroke,Ch=ft.internal.getCurrentPageInfo().pageContext;switch(y1){case 0:case!1:case"fill":Jr=0;break;case 1:case!0:case"stroke":Jr=1;break;case 2:case"fillThenStroke":Jr=2;break;case 3:case"invisible":Jr=3;break;case 4:case"fillAndAddForClipping":Jr=4;break;case 5:case"strokeAndAddPathForClipping":Jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jr=6;break;case 7:case"addToPathForClipping":Jr=7}var Bd=Ch.usedRenderingMode!==void 0?Ch.usedRenderingMode:-1;Jr!==-1?ye+=Jr+` Tr
`:Bd!==-1&&(ye+=`0 Tr
`),Jr!==-1&&(Ch.usedRenderingMode=Jr),te=tt.align||"left";var zi,ju=Mt*ve,zd=ft.internal.pageSize.getWidth(),Ud=Oe[Ee];f=tt.charSpace||fs,w=tt.maxWidth||0,T=Object.assign({autoencode:!0,noBOM:!0},tt.flags);var oa=[],El=function(nn){return ft.getStringUnitWidth(nn,{font:Ud,charSpace:f,fontSize:Mt,doKerning:!1})*Mt/Je};if(Object.prototype.toString.call(y)==="[object Array]"){var Zr;Pt=Bi(y),te!=="left"&&(zi=Pt.map(El));var Dr,aa=0;if(te==="right"){R-=zi[0],y=[],ir=Pt.length;for(var mo=0;mo<ir;mo++)mo===0?(Dr=Rr(R),Zr=Mi(G)):(Dr=N(aa-zi[mo]),Zr=-ju),y.push([Pt[mo],Dr,Zr]),aa=zi[mo]}else if(te==="center"){R-=zi[0]/2,y=[],ir=Pt.length;for(var go=0;go<ir;go++)go===0?(Dr=Rr(R),Zr=Mi(G)):(Dr=N((aa-zi[go])/2),Zr=-ju),y.push([Pt[go],Dr,Zr]),aa=zi[go]}else if(te==="left"){y=[],ir=Pt.length;for(var Bu=0;Bu<ir;Bu++)y.push(Pt[Bu])}else if(te==="justify"&&Ud.encoding==="Identity-H"){y=[],ir=Pt.length,w=w!==0?w:zd;for(var yo=0,Ln=0;Ln<ir;Ln++)if(Zr=Ln===0?Mi(G):-ju,Dr=Ln===0?Rr(R):yo,Ln<ir-1){var Nh=N((w-zi[Ln])/(Pt[Ln].split(" ").length-1)),Vr=Pt[Ln].split(" ");y.push([Vr[0]+" ",Dr,Zr]),yo=0;for(var Ui=1;Ui<Vr.length;Ui++){var zu=(El(Vr[Ui-1]+" "+Vr[Ui])-El(Vr[Ui]))*Je+Nh;Ui==Vr.length-1?y.push([Vr[Ui],zu,0]):y.push([Vr[Ui]+" ",zu,0]),yo-=zu}}else y.push([Pt[Ln],Dr,Zr]);y.push(["",yo,0])}else{if(te!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],ir=Pt.length,w=w!==0?w:zd,Ln=0;Ln<ir;Ln++)Zr=Ln===0?Mi(G):-ju,Dr=Ln===0?Rr(R):0,Ln<ir-1?oa.push(C(N((w-zi[Ln])/(Pt[Ln].split(" ").length-1)))):oa.push(0),y.push([Pt[Ln],Dr,Zr])}}var qd=typeof tt.R2L=="boolean"?tt.R2L:ne;qd===!0&&(y=rr(y,function(nn,rn,kn){return[nn.split("").reverse().join(""),rn,kn]})),wt={text:y,x:R,y:G,options:tt,mutex:{pdfEscape:pr,activeFontKey:Ee,fonts:Oe,activeFontSize:Mt}},Pe.publish("postProcessText",wt),y=wt.text,ze=wt.mutex.isHex||!1;var Lh=Oe[Ee].encoding;Lh!=="WinAnsiEncoding"&&Lh!=="StandardEncoding"||(y=rr(y,function(nn,rn,kn){return[Nn(nn),rn,kn]})),Pt=Bi(y),y=[];for(var Tl,Il,la,Pl=0,Uu=1,Cl=Array.isArray(Pt[0])?Uu:Pl,ua="",kh=function(nn,rn,kn){var Hn="";return kn instanceof se?(kn=typeof tt.angle=="number"?Xe(kn,new se(1,0,0,1,nn,rn)):Xe(new se(1,0,0,1,nn,rn),kn),P===b.ADVANCED&&(kn=Xe(new se(1,0,0,-1,0,0),kn)),Hn=kn.join(" ")+` Tm
`):Hn=C(nn)+" "+C(rn)+` Td
`,Hn},qi=0;qi<Pt.length;qi++){switch(ua="",Cl){case Uu:la=(ze?"<":"(")+Pt[qi][0]+(ze?">":")"),Tl=parseFloat(Pt[qi][1]),Il=parseFloat(Pt[qi][2]);break;case Pl:la=(ze?"<":"(")+Pt[qi]+(ze?">":")"),Tl=Rr(R),Il=Mi(G)}oa!==void 0&&oa[qi]!==void 0&&(ua=oa[qi]+` Tw
`),qi===0?y.push(ua+kh(Tl,Il,rt)+la):Cl===Pl?y.push(ua+la):Cl===Uu&&y.push(ua+kh(Tl,Il,rt)+la)}y=Cl===Pl?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var $i=`BT
/`;return $i+=Ee+" "+Mt+` Tf
`,$i+=C(Mt*ve)+` TL
`,$i+=Ms+`
`,$i+=ye,$i+=y,Y($i+="ET"),g[Ee]=!0,ft};var Fs=m.__private__.clip=m.clip=function(y){return Y(y==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Fs("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Y("n"),this};var Fi=m.__private__.isValidStyle=function(y){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(R=!0),R};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(y){return Fi(y)&&(u=y),this};var Nu=m.__private__.getStyle=m.getStyle=function(y){var R=u;switch(y){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=y}return R},Lu=m.close=function(){return Y("h"),this};m.stroke=function(){return Y("S"),this},m.fill=function(y){return kr("f",y),this},m.fillEvenOdd=function(y){return kr("f*",y),this},m.fillStroke=function(y){return kr("B",y),this},m.fillStrokeEvenOdd=function(y){return kr("B*",y),this};var kr=function(y,R){He(R)==="object"?Jo(R,y):Y(y)},yl=function(y){y===null||P===b.ADVANCED&&y===void 0||(y=Nu(y),Y(y))};function Th(y,R,G,tt,lt){var wt=new Ic(R||this.boundingBox,G||this.xStep,tt||this.yStep,this.gState,lt||this.matrix);wt.stream=this.stream;var Pt=y+"$$"+this.cloneIndex+++"$$";return On(Pt,wt),wt}var Jo=function(y,R){var G=ss[y.key],tt=Fe[G];if(tt instanceof $l)Y("q"),Y(Zo(R)),tt.gState&&m.setGState(tt.gState),Y(y.matrix.toString()+" cm"),Y("/"+G+" sh"),Y("Q");else if(tt instanceof Ic){var lt=new se(1,0,0,-1,0,ds());y.matrix&&(lt=lt.multiply(y.matrix||fi),G=Th.call(tt,y.key,y.boundingBox,y.xStep,y.yStep,lt).id),Y("q"),Y("/Pattern cs"),Y("/"+G+" scn"),tt.gState&&m.setGState(tt.gState),Y(R),Y("Q")}},Zo=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ta=m.moveTo=function(y,R){return Y(C(N(y))+" "+C(J(R))+" m"),this},yi=m.lineTo=function(y,R){return Y(C(N(y))+" "+C(J(R))+" l"),this},Xr=m.curveTo=function(y,R,G,tt,lt,wt){return Y([C(N(y)),C(J(R)),C(N(G)),C(J(tt)),C(N(lt)),C(J(wt)),"c"].join(" ")),this};m.__private__.line=m.line=function(y,R,G,tt,lt){if(isNaN(y)||isNaN(R)||isNaN(G)||isNaN(tt)||!Fi(lt))throw new Error("Invalid arguments passed to jsPDF.line");return P===b.COMPAT?this.lines([[G-y,tt-R]],y,R,[1,1],lt||"S"):this.lines([[G-y,tt-R]],y,R,[1,1]).stroke()},m.__private__.lines=m.lines=function(y,R,G,tt,lt,wt){var Pt,Gt,te,f,w,T,B,rt,ft,Ct,ye,ze;if(typeof y=="number"&&(ze=G,G=R,R=y,y=ze),tt=tt||[1,1],wt=wt||!1,isNaN(R)||isNaN(G)||!Array.isArray(y)||!Array.isArray(tt)||!Fi(lt)||typeof wt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ta(R,G),Pt=tt[0],Gt=tt[1],f=y.length,Ct=R,ye=G,te=0;te<f;te++)(w=y[te]).length===2?(Ct=w[0]*Pt+Ct,ye=w[1]*Gt+ye,yi(Ct,ye)):(T=w[0]*Pt+Ct,B=w[1]*Gt+ye,rt=w[2]*Pt+Ct,ft=w[3]*Gt+ye,Ct=w[4]*Pt+Ct,ye=w[5]*Gt+ye,Xr(T,B,rt,ft,Ct,ye));return wt&&Lu(),yl(lt),this},m.path=function(y){for(var R=0;R<y.length;R++){var G=y[R],tt=G.c;switch(G.op){case"m":ta(tt[0],tt[1]);break;case"l":yi(tt[0],tt[1]);break;case"c":Xr.apply(this,tt);break;case"h":Lu()}}return this},m.__private__.rect=m.rect=function(y,R,G,tt,lt){if(isNaN(y)||isNaN(R)||isNaN(G)||isNaN(tt)||!Fi(lt))throw new Error("Invalid arguments passed to jsPDF.rect");return P===b.COMPAT&&(tt=-tt),Y([C(N(y)),C(J(R)),C(N(G)),C(N(tt)),"re"].join(" ")),yl(lt),this},m.__private__.triangle=m.triangle=function(y,R,G,tt,lt,wt,Pt){if(isNaN(y)||isNaN(R)||isNaN(G)||isNaN(tt)||isNaN(lt)||isNaN(wt)||!Fi(Pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-y,tt-R],[lt-G,wt-tt],[y-lt,R-wt]],y,R,[1,1],Pt,!0),this},m.__private__.roundedRect=m.roundedRect=function(y,R,G,tt,lt,wt,Pt){if(isNaN(y)||isNaN(R)||isNaN(G)||isNaN(tt)||isNaN(lt)||isNaN(wt)||!Fi(Pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return lt=Math.min(lt,.5*G),wt=Math.min(wt,.5*tt),this.lines([[G-2*lt,0],[lt*Gt,0,lt,wt-wt*Gt,lt,wt],[0,tt-2*wt],[0,wt*Gt,-lt*Gt,wt,-lt,wt],[2*lt-G,0],[-lt*Gt,0,-lt,-wt*Gt,-lt,-wt],[0,2*wt-tt],[0,-wt*Gt,lt*Gt,-wt,lt,-wt]],y+lt,R,[1,1],Pt,!0),this},m.__private__.ellipse=m.ellipse=function(y,R,G,tt,lt){if(isNaN(y)||isNaN(R)||isNaN(G)||isNaN(tt)||!Fi(lt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var wt=4/3*(Math.SQRT2-1)*G,Pt=4/3*(Math.SQRT2-1)*tt;return ta(y+G,R),Xr(y+G,R-Pt,y+wt,R-tt,y,R-tt),Xr(y-wt,R-tt,y-G,R-Pt,y-G,R),Xr(y-G,R+Pt,y-wt,R+tt,y,R+tt),Xr(y+wt,R+tt,y+G,R+Pt,y+G,R),yl(lt),this},m.__private__.circle=m.circle=function(y,R,G,tt){if(isNaN(y)||isNaN(R)||isNaN(G)||!Fi(tt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,R,G,G,tt)},m.setFont=function(y,R,G){return G&&(R=Q(R,G)),Ee=je(y,R,{disableWarning:!1}),this};var ku=m.__private__.getFont=m.getFont=function(){return Oe[je.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var y,R,G={};for(y in Ke)if(Ke.hasOwnProperty(y))for(R in G[y]=[],Ke[y])Ke[y].hasOwnProperty(R)&&G[y].push(R);return G},m.addFont=function(y,R,G,tt,lt){var wt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&wt.indexOf(arguments[3])!==-1?lt=arguments[3]:arguments[3]&&wt.indexOf(arguments[3])==-1&&(G=Q(G,tt)),lt=lt||"Identity-H",ml.call(this,y,R,G,lt)};var us,Qe=e.lineWidth||.200025,ea=m.__private__.getLineWidth=m.getLineWidth=function(){return Qe},Ru=m.__private__.setLineWidth=m.setLineWidth=function(y){return Qe=y,Y(C(N(y))+" w"),this};m.__private__.setLineDash=ue.API.setLineDash=ue.API.setLineDashPattern=function(y,R){if(y=y||[],R=R||0,isNaN(R)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(G){return C(N(G))}).join(" "),R=C(N(R)),Y("["+y+"] "+R+" d"),this};var vl=m.__private__.getLineHeight=m.getLineHeight=function(){return Mt*us};m.__private__.getLineHeight=m.getLineHeight=function(){return Mt*us};var wl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(us=y),this},_l=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return us};wl(e.lineHeight);var Rr=m.__private__.getHorizontalCoordinate=function(y){return N(y)},Mi=m.__private__.getVerticalCoordinate=function(y){return P===b.ADVANCED?y:fe[H].mediaBox.topRightY-fe[H].mediaBox.bottomLeftY-N(y)},vi=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(y){return C(Rr(y))},cs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(y){return C(Mi(y))},wi=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return dr(wi)},m.__private__.setStrokeColor=m.setDrawColor=function(y,R,G,tt){return wi=Gr({ch1:y,ch2:R,ch3:G,ch4:tt,pdfColorType:"draw",precision:2}),Y(wi),this};var hs=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return dr(hs)},m.__private__.setFillColor=m.setFillColor=function(y,R,G,tt){return hs=Gr({ch1:y,ch2:R,ch3:G,ch4:tt,pdfColorType:"fill",precision:2}),Y(hs),this};var Ms=e.textColor||"0 g",bl=m.__private__.getTextColor=m.getTextColor=function(){return dr(Ms)};m.__private__.setTextColor=m.setTextColor=function(y,R,G,tt){return Ms=Gr({ch1:y,ch2:R,ch3:G,ch4:tt,pdfColorType:"text",precision:3}),this};var fs=e.charSpace,Du=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(fs||0)};m.__private__.setCharSpace=m.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fs=y,this};var Os=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(y){var R=m.CapJoinStyles[y];if(R===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Os=R,Y(R+" J"),this};var xl=0;m.__private__.setLineJoin=m.setLineJoin=function(y){var R=m.CapJoinStyles[y];if(R===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xl=R,Y(R+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(C(N(y))+" M"),this},m.GState=wg,m.setGState=function(y){(y=typeof y=="string"?on[Wr[y]]:Al(null,y)).equals(Nr)||(Y("/"+y.id+" gs"),Nr=y)};var Al=function(y,R){if(!y||!Wr[y]){var G=!1;for(var tt in on)if(on.hasOwnProperty(tt)&&on[tt].equals(R)){G=!0;break}if(G)R=on[tt];else{var lt="GS"+(Object.keys(on).length+1).toString(10);on[lt]=R,R.id=lt}return y&&(Wr[y]=R.id),Pe.publish("addGState",R),R}};m.addGState=function(y,R){return Al(y,R),this},m.saveGraphicsState=function(){return Y("q"),Di.push({key:Ee,size:Mt,color:Ms}),this},m.restoreGraphicsState=function(){Y("Q");var y=Di.pop();return Ee=y.key,Mt=y.size,Ms=y.color,Nr=null,this},m.setCurrentTransformationMatrix=function(y){return Y(y.toString()+" cm"),this},m.comment=function(y){return Y("#"+y),this};var Oi=function(y,R){var G=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(wt){isNaN(wt)||(G=parseFloat(wt))}});var tt=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return tt},set:function(wt){isNaN(wt)||(tt=parseFloat(wt))}});var lt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return lt},set:function(wt){lt=wt.toString()}}),this},na=function(y,R,G,tt){Oi.call(this,y,R),this.type="rect";var lt=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return lt},set:function(Pt){isNaN(Pt)||(lt=parseFloat(Pt))}});var wt=tt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return wt},set:function(Pt){isNaN(Pt)||(wt=parseFloat(Pt))}}),this},ra=function(){this.page=en,this.currentPage=H,this.pages=Nt.slice(0),this.pagesContext=fe.slice(0),this.x=Qn,this.y=Ie,this.matrix=Hr,this.width=ji(H),this.height=ds(H),this.outputDestination=jt,this.id="",this.objectNumber=-1};ra.prototype.restore=function(){en=this.page,H=this.currentPage,fe=this.pagesContext,Nt=this.pages,Qn=this.x,Ie=this.y,Hr=this.matrix,sa(H,this.width),_i(H,this.height),jt=this.outputDestination};var ia=function(y,R,G,tt,lt){fr.push(new ra),en=H=0,Nt=[],Qn=y,Ie=R,Hr=lt,gi([G,tt])},Sl=function(y){if(hi[y])fr.pop().restore();else{var R=new ra,G="Xo"+(Object.keys(xn).length+1).toString(10);R.id=G,hi[y]=G,xn[G]=R,Pe.publish("addFormObject",R),fr.pop().restore()}};for(var fo in m.beginFormObject=function(y,R,G,tt,lt){return ia(y,R,G,tt,lt),this},m.endFormObject=function(y){return Sl(y),this},m.doFormObject=function(y,R){var G=xn[hi[y]];return Y("q"),Y(R.toString()+" cm"),Y("/"+G.id+" Do"),Y("Q"),this},m.getFormObject=function(y){var R=xn[hi[y]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},m.save=function(y,R){return y=y||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(jl(Yo(ls()),y),typeof jl.unload=="function"&&ce.setTimeout&&setTimeout(jl.unload,911),this):new Promise(function(G,tt){try{var lt=jl(Yo(ls()),y);typeof jl.unload=="function"&&ce.setTimeout&&setTimeout(jl.unload,911),G(lt)}catch(wt){tt(wt.message)}})},ue.API)ue.API.hasOwnProperty(fo)&&(fo==="events"&&ue.API.events.length?function(y,R){var G,tt,lt;for(lt=R.length-1;lt!==-1;lt--)G=R[lt][0],tt=R[lt][1],y.subscribe.apply(y,[G].concat(typeof tt=="function"?[tt]:tt))}(Pe,ue.API.events):m[fo]=ue.API[fo]);var ji=m.getPageWidth=function(y){return(fe[y=y||H].mediaBox.topRightX-fe[y].mediaBox.bottomLeftX)/Wt},sa=m.setPageWidth=function(y,R){fe[y].mediaBox.topRightX=R*Wt+fe[y].mediaBox.bottomLeftX},ds=m.getPageHeight=function(y){return(fe[y=y||H].mediaBox.topRightY-fe[y].mediaBox.bottomLeftY)/Wt},_i=m.setPageHeight=function(y,R){fe[y].mediaBox.topRightY=R*Wt+fe[y].mediaBox.bottomLeftY};return m.internal={pdfEscape:pr,getStyle:Nu,getFont:ku,getFontSize:Ut,getCharSpace:Du,getTextColor:bl,getLineHeight:vl,getLineHeightFactor:_l,getLineWidth:ea,write:ge,getHorizontalCoordinate:Rr,getVerticalCoordinate:Mi,getCoordinateString:vi,getVerticalCoordinateString:cs,collections:{},newObject:an,newAdditionalObject:di,newObjectDeferred:An,newObjectDeferredBegin:Lr,getFilters:Kr,putStream:nr,events:Pe,scaleFactor:Wt,pageSize:{getWidth:function(){return ji(H)},setWidth:function(y){sa(H,y)},getHeight:function(){return ds(H)},setHeight:function(y){_i(H,y)}},encryptionOptions:h,encryption:Sn,getEncryptor:Vi,output:Xo,getNumberOfPages:Tu,pages:Nt,out:Y,f2:j,f3:I,getPageInfo:gl,getPageInfoByObjId:de,getCurrentPageInfo:Cu,getPDFVersion:E,Point:Oi,Rectangle:na,Matrix:se,hasHotfix:Pu},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ji(H)},set:function(y){sa(H,y)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ds(H)},set:function(y){_i(H,y)},enumerable:!0,configurable:!0}),Sh.call(m,Lt),Ee="F1",Yr(i,n),Pe.publish("initialized"),m}lc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},lc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},lc.prototype.processOwnerPassword=function(e,t){return Uy(zy(t).substr(0,5),e)},lc.prototype.encryptor=function(e,t){var n=zy(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Uy(n,r)}},wg.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||He(e)!==He(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},ue.API={events:[]},ue.version="3.0.1";var Tn=ue.API,Tw=1,xu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ec=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xe=function(e){return e.toFixed(2)},xa=function(e){return e.toFixed(5)};Tn.__acroform__={};var ci=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ux=function(e){return e*Tw},zs=function(e){var t=new dP,n=Xt.internal.getHeight(e)||0,r=Xt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xe(r)),Number(xe(n))],t},yj=Tn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},vj=Tn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},wj=Tn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Vn=Tn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wj(e,t-1)},Fn=Tn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yj(e,t-1)},Mn=Tn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vj(e,t-1)},_j=Tn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(xe(l.lowerLeft_X)),Number(xe(l.lowerLeft_Y)),Number(xe(l.upperRight_X)),Number(xe(l.upperRight_Y))]},bj=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=qy(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+xe(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=zs(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},qy=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=n,o=Xt.internal.getHeight(e)||0;o=o<0?-o:o;var a=Xt.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(I,N,k){if(I+1<i.length){var J=N+" "+i[I+1][0];return jp(J,e,k).width<=a-4}return!1};s++;t:for(;s>0;){t="",s--;var u,h,d=jp("3",e,s).height,g=e.multiline?o-s:(o-d)/2,m=g+=2,S=0,E=0,L=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+jp(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",b=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var q=!1;if(i[P].length!==1&&L!==i[P].length-1){if((d+2)*(b+2)+2>o)continue t;_+=i[P][L],q=!0,E=P,P--}else{_=(_+=i[P][L]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var $=parseInt(P),Q=l($,_,s),C=P>=i.length-1;if(Q&&!C){_+=" ",L=0;continue}if(Q||C){if(C)E=$;else if(e.multiline&&(d+2)*(b+2)+2>o)continue t}else{if(!e.multiline||(d+2)*(b+2)+2>o)continue t;E=$}}for(var x="",V=S;V<=E;V++){var j=i[V];if(e.multiline){if(V===E){x+=j[L]+" ",L=(L+1)%j.length;continue}if(V===S){x+=j[j.length-1]+" ";continue}}x+=j[0]+" "}switch(x=x.substr(x.length-1)==" "?x.substr(0,x.length-1):x,h=jp(x,e,s).width,e.textAlign){case"right":u=a-h-2;break;case"center":u=(a-h)/2;break;case"left":default:u=2}t+=xe(u)+" "+xe(m)+` Td
`,t+="("+xu(x)+`) Tj
`,t+=-xe(u)+` 0 Td
`,m=-(s+2),h=0,S=q?E:E+1,b++,_=""}break}return r.text=t,r.fontSize=s,r},jp=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},xj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Aj=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Sj=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),He(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},Ej=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ns.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(xj)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Tw=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new pP,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Aj(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=_j(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Xt.createDefaultAppearanceStream(a),He(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=bj(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var S=m[o];typeof S=="function"&&(S=S.call(i,a)),d+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=m)=="function"&&(S=S.call(i,a)),d+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Sj(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},fP=Tn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),He(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+xu(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},F0=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+xu(r(e))+")"},Ks=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ks.prototype.toString=function(){return this.objId+" 0 R"},Ks.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ks.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:fP(i,this.objId,this.scope)}):i instanceof Ks?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var dP=function(){Ks.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ci(dP,Ks);var pP=function(){Ks.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+xu(n(e))+")"}},set:function(n){e=n}})};ci(pP,Ks);var Ns=function e(){Ks.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vn(t,3)},set:function(_){_?this.F=Fn(t,3):this.F=Mn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof _g)return;s="FieldObject"+e.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+xu(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Tw:u},set:function(_){u=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof _g||this instanceof iu))return F0(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof tr?g:F0(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof tr?_:_.substr(0,1)==="("?ec(_.substr(1,_.length-2)):ec(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof tr?ec(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof tr?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof tr?m:F0(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof tr?_:_.substr(0,1)==="("?ec(_.substr(1,_.length-2)):ec(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof tr?ec(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof tr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(_){_=!!_,E=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(_){S=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,1)},set:function(_){_?this.Ff=Fn(this.Ff,1):this.Ff=Mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,2)},set:function(_){_?this.Ff=Fn(this.Ff,2):this.Ff=Mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,3)},set:function(_){_?this.Ff=Fn(this.Ff,3):this.Ff=Mn(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');L=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(L){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};ci(Ns,Ks);var Oc=function(){Ns.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fP(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,18)},set:function(n){n?this.Ff=Fn(this.Ff,18):this.Ff=Mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Fn(this.Ff,19):this.Ff=Mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,20)},set:function(n){n?(this.Ff=Fn(this.Ff,20),t.sort()):this.Ff=Mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,22)},set:function(n){n?this.Ff=Fn(this.Ff,22):this.Ff=Mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,23)},set:function(n){n?this.Ff=Fn(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,27)},set:function(n){n?this.Ff=Fn(this.Ff,27):this.Ff=Mn(this.Ff,27)}}),this.hasAppearanceStream=!1};ci(Oc,Ns);var jc=function(){Oc.call(this),this.fontName="helvetica",this.combo=!1};ci(jc,Oc);var Bc=function(){jc.call(this),this.combo=!0};ci(Bc,jc);var mm=function(){Bc.call(this),this.edit=!0};ci(mm,Bc);var tr=function(){Ns.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,15)},set:function(n){n?this.Ff=Fn(this.Ff,15):this.Ff=Mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,16)},set:function(n){n?this.Ff=Fn(this.Ff,16):this.Ff=Mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,17)},set:function(n){n?this.Ff=Fn(this.Ff,17):this.Ff=Mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,26)},set:function(n){n?this.Ff=Fn(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+xu(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){He(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ci(tr,Ns);var gm=function(){tr.call(this),this.pushButton=!0};ci(gm,tr);var zc=function(){tr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ci(zc,tr);var _g=function(){var e,t;Ns.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+xu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){He(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ci(_g,Ns),zc.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},zc.prototype.createOption=function(e){var t=new _g;return t.Parent=this,t.optionName=e,this.Kids.push(t),Tj.call(this.scope,t),t};var ym=function(){tr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xt.CheckBox.createAppearanceStream()};ci(ym,tr);var iu=function(){Ns.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,13)},set:function(t){t?this.Ff=Fn(this.Ff,13):this.Ff=Mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,21)},set:function(t){t?this.Ff=Fn(this.Ff,21):this.Ff=Mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,23)},set:function(t){t?this.Ff=Fn(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,24)},set:function(t){t?this.Ff=Fn(this.Ff,24):this.Ff=Mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,25)},set:function(t){t?this.Ff=Fn(this.Ff,25):this.Ff=Mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,26)},set:function(t){t?this.Ff=Fn(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ci(iu,Ns);var vm=function(){iu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,14)},set:function(e){e?this.Ff=Fn(this.Ff,14):this.Ff=Mn(this.Ff,14)}}),this.password=!0};ci(vm,iu);var Xt={CheckBox:{createAppearanceStream:function(){return{N:{On:Xt.CheckBox.YesNormal},D:{On:Xt.CheckBox.YesPushDown,Off:Xt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=zs(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=qy(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+xe(Xt.internal.getWidth(e))+" "+xe(Xt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+xe(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=zs(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Xt.internal.getHeight(e),o=Xt.internal.getWidth(e),a=qy(e,e.caption);return i.push("1 g"),i.push("0 0 "+xe(o)+" "+xe(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xe(o-1)+" "+xe(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+xe(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=zs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xe(Xt.internal.getWidth(e))+" "+xe(Xt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Xt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Xt.RadioButton.Circle.YesNormal,t.D[e]=Xt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=zs(e);t.scope=e.scope;var n=[],r=Xt.internal.getWidth(e)<=Xt.internal.getHeight(e)?Xt.internal.getWidth(e)/4:Xt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Xt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+xa(Xt.internal.getWidth(e)/2)+" "+xa(Xt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=zs(e);t.scope=e.scope;var n=[],r=Xt.internal.getWidth(e)<=Xt.internal.getHeight(e)?Xt.internal.getWidth(e)/4:Xt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xt.internal.Bezier_C).toFixed(5)),o=Number((r*Xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+xa(Xt.internal.getWidth(e)/2)+" "+xa(Xt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+xa(Xt.internal.getWidth(e)/2)+" "+xa(Xt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=zs(e);t.scope=e.scope;var n=[],r=Xt.internal.getWidth(e)<=Xt.internal.getHeight(e)?Xt.internal.getWidth(e)/4:Xt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+xa(Xt.internal.getWidth(e)/2)+" "+xa(Xt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Xt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Xt.RadioButton.Cross.YesNormal,t.D[e]=Xt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=zs(e);t.scope=e.scope;var n=[],r=Xt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+xe(Xt.internal.getWidth(e)-2)+" "+xe(Xt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xe(r.x1.x)+" "+xe(r.x1.y)+" m"),n.push(xe(r.x2.x)+" "+xe(r.x2.y)+" l"),n.push(xe(r.x4.x)+" "+xe(r.x4.y)+" m"),n.push(xe(r.x3.x)+" "+xe(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=zs(e);t.scope=e.scope;var n=Xt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+xe(Xt.internal.getWidth(e))+" "+xe(Xt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+xe(Xt.internal.getWidth(e)-2)+" "+xe(Xt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xe(n.x1.x)+" "+xe(n.x1.y)+" m"),r.push(xe(n.x2.x)+" "+xe(n.x2.y)+" l"),r.push(xe(n.x4.x)+" "+xe(n.x4.y)+" m"),r.push(xe(n.x3.x)+" "+xe(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=zs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xe(Xt.internal.getWidth(e))+" "+xe(Xt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Xt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Xt.internal.getWidth(e),n=Xt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Xt.internal.getWidth=function(e){var t=0;return He(e)==="object"&&(t=ux(e.Rect[2])),t},Xt.internal.getHeight=function(e){var t=0;return He(e)==="object"&&(t=ux(e.Rect[3])),t};var Tj=Tn.addField=function(e){if(Ej(this,e),!(e instanceof Ns))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Tn.AcroFormChoiceField=Oc,Tn.AcroFormListBox=jc,Tn.AcroFormComboBox=Bc,Tn.AcroFormEditBox=mm,Tn.AcroFormButton=tr,Tn.AcroFormPushButton=gm,Tn.AcroFormRadioButton=zc,Tn.AcroFormCheckBox=ym,Tn.AcroFormTextField=iu,Tn.AcroFormPasswordField=vm,Tn.AcroFormAppearance=Xt,Tn.AcroForm={ChoiceField:Oc,ListBox:jc,ComboBox:Bc,EditBox:mm,Button:tr,PushButton:gm,RadioButton:zc,CheckBox:ym,TextField:iu,PasswordField:vm,Appearance:Xt},ue.AcroForm={ChoiceField:Oc,ListBox:jc,ComboBox:Bc,EditBox:mm,Button:tr,PushButton:gm,RadioButton:zc,CheckBox:ym,TextField:iu,PasswordField:vm,Appearance:Xt};function mP(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(I,N){var k,J,_t,gt,mt,X=t;if((N=N||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Q(I))for(mt in n)for(_t=n[mt],k=0;k<_t.length;k+=1){for(gt=!0,J=0;J<_t[k].length;J+=1)if(_t[k][J]!==void 0&&_t[k][J]!==I[J]){gt=!1;break}if(gt===!0){X=mt;break}}else for(mt in n)for(_t=n[mt],k=0;k<_t.length;k+=1){for(gt=!0,J=0;J<_t[k].length;J+=1)if(_t[k][J]!==void 0&&_t[k][J]!==I.charCodeAt(J)){gt=!1;break}if(gt===!0){X=mt;break}}return X===t&&N!==t&&(X=N),X},i=function I(N){for(var k=this.internal.write,J=this.internal.putStream,_t=(0,this.internal.getFilters)();_t.indexOf("FlateEncode")!==-1;)_t.splice(_t.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var gt=[];if(gt.push({key:"Type",value:"/XObject"}),gt.push({key:"Subtype",value:"/Image"}),gt.push({key:"Width",value:N.width}),gt.push({key:"Height",value:N.height}),N.colorSpace===L.INDEXED?gt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(gt.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===L.DEVICE_CMYK&&gt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),gt.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&gt.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var mt="",X=0,at=N.transparency.length;X<at;X++)mt+=N.transparency[X]+" "+N.transparency[X]+" ";gt.push({key:"Mask",value:"["+mt+"]"})}N.sMask!==void 0&&gt.push({key:"SMask",value:N.objectId+1+" 0 R"});var ut=N.filter!==void 0?["/"+N.filter]:void 0;if(J({data:N.data,additionalKeyValues:gt,alreadyAppliedFilters:ut,objectId:N.objectId}),k("endobj"),"sMask"in N&&N.sMask!==void 0){var kt="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,F={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:kt,data:N.sMask};"filter"in N&&(F.filter=N.filter),I.call(this,F)}if(N.colorSpace===L.INDEXED){var H=this.internal.newObject();J({data:x(new Uint8Array(N.palette)),objectId:H}),k("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var N in I)i.call(this,I[N])},o=function(){var I,N=this.internal.collections.addImage_images,k=this.internal.write;for(var J in N)k("/I"+(I=N[J]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(I){return typeof e["process"+I.toUpperCase()]=="function"},d=function(I){return He(I)==="object"&&I.nodeType===1},g=function(I,N){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var k=""+I.getAttribute("src");if(k.indexOf("data:image/")===0)return Df(unescape(k).split("base64,").pop());var J=e.loadFile(k,!0);if(J!==void 0)return J}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var _t;switch(N){case"PNG":_t="image/png";break;case"WEBP":_t="image/webp";break;case"JPEG":case"JPG":default:_t="image/jpeg"}return Df(I.toDataURL(_t,1).split("base64,").pop())}},m=function(I){var N=this.internal.collections.addImage_images;if(N){for(var k in N)if(I===N[k].alias)return N[k]}},S=function(I,N,k){return I||N||(I=-96,N=-96),I<0&&(I=-1*k.width*72/I/this.internal.scaleFactor),N<0&&(N=-1*k.height*72/N/this.internal.scaleFactor),I===0&&(I=N*k.width/k.height),N===0&&(N=I*k.height/k.width),[I,N]},E=function(I,N,k,J,_t,gt){var mt=S.call(this,k,J,_t),X=this.internal.getCoordinateString,at=this.internal.getVerticalCoordinateString,ut=l.call(this);if(k=mt[0],J=mt[1],ut[_t.index]=_t,gt){gt*=Math.PI/180;var kt=Math.cos(gt),F=Math.sin(gt),H=function(Z){return Z.toFixed(4)},K=[H(kt),H(F),H(-1*F),H(kt),0,0,"cm"]}this.internal.write("q"),gt?(this.internal.write([1,"0","0",1,X(I),at(N+J),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([X(k),"0","0",X(J),"0","0","cm"].join(" "))):this.internal.write([X(k),"0","0",X(J),X(I),at(N+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_t.index+" Do"),this.internal.write("Q")},L=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(I){var N,k,J=0;if(typeof I=="string")for(k=I.length,N=0;N<k;N++)J=(J<<5)-J+I.charCodeAt(N),J|=0;else if(Q(I))for(k=I.byteLength/2,N=0;N<k;N++)J=(J<<5)-J+I[N],J|=0;return J},P=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var N=!0;return I.length===0&&(N=!1),I.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(N=!1),N},q=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var N=I.indexOf(",");return N<0?null:I.substring(0,N).trim().endsWith("base64")?I.substring(N+1):null},$=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(I){return $()&&I instanceof ArrayBuffer};var Q=e.__addimage__.isArrayBufferView=function(I){return $()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},C=e.__addimage__.binaryStringToUint8Array=function(I){for(var N=I.length,k=new Uint8Array(N),J=0;J<N;J++)k[J]=I.charCodeAt(J);return k},x=e.__addimage__.arrayBufferToBinaryString=function(I){for(var N="",k=Q(I)?I:new Uint8Array(I),J=0;J<k.length;J+=8192)N+=String.fromCharCode.apply(null,k.subarray(J,J+8192));return N};e.addImage=function(){var I,N,k,J,_t,gt,mt,X,at;if(typeof arguments[1]=="number"?(N=t,k=arguments[1],J=arguments[2],_t=arguments[3],gt=arguments[4],mt=arguments[5],X=arguments[6],at=arguments[7]):(N=arguments[1],k=arguments[2],J=arguments[3],_t=arguments[4],gt=arguments[5],mt=arguments[6],X=arguments[7],at=arguments[8]),He(I=arguments[0])==="object"&&!d(I)&&"imageData"in I){var ut=I;I=ut.imageData,N=ut.format||N||t,k=ut.x||k||0,J=ut.y||J||0,_t=ut.w||ut.width||_t,gt=ut.h||ut.height||gt,mt=ut.alias||mt,X=ut.compression||X,at=ut.rotation||ut.angle||at}var kt=this.internal.getFilters();if(X===void 0&&kt.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(k)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var F=V.call(this,I,N,mt,X);return E.call(this,k,J,_t,gt,F,at),this};var V=function(I,N,k,J){var _t,gt,mt;if(typeof I=="string"&&r(I)===t){I=unescape(I);var X=j(I,!1);(X!==""||(X=e.loadFile(I,!0))!==void 0)&&(I=X)}if(d(I)&&(I=g(I,N)),N=r(I,N),!h(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((mt=k)==null||mt.length===0)&&(k=function(at){return typeof at=="string"||Q(at)?b(at):Q(at.data)?b(at.data):null}(I)),(_t=m.call(this,k))||($()&&(I instanceof Uint8Array||N==="RGBA"||(gt=I,I=C(I))),_t=this["process"+N.toUpperCase()](I,u.call(this),k,function(at){return at&&typeof at=="string"&&(at=at.toUpperCase()),at in e.image_compression?at:_.NONE}(J),gt)),!_t)throw new Error("An unknown error occurred whilst processing the image.");return _t},j=e.__addimage__.convertBase64ToBinaryString=function(I,N){N=typeof N!="boolean"||N;var k,J="";if(typeof I=="string"){var _t;k=(_t=q(I))!==null&&_t!==void 0?_t:I;try{J=Df(k)}catch(gt){if(N)throw P(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+gt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(I){var N,k,J="";if(d(I)&&(I=g(I)),typeof I=="string"&&r(I)===t&&((J=j(I,!1))===""&&(J=e.loadFile(I)||""),I=J),k=r(I),!h(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!$()||I instanceof Uint8Array||(I=C(I)),!(N=this["process"+k.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=k,N}})(ue.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ue.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,h=!1,d=0;d<u.length&&!h;d++)switch((r=u[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(E.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(_(r.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(_(b))+") >>",E.content=s;var P=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(E.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var q=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Q=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(n,a).length;o=Math.ceil(u*h)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ue.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(E){return t[E.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},a=e.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&s(E)&&t[E.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&i.indexOf(E.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&s(E)&&t[E.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&s(E)&&t[E.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&s(E)&&t[E.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&s(E)&&t[E.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(E){var L=0,_=n,b="",P=0;for(L=0;L<E.length;L+=1)_[E.charCodeAt(L)]!==void 0?(P++,typeof(_=_[E.charCodeAt(L)])=="number"&&(b+=String.fromCharCode(_),_=n,P=0),L===E.length-1&&(_=n,b+=E.charAt(L-(P-1)),L-=P-1,P=0)):(_=n,b+=E.charAt(L-P),L-=P,P=0);return b};e.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(E,L,_){return o(E)?s(E)===!1?-1:!u(E)||!o(L)&&!o(_)||!o(_)&&a(L)||a(E)&&!o(L)||a(E)&&l(L)||a(E)&&a(L)?0:h(E)&&o(L)&&!a(L)&&o(_)&&u(_)?3:a(E)||!o(_)?1:2:-1},m=function(E){var L=0,_=0,b=0,P="",q="",$="",Q=(E=E||"").split("\\s+"),C=[];for(L=0;L<Q.length;L+=1){for(C.push(""),_=0;_<Q[L].length;_+=1)P=Q[L][_],q=Q[L][_-1],$=Q[L][_+1],o(P)?(b=g(P,q,$),C[L]+=b!==-1?String.fromCharCode(t[P.charCodeAt(0)][b]):P):C[L]+=P;C[L]=d(C[L])}return C.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var E,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(L)){var b=0;for(_=[],b=0;b<L.length;b+=1)Array.isArray(L[b])?_.push([m(L[b][0]),L[b][1],L[b][2]]):_.push([m(L[b])]);E=_}else E=m(L);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};e.events.push(["preProcessText",S])}(ue.API),ue.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ue.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(E){S=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,S=0,E=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(P,q){return P.concat(L.splitTextToSize(q,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)m<(E=this.getStringUnitWidth(l[b],{font:d})*h)&&(m=E);return m!==0&&(S=l.length),{w:m/=g,h:Math.max((S*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,h,d,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,S,E,L,_=[],b=[],P=[],q={},$={},Q=[],C=[],x=(g=g||{}).autoSize||!1,V=g.printHeaders!==!1,j=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,I=g.margins||Object.assign({width:this.getPageWidth()},t),N=typeof g.padding=="number"?g.padding:3,k=g.headerBackgroundColor||"#c8c8c8",J=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=J,this.setFontSize(j),d==null)b=_=Object.keys(h[0]),P=_.map(function(){return"left"});else if(Array.isArray(d)&&He(d[0])==="object")for(_=d.map(function(ut){return ut.name}),b=d.map(function(ut){return ut.prompt||ut.name||""}),P=d.map(function(ut){return ut.align||"left"}),m=0;m<d.length;m+=1)$[d[m].name]=d[m].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=_=d,P=_.map(function(){return"left"}));if(x||Array.isArray(d)&&typeof d[0]=="string")for(m=0;m<_.length;m+=1){for(q[L=_[m]]=h.map(function(ut){return ut[L]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=q[L],this.setFont(void 0,"normal"),E=0;E<S.length;E+=1)Q.push(this.getTextDimensions(S[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[L]=Math.max.apply(null,Q)+N+N,Q=[]}if(V){var _t={};for(m=0;m<_.length;m+=1)_t[_[m]]={},_t[_[m]].text=b[m],_t[_[m]].align=P[m];var gt=a.call(this,_t,$);C=_.map(function(ut){return new s(l,u,$[ut],gt,_t[ut].text,void 0,_t[ut].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var mt=d.reduce(function(ut,kt){return ut[kt.name]=kt.align,ut},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var X=a.call(this,h[m],$);for(E=0;E<_.length;E+=1){var at=h[m][_[E]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:E,data:at},this),o.call(this,new s(l,u,$[_[E]],X,at,m+2,mt[_[E]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var h=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var S=l[m];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*d/g+h+h},this).reduce(function(m,S){return Math.max(m,S)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ue.API);var gP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$y=mP(yP),vP=[100,200,300,400,500,600,700,800,900],Ij=mP(vP);function Hy(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return gP[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof $y[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function cx(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Pj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fx(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Cj(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Pj,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=Hy(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+fx(s)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var h=$y[l],d=h<=$y.normal?-1:1,g=cx(u,yP,h,d);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var h=gP[l],d=0;d<h.length;++d)if(u[h[d]])return u[h[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var h=Ij[l],d=cx(u,vP,h,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+fx(s)+"'.");return o}function dx(e){return e.trimLeft()}function Nj(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Lj(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Bp,px,mx,M0=["times"];(function(e){var t,n,r,i,s,o,a,l,u,h=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var d=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=F;Object.defineProperty(this,"pdf",{get:function(){return H}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(xt){K=!!xt}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(xt){Z=!!xt}});var it=0;Object.defineProperty(this,"posX",{get:function(){return it},set:function(xt){isNaN(xt)||(it=xt)}});var ht=0;Object.defineProperty(this,"posY",{get:function(){return ht},set:function(xt){isNaN(xt)||(ht=xt)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(xt){var Y;typeof xt=="number"?Y=[xt,xt,xt,xt]:((Y=new Array(4))[0]=xt[0],Y[1]=xt.length>=2?xt[1]:Y[0],Y[2]=xt.length>=3?xt[2]:Y[0],Y[3]=xt.length>=4?xt[3]:Y[1]),u.margin=Y}});var yt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yt},set:function(xt){yt=xt}});var vt=0;Object.defineProperty(this,"lastBreak",{get:function(){return vt},set:function(xt){vt=xt}});var Ft=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ft},set:function(xt){Ft=xt}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(xt){xt instanceof h&&(u=xt)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(xt){u.path=xt}});var Nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Nt},set:function(xt){Nt=xt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xt){var Y;Y=g(xt),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xt){var Y=g(xt);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xt){["butt","round","square"].indexOf(xt)!==-1&&(this.ctx.lineCap=xt,this.pdf.setLineCap(xt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xt){isNaN(xt)||(this.ctx.lineWidth=xt,this.pdf.setLineWidth(xt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xt){["bevel","round","miter"].indexOf(xt)!==-1&&(this.ctx.lineJoin=xt,this.pdf.setLineJoin(xt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xt){isNaN(xt)||(this.ctx.miterLimit=xt,this.pdf.setMiterLimit(xt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xt){this.ctx.textBaseline=xt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xt){["right","end","center","left","start"].indexOf(xt)!==-1&&(this.ctx.textAlign=xt)}});var zt=null;function jt(xt,Y){if(zt===null){var ge=function(Zt){var Lt=[];return Object.keys(Zt).forEach(function(Mt){Zt[Mt].forEach(function($t){var Ut=null;switch($t){case"bold":Ut={family:Mt,weight:"bold"};break;case"italic":Ut={family:Mt,style:"italic"};break;case"bolditalic":Ut={family:Mt,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:Mt}}Ut!==null&&(Ut.ref={name:Mt,style:$t},Lt.push(Ut))})}),Lt}(xt.getFontList());zt=function(Zt){for(var Lt={},Mt=0;Mt<Zt.length;++Mt){var $t=Hy(Zt[Mt]),Ut=$t.family,ne=$t.stretch,he=$t.style,we=$t.weight;Lt[Ut]=Lt[Ut]||{},Lt[Ut][ne]=Lt[Ut][ne]||{},Lt[Ut][ne][he]=Lt[Ut][ne][he]||{},Lt[Ut][ne][he][we]=$t}return Lt}(ge.concat(Y))}return zt}var ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return ie},set:function(xt){zt=null,ie=xt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xt){var Y;if(this.ctx.font=xt,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xt))!==null){var ge=Y[1];Y[2];var Zt=Y[3],Lt=Y[4];Y[5];var Mt=Y[6],$t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Lt)[2];Lt=Math.floor($t==="px"?parseFloat(Lt)*this.pdf.internal.scaleFactor:$t==="em"?parseFloat(Lt)*this.pdf.getFontSize():parseFloat(Lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Lt);var Ut=function(oe){var Ee,Wt,Qn=[],Ie=oe.trim();if(Ie==="")return M0;if(Ie in hx)return[hx[Ie]];for(;Ie!=="";){switch(Wt=null,Ee=(Ie=dx(Ie)).charAt(0)){case'"':case"'":Wt=Nj(Ie.substring(1),Ee);break;default:Wt=Lj(Ie)}if(Wt===null||(Qn.push(Wt[0]),(Ie=dx(Wt[1]))!==""&&Ie.charAt(0)!==","))return M0;Ie=Ie.replace(/^,/,"")}return Qn}(Mt);if(this.fontFaces){var ne=Cj(jt(this.pdf,this.fontFaces),Ut.map(function(oe){return{family:oe,stretch:"normal",weight:Zt,style:ge}}));this.pdf.setFont(ne.ref.name,ne.ref.style)}else{var he="";(Zt==="bold"||parseInt(Zt,10)>=700||ge==="bold")&&(he="bold"),ge==="italic"&&(he+="italic"),he.length===0&&(he="normal");for(var we="",Ae={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},le=0;le<Ut.length;le++){if(this.pdf.internal.getFont(Ut[le],he,{noFallback:!0,disableWarning:!0})!==void 0){we=Ut[le];break}if(he==="bolditalic"&&this.pdf.internal.getFont(Ut[le],"bold",{noFallback:!0,disableWarning:!0})!==void 0)we=Ut[le],he="bold";else if(this.pdf.internal.getFont(Ut[le],"normal",{noFallback:!0,disableWarning:!0})!==void 0){we=Ut[le],he="normal";break}}if(we===""){for(var be=0;be<Ut.length;be++)if(Ae[Ut[be]]){we=Ae[Ut[be]];break}}we=we===""?"Times":we,this.pdf.setFont(we,he)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xt){this.ctx.globalCompositeOperation=xt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xt){this.ctx.globalAlpha=xt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xt){this.ctx.lineDashOffset=xt,kt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xt){this.ctx.lineDash=xt,kt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xt){this.ctx.ignoreClearRect=!!xt}})};d.prototype.setLineDash=function(F){this.lineDash=F},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){q.call(this,"fill",!1)},d.prototype.stroke=function(){q.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(F,H){if(isNaN(F)||isNaN(H))throw tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(F,H)},d.prototype.closePath=function(){var F=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&He(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){F=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},d.prototype.lineTo=function(F,H){if(isNaN(F)||isNaN(H))throw tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},d.prototype.quadraticCurveTo=function(F,H,K,Z){if(isNaN(K)||isNaN(Z)||isNaN(F)||isNaN(H))throw tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var it=this.ctx.transform.applyToPoint(new o(K,Z)),ht=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"qct",x1:ht.x,y1:ht.y,x:it.x,y:it.y}),this.ctx.lastPoint=new o(it.x,it.y)},d.prototype.bezierCurveTo=function(F,H,K,Z,it,ht){if(isNaN(it)||isNaN(ht)||isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Z))throw tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var yt=this.ctx.transform.applyToPoint(new o(it,ht)),vt=this.ctx.transform.applyToPoint(new o(F,H)),Ft=this.ctx.transform.applyToPoint(new o(K,Z));this.path.push({type:"bct",x1:vt.x,y1:vt.y,x2:Ft.x,y2:Ft.y,x:yt.x,y:yt.y}),this.ctx.lastPoint=new o(yt.x,yt.y)},d.prototype.arc=function(F,H,K,Z,it,ht){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Z)||isNaN(it))throw tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ht=!!ht,!this.ctx.transform.isIdentity){var yt=this.ctx.transform.applyToPoint(new o(F,H));F=yt.x,H=yt.y;var vt=this.ctx.transform.applyToPoint(new o(0,K)),Ft=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(vt.x-Ft.x,2)+Math.pow(vt.y-Ft.y,2))}Math.abs(it-Z)>=2*Math.PI&&(Z=0,it=2*Math.PI),this.path.push({type:"arc",x:F,y:H,radius:K,startAngle:Z,endAngle:it,counterclockwise:ht})},d.prototype.arcTo=function(F,H,K,Z,it){throw new Error("arcTo not implemented.")},d.prototype.rect=function(F,H,K,Z){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Z))throw tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,H),this.lineTo(F+K,H),this.lineTo(F+K,H+Z),this.lineTo(F,H+Z),this.lineTo(F,H),this.lineTo(F+K,H),this.lineTo(F,H)},d.prototype.fillRect=function(F,H,K,Z){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Z))throw tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var it={};this.lineCap!=="butt"&&(it.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(it.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,H,K,Z),this.fill(),it.hasOwnProperty("lineCap")&&(this.lineCap=it.lineCap),it.hasOwnProperty("lineJoin")&&(this.lineJoin=it.lineJoin)}},d.prototype.strokeRect=function(F,H,K,Z){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Z))throw tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(F,H,K,Z),this.stroke())},d.prototype.clearRect=function(F,H,K,Z){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Z))throw tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,H,K,Z))},d.prototype.save=function(F){F=typeof F!="boolean"||F;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},d.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(H),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var H,K,Z,it;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))H=0,K=0,Z=0,it=0;else{var ht=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ht!==null)H=parseInt(ht[1]),K=parseInt(ht[2]),Z=parseInt(ht[3]),it=1;else if((ht=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)H=parseInt(ht[1]),K=parseInt(ht[2]),Z=parseInt(ht[3]),it=parseFloat(ht[4]);else{if(it=1,typeof F=="string"&&F.charAt(0)!=="#"){var yt=new uP(F);F=yt.ok?yt.toHex():"#000000"}F.length===4?(H=F.substring(1,2),H+=H,K=F.substring(2,3),K+=K,Z=F.substring(3,4),Z+=Z):(H=F.substring(1,3),K=F.substring(3,5),Z=F.substring(5,7)),H=parseInt(H,16),K=parseInt(K,16),Z=parseInt(Z,16)}}return{r:H,g:K,b:Z,a:it,style:F}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(F,H,K,Z){if(isNaN(H)||isNaN(K)||typeof F!="string")throw tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var it=X(this.ctx.transform.rotation),ht=this.ctx.transform.scaleX;N.call(this,{text:F,x:H,y:K,scale:ht,angle:it,align:this.textAlign,maxWidth:Z})}},d.prototype.strokeText=function(F,H,K,Z){if(isNaN(H)||isNaN(K)||typeof F!="string")throw tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){Z=isNaN(Z)?void 0:Z;var it=X(this.ctx.transform.rotation),ht=this.ctx.transform.scaleX;N.call(this,{text:F,x:H,y:K,scale:ht,renderingMode:"stroke",angle:it,align:this.textAlign,maxWidth:Z})}},d.prototype.measureText=function(F){if(typeof F!="string")throw tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,K=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),it=H.getStringUnitWidth(F)*Z/H.internal.scaleFactor,ht=function(yt){var vt=(yt=yt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return vt}}),this};return new ht({width:it*=Math.round(96*K/72*1e4)/1e4})},d.prototype.scale=function(F,H){if(isNaN(F)||isNaN(H))throw tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(F,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.rotate=function(F){if(isNaN(F))throw tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.translate=function(F,H){if(isNaN(F)||isNaN(H))throw tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,F,H);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.transform=function(F,H,K,Z,it,ht){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Z)||isNaN(it)||isNaN(ht))throw tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var yt=new l(F,H,K,Z,it,ht);this.ctx.transform=this.ctx.transform.multiply(yt)},d.prototype.setTransform=function(F,H,K,Z,it,ht){F=isNaN(F)?1:F,H=isNaN(H)?0:H,K=isNaN(K)?0:K,Z=isNaN(Z)?1:Z,it=isNaN(it)?0:it,ht=isNaN(ht)?0:ht,this.ctx.transform=new l(F,H,K,Z,it,ht)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(F,H,K,Z,it,ht,yt,vt,Ft){var Nt=this.pdf.getImageProperties(F),zt=1,jt=1,ie=1,xt=1;Z!==void 0&&vt!==void 0&&(ie=vt/Z,xt=Ft/it,zt=Nt.width/Z*vt/Z,jt=Nt.height/it*Ft/it),ht===void 0&&(ht=H,yt=K,H=0,K=0),Z!==void 0&&vt===void 0&&(vt=Z,Ft=it),Z===void 0&&vt===void 0&&(vt=Nt.width,Ft=Nt.height);for(var Y,ge=this.ctx.transform.decompose(),Zt=X(ge.rotate.shx),Lt=new l,Mt=(Lt=(Lt=(Lt=Lt.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale)).applyToRectangle(new a(ht-H*ie,yt-K*xt,Z*zt,it*jt)),$t=L.call(this,Mt),Ut=[],ne=0;ne<$t.length;ne+=1)Ut.indexOf($t[ne])===-1&&Ut.push($t[ne]);if(P(Ut),this.autoPaging)for(var he=Ut[0],we=Ut[Ut.length-1],Ae=he;Ae<we+1;Ae++){this.pdf.setPage(Ae);var le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=Ae===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=Ae===1?0:oe+(Ae-2)*Ee;if(this.ctx.clip_path.length!==0){var Qn=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Y,this.posX+this.margin[3],-Wt+be+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=Qn}var Ie=JSON.parse(JSON.stringify(Mt));Ie=b([Ie],this.posX+this.margin[3],-Wt+be+this.ctx.prevPageLastElemOffset)[0];var Hr=(Ae>he||Ae<we)&&E.call(this);Hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],le,Ee,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Zt),Hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,Zt)};var L=function(F,H,K){var Z=[];H=H||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var it=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":Z.push(Math.floor((F.y+it)/K)+1);break;case"arc":Z.push(Math.floor((F.y+it-F.radius)/K)+1),Z.push(Math.floor((F.y+it+F.radius)/K)+1);break;case"qct":var ht=at(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);Z.push(Math.floor((ht.y+it)/K)+1),Z.push(Math.floor((ht.y+ht.h+it)/K)+1);break;case"bct":var yt=ut(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);Z.push(Math.floor((yt.y+it)/K)+1),Z.push(Math.floor((yt.y+yt.h+it)/K)+1);break;case"rect":Z.push(Math.floor((F.y+it)/K)+1),Z.push(Math.floor((F.y+F.h+it)/K)+1)}for(var vt=0;vt<Z.length;vt+=1)for(;this.pdf.internal.getNumberOfPages()<Z[vt];)_.call(this);return Z},_=function(){var F=this.fillStyle,H=this.strokeStyle,K=this.font,Z=this.lineCap,it=this.lineWidth,ht=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=H,this.font=K,this.lineCap=Z,this.lineWidth=it,this.lineJoin=ht},b=function(F,H,K){for(var Z=0;Z<F.length;Z++)switch(F[Z].type){case"bct":F[Z].x2+=H,F[Z].y2+=K;case"qct":F[Z].x1+=H,F[Z].y1+=K;case"mt":case"lt":case"arc":default:F[Z].x+=H,F[Z].y+=K}return F},P=function(F){return F.sort(function(H,K){return H-K})},q=function(F,H){for(var K,Z,it=this.fillStyle,ht=this.strokeStyle,yt=this.lineCap,vt=this.lineWidth,Ft=Math.abs(vt*this.ctx.transform.scaleX),Nt=this.lineJoin,zt=JSON.parse(JSON.stringify(this.path)),jt=JSON.parse(JSON.stringify(this.path)),ie=[],xt=0;xt<jt.length;xt++)if(jt[xt].x!==void 0)for(var Y=L.call(this,jt[xt]),ge=0;ge<Y.length;ge+=1)ie.indexOf(Y[ge])===-1&&ie.push(Y[ge]);for(var Zt=0;Zt<ie.length;Zt++)for(;this.pdf.internal.getNumberOfPages()<ie[Zt];)_.call(this);if(P(ie),this.autoPaging)for(var Lt=ie[0],Mt=ie[ie.length-1],$t=Lt;$t<Mt+1;$t++){this.pdf.setPage($t),this.fillStyle=it,this.strokeStyle=ht,this.lineCap=yt,this.lineWidth=Ft,this.lineJoin=Nt;var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ne=$t===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ae=$t===1?0:he+($t-2)*we;if(this.ctx.clip_path.length!==0){var le=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(K,this.posX+this.margin[3],-Ae+ne+this.ctx.prevPageLastElemOffset),$.call(this,F,!0),this.path=le}if(Z=JSON.parse(JSON.stringify(zt)),this.path=b(Z,this.posX+this.margin[3],-Ae+ne+this.ctx.prevPageLastElemOffset),H===!1||$t===0){var be=($t>Lt||$t<Mt)&&E.call(this);be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,we,null).clip().discardPath()),$.call(this,F,H),be&&this.pdf.restoreGraphicsState()}this.lineWidth=vt}else this.lineWidth=Ft,$.call(this,F,H),this.lineWidth=vt;this.path=zt},$=function(F,H){if((F!=="stroke"||H||!S.call(this))&&(F==="stroke"||H||!m.call(this))){for(var K,Z,it=[],ht=this.path,yt=0;yt<ht.length;yt++){var vt=ht[yt];switch(vt.type){case"begin":it.push({begin:!0});break;case"close":it.push({close:!0});break;case"mt":it.push({start:vt,deltas:[],abs:[]});break;case"lt":var Ft=it.length;if(ht[yt-1]&&!isNaN(ht[yt-1].x)&&(K=[vt.x-ht[yt-1].x,vt.y-ht[yt-1].y],Ft>0)){for(;Ft>=0;Ft--)if(it[Ft-1].close!==!0&&it[Ft-1].begin!==!0){it[Ft-1].deltas.push(K),it[Ft-1].abs.push(vt);break}}break;case"bct":K=[vt.x1-ht[yt-1].x,vt.y1-ht[yt-1].y,vt.x2-ht[yt-1].x,vt.y2-ht[yt-1].y,vt.x-ht[yt-1].x,vt.y-ht[yt-1].y],it[it.length-1].deltas.push(K);break;case"qct":var Nt=ht[yt-1].x+2/3*(vt.x1-ht[yt-1].x),zt=ht[yt-1].y+2/3*(vt.y1-ht[yt-1].y),jt=vt.x+2/3*(vt.x1-vt.x),ie=vt.y+2/3*(vt.y1-vt.y),xt=vt.x,Y=vt.y;K=[Nt-ht[yt-1].x,zt-ht[yt-1].y,jt-ht[yt-1].x,ie-ht[yt-1].y,xt-ht[yt-1].x,Y-ht[yt-1].y],it[it.length-1].deltas.push(K);break;case"arc":it.push({deltas:[],abs:[],arc:!0}),Array.isArray(it[it.length-1].abs)&&it[it.length-1].abs.push(vt)}}Z=H?null:F==="stroke"?"stroke":"fill";for(var ge=!1,Zt=0;Zt<it.length;Zt++)if(it[Zt].arc)for(var Lt=it[Zt].abs,Mt=0;Mt<Lt.length;Mt++){var $t=Lt[Mt];$t.type==="arc"?x.call(this,$t.x,$t.y,$t.radius,$t.startAngle,$t.endAngle,$t.counterclockwise,void 0,H,!ge):k.call(this,$t.x,$t.y),ge=!0}else if(it[Zt].close===!0)this.pdf.internal.out("h"),ge=!1;else if(it[Zt].begin!==!0){var Ut=it[Zt].start.x,ne=it[Zt].start.y;J.call(this,it[Zt].deltas,Ut,ne),ge=!0}Z&&V.call(this,Z),H&&j.call(this)}},Q=function(F){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-K;case"top":return F+H-K;case"hanging":return F+H-2*K;case"middle":return F+H/2-K;case"ideographic":return F;case"alphabetic":default:return F}},C=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(H,K){this.colorStops.push([H,K])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(F,H,K,Z,it,ht,yt,vt,Ft){for(var Nt=gt.call(this,K,Z,it,ht),zt=0;zt<Nt.length;zt++){var jt=Nt[zt];zt===0&&(Ft?I.call(this,jt.x1+F,jt.y1+H):k.call(this,jt.x1+F,jt.y1+H)),_t.call(this,F,H,jt.x2,jt.y2,jt.x3,jt.y3,jt.x4,jt.y4)}vt?j.call(this):V.call(this,yt)},V=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(F,H){this.pdf.internal.out(n(F)+" "+r(H)+" m")},N=function(F){var H;switch(F.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var K=this.pdf.getTextDimensions(F.text),Z=Q.call(this,F.y),it=C.call(this,Z)-K.h,ht=this.ctx.transform.applyToPoint(new o(F.x,Z)),yt=this.ctx.transform.decompose(),vt=new l;vt=(vt=(vt=vt.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale);for(var Ft,Nt,zt,jt=this.ctx.transform.applyToRectangle(new a(F.x,Z,K.w,K.h)),ie=vt.applyToRectangle(new a(F.x,it,K.w,K.h)),xt=L.call(this,ie),Y=[],ge=0;ge<xt.length;ge+=1)Y.indexOf(xt[ge])===-1&&Y.push(xt[ge]);if(P(Y),this.autoPaging)for(var Zt=Y[0],Lt=Y[Y.length-1],Mt=Zt;Mt<Lt+1;Mt++){this.pdf.setPage(Mt);var $t=Mt===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ne=this.pdf.internal.pageSize.height-this.margin[2],he=ne-this.margin[0],we=this.pdf.internal.pageSize.width-this.margin[1],Ae=we-this.margin[3],le=Mt===1?0:Ut+(Mt-2)*he;if(this.ctx.clip_path.length!==0){var be=this.path;Ft=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ft,this.posX+this.margin[3],-1*le+$t),$.call(this,"fill",!0),this.path=be}var oe=b([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-le+$t+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*F.scale),zt=this.lineWidth,this.lineWidth=zt*F.scale);var Ee=this.autoPaging!=="text";if(Ee||oe.y+oe.h<=ne){if(Ee||oe.y>=$t&&oe.x<=we){var Wt=Ee?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||we-oe.x)[0],Qn=b([JSON.parse(JSON.stringify(jt))],this.posX+this.margin[3],-le+$t+this.ctx.prevPageLastElemOffset)[0],Ie=Ee&&(Mt>Zt||Mt<Lt)&&E.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,he,null).clip().discardPath()),this.pdf.text(Wt,Qn.x,Qn.y,{angle:F.angle,align:H,renderingMode:F.renderingMode}),Ie&&this.pdf.restoreGraphicsState()}}else oe.y<ne&&(this.ctx.prevPageLastElemOffset+=ne-oe.y);F.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=zt)}else F.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*F.scale),zt=this.lineWidth,this.lineWidth=zt*F.scale),this.pdf.text(F.text,ht.x+this.posX,ht.y+this.posY,{angle:F.angle,align:H,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=zt)},k=function(F,H,K,Z){K=K||0,Z=Z||0,this.pdf.internal.out(n(F+K)+" "+r(H+Z)+" l")},J=function(F,H,K){return this.pdf.lines(F,H,K,null,null)},_t=function(F,H,K,Z,it,ht,yt,vt){this.pdf.internal.out([t(i(K+F)),t(s(Z+H)),t(i(it+F)),t(s(ht+H)),t(i(yt+F)),t(s(vt+H)),"c"].join(" "))},gt=function(F,H,K,Z){for(var it=2*Math.PI,ht=Math.PI/2;H>K;)H-=it;var yt=Math.abs(K-H);yt<it&&Z&&(yt=it-yt);for(var vt=[],Ft=Z?-1:1,Nt=H;yt>1e-5;){var zt=Nt+Ft*Math.min(yt,ht);vt.push(mt.call(this,F,Nt,zt)),yt-=Math.abs(zt-Nt),Nt=zt}return vt},mt=function(F,H,K){var Z=(K-H)/2,it=F*Math.cos(Z),ht=F*Math.sin(Z),yt=it,vt=-ht,Ft=yt*yt+vt*vt,Nt=Ft+yt*it+vt*ht,zt=4/3*(Math.sqrt(2*Ft*Nt)-Nt)/(yt*ht-vt*it),jt=yt-zt*vt,ie=vt+zt*yt,xt=jt,Y=-ie,ge=Z+H,Zt=Math.cos(ge),Lt=Math.sin(ge);return{x1:F*Math.cos(H),y1:F*Math.sin(H),x2:jt*Zt-ie*Lt,y2:jt*Lt+ie*Zt,x3:xt*Zt-Y*Lt,y3:xt*Lt+Y*Zt,x4:F*Math.cos(K),y4:F*Math.sin(K)}},X=function(F){return 180*F/Math.PI},at=function(F,H,K,Z,it,ht){var yt=F+.5*(K-F),vt=H+.5*(Z-H),Ft=it+.5*(K-it),Nt=ht+.5*(Z-ht),zt=Math.min(F,it,yt,Ft),jt=Math.max(F,it,yt,Ft),ie=Math.min(H,ht,vt,Nt),xt=Math.max(H,ht,vt,Nt);return new a(zt,ie,jt-zt,xt-ie)},ut=function(F,H,K,Z,it,ht,yt,vt){var Ft,Nt,zt,jt,ie,xt,Y,ge,Zt,Lt,Mt,$t,Ut,ne,he=K-F,we=Z-H,Ae=it-K,le=ht-Z,be=yt-it,oe=vt-ht;for(Nt=0;Nt<41;Nt++)Zt=(Y=(zt=F+(Ft=Nt/40)*he)+Ft*((ie=K+Ft*Ae)-zt))+Ft*(ie+Ft*(it+Ft*be-ie)-Y),Lt=(ge=(jt=H+Ft*we)+Ft*((xt=Z+Ft*le)-jt))+Ft*(xt+Ft*(ht+Ft*oe-xt)-ge),Nt==0?(Mt=Zt,$t=Lt,Ut=Zt,ne=Lt):(Mt=Math.min(Mt,Zt),$t=Math.min($t,Lt),Ut=Math.max(Ut,Zt),ne=Math.max(ne,Lt));return new a(Math.round(Mt),Math.round($t),Math.round(Ut-Mt),Math.round(ne-$t))},kt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,H,K=(F=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:H}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(ue.API),function(e){var t=function(s){var o,a,l,u,h,d,g,m,S,E;for(a=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(h=((h=((h=((h=(h-(E=h%85))/85)-(S=h%85))/85)-(m=h%85))/85)-(g=h%85))/85)%85,a.push(d+33,g+33,m+33,S+33,E+33)):a.push(122);return function(L,_){for(var b=_;b>0;b--)L.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,u,h,d=String,g="length",m=255,S="charCodeAt",E="slice",L="replace";for(s[E](-2),s=s[E](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),l=[],u=0,h=(s+=o="uuuuu"[E](s[g]%5||5))[g];h>u;u+=5)a=52200625*(s[S](u)-33)+614125*(s[S](u+1)-33)+7225*(s[S](u+2)-33)+85*(s[S](u+3)-33)+(s[S](u+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(_,b){for(var P=b;P>0;P--)_.pop()}(l,o[g]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=jy(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ue.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,h){var d=new XMLHttpRequest,g=0,m=function(S){var E=S.length,L=[],_=String.fromCharCode;for(g=0;g<E;g+=1)L.push(_(255&S.charCodeAt(g)));return L.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?h(m(this.responseText)):h(void 0)}),d.send(null),u&&d.status===200)return m(d.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(ue.API),function(e){function t(){return(ce.html2canvas?Promise.resolve(ce.html2canvas):Dy(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ce.DOMPurify?Promise.resolve(ce.DOMPurify):Dy(()=>import("./purify.es-5b635869.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=He(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(u,h){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var m=u[g],S=m.src.find(function(E){return E.format==="truetype"});S&&l.addFont(S.url,m.ref.name,m.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ue.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,h){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,u),d}).then(u,h).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(u,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ue.getPageSize=function(o,a,l){if(He(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,d=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var m,S=0,E=0;if(g.hasOwnProperty(d))S=g[d][1]/h,E=g[d][0]/h;else try{S=l[1],E=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",E>S&&(m=E,E=S,S=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>E&&(m=E,E=S,S=m)}return{width:E,height:S,unit:a,k:h,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Hy):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ue.API),ue.API.addJS=function(e){return mx=e,this.internal.events.subscribe("postPutResources",function(){Bp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),px=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bp!==void 0&&px!==void 0&&this.internal.out("/Names <</JavaScript "+Bp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var d=n.internal.newObject();h.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ue.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var g,m=256*d.charCodeAt(4)+d.charCodeAt(5),S=d.length,E={width:0,height:0,numcomponents:1},L=4;L<S;L+=2){if(L+=m,t.indexOf(d.charCodeAt(L+1))!==-1){g=256*d.charCodeAt(L+5)+d.charCodeAt(L+6),E={width:256*d.charCodeAt(L+7)+d.charCodeAt(L+8),height:g,numcomponents:d.charCodeAt(L+9)};break}m=256*d.charCodeAt(L+2)+d.charCodeAt(L+3)}return E}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}}(ue.API);var nc,zp,gx,yx,vx,kj=function(){var e,t,n;function r(s){var o,a,l,u,h,d,g,m,S,E,L,_,b,P;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),S=(function(){var q,$;for($=[],q=0;q<4;++q)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*h/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((E=l-this.transparency.indexed.length)>0)for(b=0;0<=E?b<E:b>E;0<=E?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(L=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,L.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,L.slice(g+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(d,g,m,S){var E,L,_,b,P,q,$,Q,C,x,V,j,I,N,k,J,_t,gt,mt,X,at,ut=Math.ceil((u.width-d)/m),kt=Math.ceil((u.height-g)/S),F=u.width==ut&&u.height==kt;for(N=o*ut,j=F?a:new Uint8Array(N*kt),q=s.length,I=0,L=0;I<kt&&l<q;){switch(s[l++]){case 0:for(b=_t=0;_t<N;b=_t+=1)j[L++]=s[l++];break;case 1:for(b=gt=0;gt<N;b=gt+=1)E=s[l++],P=b<o?0:j[L-o],j[L++]=(E+P)%256;break;case 2:for(b=mt=0;mt<N;b=mt+=1)E=s[l++],_=(b-b%o)/o,k=I&&j[(I-1)*N+_*o+b%o],j[L++]=(k+E)%256;break;case 3:for(b=X=0;X<N;b=X+=1)E=s[l++],_=(b-b%o)/o,P=b<o?0:j[L-o],k=I&&j[(I-1)*N+_*o+b%o],j[L++]=(E+Math.floor((P+k)/2))%256;break;case 4:for(b=at=0;at<N;b=at+=1)E=s[l++],_=(b-b%o)/o,P=b<o?0:j[L-o],I===0?k=J=0:(k=j[(I-1)*N+_*o+b%o],J=_&&j[(I-1)*N+(_-1)*o+b%o]),$=P+k-J,Q=Math.abs($-P),x=Math.abs($-k),V=Math.abs($-J),C=Q<=x&&Q<=V?P:x<=V?k:J,j[L++]=(E+C)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!F){var H=((g+I*S)*u.width+d)*o,K=I*N;for(b=0;b<ut;b+=1){for(var Z=0;Z<o;Z+=1)a[H++]=j[K++];H+=(m-1)*o}}I++}}return s=cj(s),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,u,h,d,g,m;for(a=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+a.length),l=0,s=0,o=d=0,g=a.length;d<g;o=d+=3)u[l++]=a[o],u[l++]=a[o+1],u[l++]=a[o+2],u[l++]=(m=h[s++])!=null?m:255;return u},r.prototype.copyToImageData=function(s,o){var a,l,u,h,d,g,m,S,E,L,_;if(l=this.colors,E=null,a=this.hasAlphaChannel,this.palette.length&&(E=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),S=(u=s.data||s).length,d=E||o,h=g=0,l===1)for(;h<S;)m=E?4*o[h/4]:g,L=d[m++],u[h++]=L,u[h++]=L,u[h++]=L,u[h++]=a?d[m++]:255,g=m;else for(;h<S;)m=E?4*o[h/4]:g,u[h++]=d[m++],u[h++]=d[m++],u[h++]=d[m++],u[h++]=a?d[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ce)==="[object Window]"){try{t=ce.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,u,h,d,g,m;if(this.animation){for(m=[],a=h=0,d=(g=this.animation.frames).length;h<d;a=++h)o=g[a],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,m.push(o.image=e(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,u;return a=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,u,h,d,g=this;return a=0,d=this.animation,u=d.numFrames,l=d.frames,h=d.numPlays,(o=function(){var m,S;if(m=a++%u,S=l[m],g.renderFrame(s,m),u>1&&a/u<h)return g.animation._timeout=setTimeout(o,S.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Rj(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var u=!0,h=[],d=0,g=null,m=0,S=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var E=e[t++];d=e[t++]|e[t++]<<8,g=e[t++],!(1&E)&&(g=null),m=E>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var L=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,q=e[t++],$=q>>6&1,Q=1<<(7&q)+1,C=a,x=l,V=!1;q>>7&&(V=!0,C=t,x=Q,t+=3*Q);var j=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}h.push({x:L,y:_,width:b,height:P,has_local_palette:V,palette_offset:C,palette_size:x,data_offset:j,data_length:t-j,transparent_index:g,interlaced:!!$,delay:d,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return S},this.frameInfo=function(N){if(N<0||N>=h.length)throw new Error("Frame index out of range.");return h[N]},this.decodeAndBlitFrameBGRA=function(N,k){var J=this.frameInfo(N),_t=J.width*J.height,gt=new Uint8Array(_t);wx(e,J.data_offset,gt,_t);var mt=J.palette_offset,X=J.transparent_index;X===null&&(X=256);var at=J.width,ut=n-at,kt=at,F=4*(J.y*n+J.x),H=4*((J.y+J.height)*n+J.x),K=F,Z=4*ut;J.interlaced===!0&&(Z+=4*n*7);for(var it=8,ht=0,yt=gt.length;ht<yt;++ht){var vt=gt[ht];if(kt===0&&(kt=at,(K+=Z)>=H&&(Z=4*ut+4*n*(it-1),K=F+(at+ut)*(it<<1),it>>=1)),vt===X)K+=4;else{var Ft=e[mt+3*vt],Nt=e[mt+3*vt+1],zt=e[mt+3*vt+2];k[K++]=zt,k[K++]=Nt,k[K++]=Ft,k[K++]=255}--kt}},this.decodeAndBlitFrameRGBA=function(N,k){var J=this.frameInfo(N),_t=J.width*J.height,gt=new Uint8Array(_t);wx(e,J.data_offset,gt,_t);var mt=J.palette_offset,X=J.transparent_index;X===null&&(X=256);var at=J.width,ut=n-at,kt=at,F=4*(J.y*n+J.x),H=4*((J.y+J.height)*n+J.x),K=F,Z=4*ut;J.interlaced===!0&&(Z+=4*n*7);for(var it=8,ht=0,yt=gt.length;ht<yt;++ht){var vt=gt[ht];if(kt===0&&(kt=at,(K+=Z)>=H&&(Z=4*ut+4*n*(it-1),K=F+(at+ut)*(it<<1),it>>=1)),vt===X)K+=4;else{var Ft=e[mt+3*vt],Nt=e[mt+3*vt+1],zt=e[mt+3*vt+2];k[K++]=Ft,k[K++]=Nt,k[K++]=zt,k[K++]=255}--kt}}}function wx(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,h=0,d=0,g=0,m=e[t++],S=new Int32Array(4096),E=null;;){for(;h<16&&m!==0;)d|=e[t++]<<h,h+=8,m===1?m=e[t++]:--m;if(h<l)break;var L=d&u;if(d>>=l,h-=l,L!==s){if(L===o)break;for(var _=L<a?L:E,b=0,P=_;P>s;)P=S[P]>>8,++b;var q=P;if(g+b+(_!==L?1:0)>r)return void tn.log("Warning, gif stream longer than expected.");n[g++]=q;var $=g+=b;for(_!==L&&(n[g++]=q),P=_;b--;)P=S[P],n[--$]=255&P,P>>=8;E!==null&&a<4096&&(S[a++]=E<<8|q,a>=u+1&&l<12&&(++l,u=u<<1|1)),E=L}else a=o+1,u=(1<<(l=i+1))-1,E=null}return g!==r&&tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function O0(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),d=new Array(65535),g=new Array(65535),m=new Array(64),S=new Array(64),E=[],L=0,_=7,b=new Array(64),P=new Array(64),q=new Array(64),$=new Array(256),Q=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_t=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function gt(F,H){for(var K=0,Z=0,it=new Array,ht=1;ht<=16;ht++){for(var yt=1;yt<=F[ht];yt++)it[H[Z]]=[],it[H[Z]][0]=K,it[H[Z]][1]=ht,Z++,K++;K*=2}return it}function mt(F){for(var H=F[0],K=F[1]-1;K>=0;)H&1<<K&&(L|=1<<_),K--,--_<0&&(L==255?(X(255),X(0)):X(L),_=7,L=0)}function X(F){E.push(F)}function at(F){X(F>>8&255),X(255&F)}function ut(F,H,K,Z,it){for(var ht,yt=it[0],vt=it[240],Ft=function(Lt,Mt){var $t,Ut,ne,he,we,Ae,le,be,oe,Ee,Wt=0;for(oe=0;oe<8;++oe){$t=Lt[Wt],Ut=Lt[Wt+1],ne=Lt[Wt+2],he=Lt[Wt+3],we=Lt[Wt+4],Ae=Lt[Wt+5],le=Lt[Wt+6];var Qn=$t+(be=Lt[Wt+7]),Ie=$t-be,Hr=Ut+le,Oe=Ut-le,Ke=ne+Ae,Di=ne-Ae,Fe=he+we,ss=he-we,on=Qn+Fe,Wr=Qn-Fe,Nr=Hr+Ke,en=Hr-Ke;Lt[Wt]=on+Nr,Lt[Wt+4]=on-Nr;var fe=.707106781*(en+Wr);Lt[Wt+2]=Wr+fe,Lt[Wt+6]=Wr-fe;var Pe=.382683433*((on=ss+Di)-(en=Oe+Ie)),ks=.5411961*on+Pe,xn=1.306562965*en+Pe,hi=.707106781*(Nr=Di+Oe),fr=Ie+hi,se=Ie-hi;Lt[Wt+5]=se+ks,Lt[Wt+3]=se-ks,Lt[Wt+1]=fr+xn,Lt[Wt+7]=fr-xn,Wt+=8}for(Wt=0,oe=0;oe<8;++oe){$t=Lt[Wt],Ut=Lt[Wt+8],ne=Lt[Wt+16],he=Lt[Wt+24],we=Lt[Wt+32],Ae=Lt[Wt+40],le=Lt[Wt+48];var Xe=$t+(be=Lt[Wt+56]),fi=$t-be,On=Ut+le,an=Ut-le,An=ne+Ae,Lr=ne-Ae,di=he+we,os=he-we,pi=Xe+di,dr=Xe-di,Gr=On+An,Kr=On-An;Lt[Wt]=pi+Gr,Lt[Wt+32]=pi-Gr;var nr=.707106781*(Kr+dr);Lt[Wt+16]=dr+nr,Lt[Wt+48]=dr-nr;var $n=.382683433*((pi=os+Lr)-(Kr=an+fi)),Rs=.5411961*pi+$n,io=1.306562965*Kr+$n,Ds=.707106781*(Gr=Lr+an),Vs=fi+Ds,so=fi-Ds;Lt[Wt+40]=so+Rs,Lt[Wt+24]=so-Rs,Lt[Wt+8]=Vs+io,Lt[Wt+56]=Vs-io,Wt++}for(oe=0;oe<64;++oe)Ee=Lt[oe]*Mt[oe],m[oe]=Ee>0?Ee+.5|0:Ee-.5|0;return m}(F,H),Nt=0;Nt<64;++Nt)S[C[Nt]]=Ft[Nt];var zt=S[0]-K;K=S[0],zt==0?mt(Z[0]):(mt(Z[g[ht=32767+zt]]),mt(d[ht]));for(var jt=63;jt>0&&S[jt]==0;)jt--;if(jt==0)return mt(yt),K;for(var ie,xt=1;xt<=jt;){for(var Y=xt;S[xt]==0&&xt<=jt;)++xt;var ge=xt-Y;if(ge>=16){ie=ge>>4;for(var Zt=1;Zt<=ie;++Zt)mt(vt);ge&=15}ht=32767+S[xt],mt(it[(ge<<4)+g[ht]]),mt(d[ht]),xt++}return jt!=63&&mt(yt),K}function kt(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(H){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var it=o((K[Z]*H+50)/100);it=Math.min(Math.max(it,1),255),a[C[Z]]=it}for(var ht=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],yt=0;yt<64;yt++){var vt=o((ht[yt]*H+50)/100);vt=Math.min(Math.max(vt,1),255),l[C[yt]]=vt}for(var Ft=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Nt=0,zt=0;zt<8;zt++)for(var jt=0;jt<8;jt++)u[Nt]=1/(a[C[Nt]]*Ft[zt]*Ft[jt]*8),h[Nt]=1/(l[C[Nt]]*Ft[zt]*Ft[jt]*8),Nt++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,H){H&&kt(H),E=new Array,L=0,_=7,at(65496),at(65504),at(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),at(1),at(1),X(0),X(0),function(){at(65499),at(132),X(0);for(var Ut=0;Ut<64;Ut++)X(a[Ut]);X(1);for(var ne=0;ne<64;ne++)X(l[ne])}(),function(Ut,ne){at(65472),at(17),X(8),at(ne),at(Ut),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(F.width,F.height),function(){at(65476),at(418),X(0);for(var Ut=0;Ut<16;Ut++)X(x[Ut+1]);for(var ne=0;ne<=11;ne++)X(V[ne]);X(16);for(var he=0;he<16;he++)X(j[he+1]);for(var we=0;we<=161;we++)X(I[we]);X(1);for(var Ae=0;Ae<16;Ae++)X(N[Ae+1]);for(var le=0;le<=11;le++)X(k[le]);X(17);for(var be=0;be<16;be++)X(J[be+1]);for(var oe=0;oe<=161;oe++)X(_t[oe])}(),at(65498),at(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var K=0,Z=0,it=0;L=0,_=7,this.encode.displayName="_encode_";for(var ht,yt,vt,Ft,Nt,zt,jt,ie,xt,Y=F.data,ge=F.width,Zt=F.height,Lt=4*ge,Mt=0;Mt<Zt;){for(ht=0;ht<Lt;){for(Nt=Lt*Mt+ht,jt=-1,ie=0,xt=0;xt<64;xt++)zt=Nt+(ie=xt>>3)*Lt+(jt=4*(7&xt)),Mt+ie>=Zt&&(zt-=Lt*(Mt+1+ie-Zt)),ht+jt>=Lt&&(zt-=ht+jt-Lt+4),yt=Y[zt++],vt=Y[zt++],Ft=Y[zt++],b[xt]=(Q[yt]+Q[vt+256>>0]+Q[Ft+512>>0]>>16)-128,P[xt]=(Q[yt+768>>0]+Q[vt+1024>>0]+Q[Ft+1280>>0]>>16)-128,q[xt]=(Q[yt+1280>>0]+Q[vt+1536>>0]+Q[Ft+1792>>0]>>16)-128;K=ut(b,u,K,t,r),Z=ut(P,h,Z,n,i),it=ut(q,h,it,n,i),ht+=32}Mt+=8}if(_>=0){var $t=[];$t[1]=_+1,$t[0]=(1<<_+1)-1,mt($t)}return at(65497),new Uint8Array(E)},e=e||50,function(){for(var F=String.fromCharCode,H=0;H<256;H++)$[H]=F(H)}(),t=gt(x,V),n=gt(N,k),r=gt(j,I),i=gt(J,_t),function(){for(var F=1,H=2,K=1;K<=15;K++){for(var Z=F;Z<H;Z++)g[32767+Z]=K,d[32767+Z]=[],d[32767+Z][1]=K,d[32767+Z][0]=Z;for(var it=-(H-1);it<=-F;it++)g[32767+it]=K,d[32767+it]=[],d[32767+it][1]=K,d[32767+it][0]=H-1+it;F<<=1,H<<=1}}(),function(){for(var F=0;F<256;F++)Q[F]=19595*F,Q[F+256>>0]=38470*F,Q[F+512>>0]=7471*F+32768,Q[F+768>>0]=-11059*F,Q[F+1024>>0]=-21709*F,Q[F+1280>>0]=32768*F+8421375,Q[F+1536>>0]=-27439*F,Q[F+1792>>0]=-5329*F}(),kt(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ws(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _x(e){function t(x){if(!x)throw Error("assert :P")}function n(x,V,j){for(var I=0;4>I;I++)if(x[V+I]!=j.charCodeAt(I))return!0;return!1}function r(x,V,j,I,N){for(var k=0;k<N;k++)x[V+k]=j[I+k]}function i(x,V,j,I){for(var N=0;N<I;N++)x[V+N]=j}function s(x){return new Int32Array(x)}function o(x,V){for(var j=[],I=0;I<x;I++)j.push(new V);return j}function a(x,V){var j=[];return function I(N,k,J){for(var _t=J[k],gt=0;gt<_t&&(N.push(J.length>k+1?[]:new V),!(J.length<k+1));gt++)I(N[gt],k+1,J)}(j,0,x),j}var l=function(){var x=this;function V(c,p){for(var v=1<<p-1>>>0;c&v;)v>>>=1;return v?(c&v-1)+v:c}function j(c,p,v,A,D){t(!(A%v));do c[p+(A-=v)]=D;while(0<A)}function I(c,p,v,A,D){if(t(2328>=D),512>=D)var M=s(512);else if((M=s(D))==null)return 0;return function(O,z,U,W,et,dt){var pt,ot,Tt=z,bt=1<<U,nt=s(16),st=s(16);for(t(et!=0),t(W!=null),t(O!=null),t(0<U),ot=0;ot<et;++ot){if(15<W[ot])return 0;++nt[W[ot]]}if(nt[0]==et)return 0;for(st[1]=0,pt=1;15>pt;++pt){if(nt[pt]>1<<pt)return 0;st[pt+1]=st[pt]+nt[pt]}for(ot=0;ot<et;++ot)pt=W[ot],0<W[ot]&&(dt[st[pt]++]=ot);if(st[15]==1)return(W=new N).g=0,W.value=dt[0],j(O,Tt,1,bt,W),bt;var St,It=-1,Et=bt-1,Qt=0,Bt=1,ae=1,Ht=1<<U;for(ot=0,pt=1,et=2;pt<=U;++pt,et<<=1){if(Bt+=ae<<=1,0>(ae-=nt[pt]))return 0;for(;0<nt[pt];--nt[pt])(W=new N).g=pt,W.value=dt[ot++],j(O,Tt+Qt,et,Ht,W),Qt=V(Qt,pt)}for(pt=U+1,et=2;15>=pt;++pt,et<<=1){if(Bt+=ae<<=1,0>(ae-=nt[pt]))return 0;for(;0<nt[pt];--nt[pt]){if(W=new N,(Qt&Et)!=It){for(Tt+=Ht,St=1<<(It=pt)-U;15>It&&!(0>=(St-=nt[It]));)++It,St<<=1;bt+=Ht=1<<(St=It-U),O[z+(It=Qt&Et)].g=St+U,O[z+It].value=Tt-z-It}W.g=pt-U,W.value=dt[ot++],j(O,Tt+(Qt>>U),et,Ht,W),Qt=V(Qt,pt)}}return Bt!=2*st[15]-1?0:bt}(c,p,v,A,D,M)}function N(){this.value=this.g=0}function k(){this.value=this.g=0}function J(){this.G=o(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ir,k)}function _t(c,p,v,A){t(c!=null),t(p!=null),t(2147483648>A),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=p,c.pa=v,c.Jd=p,c.Yc=v+A,c.Zc=4<=A?v+A-4+1:v,ht(c)}function gt(c,p){for(var v=0;0<p--;)v|=vt(c,128)<<p;return v}function mt(c,p){var v=gt(c,p);return yt(c)?-v:v}function X(c,p,v,A){var D,M=0;for(t(c!=null),t(p!=null),t(4294967288>A),c.Sb=A,c.Ra=0,c.u=0,c.h=0,4<A&&(A=4),D=0;D<A;++D)M+=p[v+D]<<8*D;c.Ra=M,c.bb=A,c.oa=p,c.pa=v}function at(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Ou-8>>>0,++c.bb,c.u-=8;K(c)&&(c.h=1,c.u=0)}function ut(c,p){if(t(0<=p),!c.h&&p<=Mu){var v=H(c)&Fu[p];return c.u+=p,at(c),v}return c.h=1,c.u=0}function kt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(c){return c.Ra>>>(c.u&Ou-1)>>>0}function K(c){return t(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Ou}function Z(c,p){c.u=p,c.h=K(c)}function it(c){c.u>=Ph&&(t(c.u>=Ph),at(c))}function ht(c){t(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(t(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function yt(c){return gt(c,1)}function vt(c,p){var v=c.Ca;0>c.b&&ht(c);var A=c.b,D=v*p>>>8,M=(c.I>>>A>D)+0;for(M?(v-=D,c.I-=D+1<<A>>>0):v=D+1,A=v,D=0;256<=A;)D+=8,A>>=8;return A=7^D+Jr[A],c.b-=A,c.Ca=(v<<A)-1,M}function Ft(c,p,v){c[p+0]=v>>24&255,c[p+1]=v>>16&255,c[p+2]=v>>8&255,c[p+3]=v>>0&255}function Nt(c,p){return c[p+0]<<0|c[p+1]<<8}function zt(c,p){return Nt(c,p)|c[p+2]<<16}function jt(c,p){return Nt(c,p)|Nt(c,p+2)<<16}function ie(c,p){var v=1<<p;return t(c!=null),t(0<p),c.X=s(v),c.X==null?0:(c.Mb=32-p,c.Xa=p,1)}function xt(c,p){t(c!=null),t(p!=null),t(c.Xa==p.Xa),r(p.X,0,c.X,0,1<<p.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function ge(c,p,v,A){t(v!=null),t(A!=null);var D=v[0],M=A[0];return D==0&&(D=(c*M+p/2)/p),M==0&&(M=(p*D+c/2)/c),0>=D||0>=M?0:(v[0]=D,A[0]=M,1)}function Zt(c,p){return c+(1<<p)-1>>>p}function Lt(c,p){return((4278255360&c)+(4278255360&p)>>>0&4278255360)+((16711935&c)+(16711935&p)>>>0&16711935)>>>0}function Mt(c,p){x[p]=function(v,A,D,M,O,z,U){var W;for(W=0;W<O;++W){var et=x[c](z[U+W-1],D,M+W);z[U+W]=Lt(v[A+W],et)}}}function $t(){this.ud=this.hd=this.jd=0}function Ut(c,p){return((4278124286&(c^p))>>>1)+(c&p)>>>0}function ne(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function he(c,p){return ne(c+(c-p+.5>>1))}function we(c,p,v){return Math.abs(p-v)-Math.abs(c-v)}function Ae(c,p,v,A,D,M,O){for(A=M[O-1],v=0;v<D;++v)M[O+v]=A=Lt(c[p+v],A)}function le(c,p,v,A,D){var M;for(M=0;M<v;++M){var O=c[p+M],z=O>>8&255,U=16711935&(U=(U=16711935&O)+((z<<16)+z));A[D+M]=(4278255360&O)+U>>>0}}function be(c,p){p.jd=c>>0&255,p.hd=c>>8&255,p.ud=c>>16&255}function oe(c,p,v,A,D,M){var O;for(O=0;O<A;++O){var z=p[v+O],U=z>>>8,W=z,et=255&(et=(et=z>>>16)+((c.jd<<24>>24)*(U<<24>>24)>>>5));W=255&(W=(W=W+((c.hd<<24>>24)*(U<<24>>24)>>>5))+((c.ud<<24>>24)*(et<<24>>24)>>>5)),D[M+O]=(4278255360&z)+(et<<16)+W}}function Ee(c,p,v,A,D){x[p]=function(M,O,z,U,W,et,dt,pt,ot){for(U=dt;U<pt;++U)for(dt=0;dt<ot;++dt)W[et++]=D(z[A(M[O++])])},x[c]=function(M,O,z,U,W,et,dt){var pt=8>>M.b,ot=M.Ea,Tt=M.K[0],bt=M.w;if(8>pt)for(M=(1<<M.b)-1,bt=(1<<pt)-1;O<z;++O){var nt,st=0;for(nt=0;nt<ot;++nt)nt&M||(st=A(U[W++])),et[dt++]=D(Tt[st&bt]),st>>=pt}else x["VP8LMapColor"+v](U,W,Tt,bt,et,dt,O,z,ot)}}function Wt(c,p,v,A,D){for(v=p+v;p<v;){var M=c[p++];A[D++]=M>>16&255,A[D++]=M>>8&255,A[D++]=M>>0&255}}function Qn(c,p,v,A,D){for(v=p+v;p<v;){var M=c[p++];A[D++]=M>>16&255,A[D++]=M>>8&255,A[D++]=M>>0&255,A[D++]=M>>24&255}}function Ie(c,p,v,A,D){for(v=p+v;p<v;){var M=(O=c[p++])>>16&240|O>>12&15,O=O>>0&240|O>>28&15;A[D++]=M,A[D++]=O}}function Hr(c,p,v,A,D){for(v=p+v;p<v;){var M=(O=c[p++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;A[D++]=M,A[D++]=O}}function Oe(c,p,v,A,D){for(v=p+v;p<v;){var M=c[p++];A[D++]=M>>0&255,A[D++]=M>>8&255,A[D++]=M>>16&255}}function Ke(c,p,v,A,D,M){if(M==0)for(v=p+v;p<v;)Ft(A,((M=c[p++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),D+=32;else r(A,D,c,p,v)}function Di(c,p){x[p][0]=x[c+"0"],x[p][1]=x[c+"1"],x[p][2]=x[c+"2"],x[p][3]=x[c+"3"],x[p][4]=x[c+"4"],x[p][5]=x[c+"5"],x[p][6]=x[c+"6"],x[p][7]=x[c+"7"],x[p][8]=x[c+"8"],x[p][9]=x[c+"9"],x[p][10]=x[c+"10"],x[p][11]=x[c+"11"],x[p][12]=x[c+"12"],x[p][13]=x[c+"13"],x[p][14]=x[c+"0"],x[p][15]=x[c+"0"]}function Fe(c){return c==_1||c==b1||c==Yd||c==x1}function ss(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ss,this.f.kb=new on,this.sd=null}function Nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fe(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Pe(c,p){var v=c.T,A=p.ba.f.RGBA,D=A.eb,M=A.fb+c.ka*A.A,O=Wi[p.ba.S],z=c.y,U=c.O,W=c.f,et=c.N,dt=c.ea,pt=c.W,ot=p.cc,Tt=p.dc,bt=p.Mc,nt=p.Nc,st=c.ka,St=c.ka+c.T,It=c.U,Et=It+1>>1;for(st==0?O(z,U,null,null,W,et,dt,pt,W,et,dt,pt,D,M,null,null,It):(O(p.ec,p.fc,z,U,ot,Tt,bt,nt,W,et,dt,pt,D,M-A.A,D,M,It),++v);st+2<St;st+=2)ot=W,Tt=et,bt=dt,nt=pt,et+=c.Rc,pt+=c.Rc,M+=2*A.A,O(z,(U+=2*c.fa)-c.fa,z,U,ot,Tt,bt,nt,W,et,dt,pt,D,M-A.A,D,M,It);return U+=c.fa,c.j+St<c.o?(r(p.ec,p.fc,z,U,It),r(p.cc,p.dc,W,et,Et),r(p.Mc,p.Nc,dt,pt,Et),v--):1&St||O(z,U,null,null,W,et,dt,pt,W,et,dt,pt,D,M+A.A,null,null,It),v}function ks(c,p,v){var A=c.F,D=[c.J];if(A!=null){var M=c.U,O=p.ba.S,z=O==Qd||O==Yd;p=p.ba.f.RGBA;var U=[0],W=c.ka;U[0]=c.T,c.Kb&&(W==0?--U[0]:(--W,D[0]-=c.width),c.j+c.ka+c.T==c.o&&(U[0]=c.o-c.j-W));var et=p.eb;W=p.fb+W*p.A,c=rn(A,D[0],c.width,M,U,et,W+(z?0:3),p.A),t(v==U),c&&Fe(O)&&$i(et,W,z,M,U,p.A)}return 0}function xn(c){var p=c.ma,v=p.ba.S,A=11>v,D=v==Gd||v==Kd||v==Qd||v==w1||v==12||Fe(v);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!po(p.Oa,c,D?11:12))return 0;if(D&&Fe(v)&&Pt(),c.da)alert("todo:use_scaling");else{if(A){if(p.Ib=fe,c.Kb){if(v=c.U+1>>1,p.memory=s(c.U+2*v),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+c.U,p.Mc=p.cc,p.Nc=p.dc+v,p.Ib=Pe,Pt()}}else alert("todo:EmitYUV");D&&(p.Jb=ks,A&&lt())}if(A&&!Mw){for(c=0;256>c;++c)sC[c]=89858*(c-128)+Jd>>Xd,lC[c]=-22014*(c-128)+Jd,aC[c]=-45773*(c-128),oC[c]=113618*(c-128)+Jd>>Xd;for(c=Vh;c<E1;++c)p=76283*(c-16)+Jd>>Xd,uC[c-Vh]=ve(p,255),cC[c-Vh]=ve(p+8>>4,15);Mw=1}return 1}function hi(c){var p=c.ma,v=c.U,A=c.T;return t(!(1&c.ka)),0>=v||0>=A?0:(v=p.Ib(c,p),p.Jb!=null&&p.Jb(c,p,v),p.Dc+=v,1)}function fr(c){c.ma.memory=null}function se(c,p,v,A){return ut(c,8)!=47?0:(p[0]=ut(c,14)+1,v[0]=ut(c,14)+1,A[0]=ut(c,1),ut(c,3)!=0?0:!c.h)}function Xe(c,p){if(4>c)return c+1;var v=c-2>>1;return(2+(1&c)<<v)+ut(p,v)+1}function fi(c,p){return 120<p?p-120:1<=(v=((v=HP[p-1])>>4)*c+(8-(15&v)))?v:1;var v}function On(c,p,v){var A=H(v),D=c[p+=255&A].g-8;return 0<D&&(Z(v,v.u+8),A=H(v),p+=c[p].value,p+=A&(1<<D)-1),Z(v,v.u+c[p].g),c[p].value}function an(c,p,v){return v.g+=c.g,v.value+=c.value<<p>>>0,t(8>=v.g),c.g}function An(c,p,v){var A=c.xc;return t((p=A==0?0:c.vc[c.md*(v>>A)+(p>>A)])<c.Wb),c.Ya[p]}function Lr(c,p,v,A){var D=c.ab,M=c.c*p,O=c.C;p=O+p;var z=v,U=A;for(A=c.Ta,v=c.Ua;0<D--;){var W=c.gc[D],et=O,dt=p,pt=z,ot=U,Tt=(U=A,z=v,W.Ea);switch(t(et<dt),t(dt<=W.nc),W.hc){case 2:Bd(pt,ot,(dt-et)*Tt,U,z);break;case 0:var bt=et,nt=dt,st=U,St=z,It=(Ht=W).Ea;bt==0&&(y1(pt,ot,null,null,1,st,St),Ae(pt,ot+1,0,0,It-1,st,St+1),ot+=It,St+=It,++bt);for(var Et=1<<Ht.b,Qt=Et-1,Bt=Zt(It,Ht.b),ae=Ht.K,Ht=Ht.w+(bt>>Ht.b)*Bt;bt<nt;){var Me=ae,Ue=Ht,De=1;for(Ch(pt,ot,st,St-It,1,st,St);De<It;){var Ne=(De&~Qt)+Et;Ne>It&&(Ne=It),(0,oa[Me[Ue++]>>8&15])(pt,ot+ +De,st,St+De-It,Ne-De,st,St+De),De=Ne}ot+=It,St+=It,++bt&Qt||(Ht+=Bt)}dt!=W.nc&&r(U,z-Tt,U,z+(dt-et-1)*Tt,Tt);break;case 1:for(Tt=pt,nt=ot,It=(pt=W.Ea)-(St=pt&~(st=(ot=1<<W.b)-1)),bt=Zt(pt,W.b),Et=W.K,W=W.w+(et>>W.b)*bt;et<dt;){for(Qt=Et,Bt=W,ae=new $t,Ht=nt+St,Me=nt+pt;nt<Ht;)be(Qt[Bt++],ae),El(ae,Tt,nt,ot,U,z),nt+=ot,z+=ot;nt<Me&&(be(Qt[Bt++],ae),El(ae,Tt,nt,It,U,z),nt+=It,z+=It),++et&st||(W+=bt)}break;case 3:if(pt==U&&ot==z&&0<W.b){for(nt=U,pt=Tt=z+(dt-et)*Tt-(St=(dt-et)*Zt(W.Ea,W.b)),ot=U,st=z,bt=[],St=(It=St)-1;0<=St;--St)bt[St]=ot[st+St];for(St=It-1;0<=St;--St)nt[pt+St]=bt[St];zi(W,et,dt,U,Tt,U,z)}else zi(W,et,dt,pt,ot,U,z)}z=A,U=v}U!=v&&r(A,v,z,U,M)}function di(c,p){var v=c.V,A=c.Ba+c.c*c.C,D=p-c.C;if(t(p<=c.l.o),t(16>=D),0<D){var M=c.l,O=c.Ta,z=c.Ua,U=M.width;if(Lr(c,D,v,A),D=z=[z],t((v=c.C)<(A=p)),t(M.v<M.va),A>M.o&&(A=M.o),v<M.j){var W=M.j-v;v=M.j,D[0]+=W*U}if(v>=A?v=0:(D[0]+=4*M.v,M.ka=v-M.j,M.U=M.va-M.v,M.T=A-v,v=1),v){if(z=z[0],11>(v=c.ca).S){var et=v.f.RGBA,dt=(A=v.S,D=M.U,M=M.T,W=et.eb,et.A),pt=M;for(et=et.fb+c.Ma*et.A;0<pt--;){var ot=O,Tt=z,bt=D,nt=W,st=et;switch(A){case Wd:Zr(ot,Tt,bt,nt,st);break;case Gd:Dr(ot,Tt,bt,nt,st);break;case _1:Dr(ot,Tt,bt,nt,st),$i(nt,st,0,bt,1,0);break;case Iw:go(ot,Tt,bt,nt,st);break;case Kd:Ke(ot,Tt,bt,nt,st,1);break;case b1:Ke(ot,Tt,bt,nt,st,1),$i(nt,st,0,bt,1,0);break;case Qd:Ke(ot,Tt,bt,nt,st,0);break;case Yd:Ke(ot,Tt,bt,nt,st,0),$i(nt,st,1,bt,1,0);break;case w1:aa(ot,Tt,bt,nt,st);break;case x1:aa(ot,Tt,bt,nt,st),nn(nt,st,bt,1,0);break;case Pw:mo(ot,Tt,bt,nt,st);break;default:t(0)}z+=U,et+=dt}c.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");t(c.Ma<=v.height)}}c.C=p,t(c.C<=c.i)}function os(c){var p;if(0<c.ua)return 0;for(p=0;p<c.Wb;++p){var v=c.Ya[p].G,A=c.Ya[p].H;if(0<v[1][A[1]+0].g||0<v[2][A[2]+0].g||0<v[3][A[3]+0].g)return 0}return 1}function pi(c,p,v,A,D,M){if(c.Z!=0){var O=c.qd,z=c.rd;for(t(ha[c.Z]!=null);p<v;++p)ha[c.Z](O,z,A,D,A,D,M),O=A,z=D,D+=M;c.qd=O,c.rd=z}}function dr(c,p){var v=c.l.ma,A=v.Z==0||v.Z==1?c.l.j:c.C;if(A=c.C<A?A:c.C,t(p<=c.l.o),p>A){var D=c.l.width,M=v.ca,O=v.tb+D*A,z=c.V,U=c.Ba+c.c*A,W=c.gc;t(c.ab==1),t(W[0].hc==3),zd(W[0],A,p,z,U,M,O),pi(v,A,p,M,O,D)}c.C=c.Ma=p}function Gr(c,p,v,A,D,M,O){var z=c.$/A,U=c.$%A,W=c.m,et=c.s,dt=v+c.$,pt=dt;D=v+A*D;var ot=v+A*M,Tt=280+et.ua,bt=c.Pb?z:16777216,nt=0<et.ua?et.Wa:null,st=et.wc,St=dt<ot?An(et,U,z):null;t(c.C<M),t(ot<=D);var It=!1;t:for(;;){for(;It||dt<ot;){var Et=0;if(z>=bt){var Qt=dt-v;t((bt=c).Pb),bt.wd=bt.m,bt.xd=Qt,0<bt.s.ua&&xt(bt.s.Wa,bt.s.vb),bt=z+GP}if(U&st||(St=An(et,U,z)),t(St!=null),St.Qb&&(p[dt]=St.qb,It=!0),!It)if(it(W),St.jc){Et=W,Qt=p;var Bt=dt,ae=St.pd[H(Et)&ir-1];t(St.jc),256>ae.g?(Z(Et,Et.u+ae.g),Qt[Bt]=ae.value,Et=0):(Z(Et,Et.u+ae.g-256),t(256<=ae.value),Et=ae.value),Et==0&&(It=!0)}else Et=On(St.G[0],St.H[0],W);if(W.h)break;if(It||256>Et){if(!It)if(St.nd)p[dt]=(St.qb|Et<<8)>>>0;else{if(it(W),It=On(St.G[1],St.H[1],W),it(W),Qt=On(St.G[2],St.H[2],W),Bt=On(St.G[3],St.H[3],W),W.h)break;p[dt]=(Bt<<24|It<<16|Et<<8|Qt)>>>0}if(It=!1,++dt,++U>=A&&(U=0,++z,O!=null&&z<=M&&!(z%16)&&O(c,z),nt!=null))for(;pt<dt;)Et=p[pt++],nt.X[(506832829*Et&4294967295)>>>nt.Mb]=Et}else if(280>Et){if(Et=Xe(Et-256,W),Qt=On(St.G[4],St.H[4],W),it(W),Qt=fi(A,Qt=Xe(Qt,W)),W.h)break;if(dt-v<Qt||D-dt<Et)break t;for(Bt=0;Bt<Et;++Bt)p[dt+Bt]=p[dt+Bt-Qt];for(dt+=Et,U+=Et;U>=A;)U-=A,++z,O!=null&&z<=M&&!(z%16)&&O(c,z);if(t(dt<=D),U&st&&(St=An(et,U,z)),nt!=null)for(;pt<dt;)Et=p[pt++],nt.X[(506832829*Et&4294967295)>>>nt.Mb]=Et}else{if(!(Et<Tt))break t;for(It=Et-280,t(nt!=null);pt<dt;)Et=p[pt++],nt.X[(506832829*Et&4294967295)>>>nt.Mb]=Et;Et=dt,t(!(It>>>(Qt=nt).Xa)),p[Et]=Qt.X[It],It=!0}It||t(W.h==K(W))}if(c.Pb&&W.h&&dt<D)t(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&xt(c.s.vb,c.s.Wa);else{if(W.h)break t;O!=null&&O(c,z>M?M:z),c.a=0,c.$=dt-v}return 1}return c.a=3,0}function Kr(c){t(c!=null),c.vc=null,c.yc=null,c.Ya=null;var p=c.Wa;p!=null&&(p.X=null),c.vb=null,t(c!=null)}function nr(){var c=new Sl;return c==null?null:(c.a=0,c.xb=Lw,Di("Predictor","VP8LPredictors"),Di("Predictor","VP8LPredictors_C"),Di("PredictorAdd","VP8LPredictorsAdd"),Di("PredictorAdd","VP8LPredictorsAdd_C"),Bd=le,El=oe,Zr=Wt,Dr=Qn,aa=Ie,mo=Hr,go=Oe,x.VP8LMapColor32b=ju,x.VP8LMapColor8b=Ud,c)}function $n(c,p,v,A,D){var M=1,O=[c],z=[p],U=A.m,W=A.s,et=null,dt=0;t:for(;;){if(v)for(;M&&ut(U,1);){var pt=O,ot=z,Tt=A,bt=1,nt=Tt.m,st=Tt.gc[Tt.ab],St=ut(nt,2);if(Tt.Oc&1<<St)M=0;else{switch(Tt.Oc|=1<<St,st.hc=St,st.Ea=pt[0],st.nc=ot[0],st.K=[null],++Tt.ab,t(4>=Tt.ab),St){case 0:case 1:st.b=ut(nt,3)+2,bt=$n(Zt(st.Ea,st.b),Zt(st.nc,st.b),0,Tt,st.K),st.K=st.K[0];break;case 3:var It,Et=ut(nt,8)+1,Qt=16<Et?0:4<Et?1:2<Et?2:3;if(pt[0]=Zt(st.Ea,Qt),st.b=Qt,It=bt=$n(Et,1,0,Tt,st.K)){var Bt,ae=Et,Ht=st,Me=1<<(8>>Ht.b),Ue=s(Me);if(Ue==null)It=0;else{var De=Ht.K[0],Ne=Ht.w;for(Ue[0]=Ht.K[0][0],Bt=1;Bt<1*ae;++Bt)Ue[Bt]=Lt(De[Ne+Bt],Ue[Bt-1]);for(;Bt<4*Me;++Bt)Ue[Bt]=0;Ht.K[0]=null,Ht.K[0]=Ue,It=1}}bt=It;break;case 2:break;default:t(0)}M=bt}}if(O=O[0],z=z[0],M&&ut(U,1)&&!(M=1<=(dt=ut(U,4))&&11>=dt)){A.a=3;break t}var Ze;if(Ze=M)e:{var Ye,Se,jn,ti=A,Bn=O,ei=z,qe=dt,xi=v,Ai=ti.m,Yn=ti.s,sr=[null],Fr=1,Gi=0,js=WP[qe];n:for(;;){if(xi&&ut(Ai,1)){var Xn=ut(Ai,3)+2,_o=Zt(Bn,Xn),Nl=Zt(ei,Xn),$u=_o*Nl;if(!$n(_o,Nl,0,ti,sr))break n;for(sr=sr[0],Yn.xc=Xn,Ye=0;Ye<$u;++Ye){var fa=sr[Ye]>>8&65535;sr[Ye]=fa,fa>=Fr&&(Fr=fa+1)}}if(Ai.h)break n;for(Se=0;5>Se;++Se){var En=Cw[Se];!Se&&0<qe&&(En+=1<<qe),Gi<En&&(Gi=En)}var T1=o(Fr*js,N),Bw=Fr,zw=o(Bw,J);if(zw==null)var tp=null;else t(65536>=Bw),tp=zw;var Fh=s(Gi);if(tp==null||Fh==null||T1==null){ti.a=1;break n}var ep=T1;for(Ye=jn=0;Ye<Fr;++Ye){var gs=tp[Ye],Hu=gs.G,Wu=gs.H,Uw=0,np=1,qw=0;for(Se=0;5>Se;++Se){En=Cw[Se],Hu[Se]=ep,Wu[Se]=jn,!Se&&0<qe&&(En+=1<<qe);i:{var rp,I1=En,ip=ti,Mh=Fh,dC=ep,pC=jn,P1=0,da=ip.m,mC=ut(da,1);if(i(Mh,0,0,I1),mC){var gC=ut(da,1)+1,yC=ut(da,1),$w=ut(da,yC==0?1:8);Mh[$w]=1,gC==2&&(Mh[$w=ut(da,8)]=1);var sp=1}else{var Hw=s(19),Ww=ut(da,4)+4;if(19<Ww){ip.a=3;var op=0;break i}for(rp=0;rp<Ww;++rp)Hw[$P[rp]]=ut(da,3);var C1=void 0,Oh=void 0,Gw=ip,vC=Hw,ap=I1,Kw=Mh,N1=0,pa=Gw.m,Qw=8,Yw=o(128,N);r:for(;I(Yw,0,7,vC,19);){if(ut(pa,1)){var wC=2+2*ut(pa,3);if((C1=2+ut(pa,wC))>ap)break r}else C1=ap;for(Oh=0;Oh<ap&&C1--;){it(pa);var Xw=Yw[0+(127&H(pa))];Z(pa,pa.u+Xw.g);var Gu=Xw.value;if(16>Gu)Kw[Oh++]=Gu,Gu!=0&&(Qw=Gu);else{var _C=Gu==16,Jw=Gu-16,bC=UP[Jw],Zw=ut(pa,zP[Jw])+bC;if(Oh+Zw>ap)break r;for(var xC=_C?Qw:0;0<Zw--;)Kw[Oh++]=xC}}N1=1;break r}N1||(Gw.a=3),sp=N1}(sp=sp&&!da.h)&&(P1=I(dC,pC,8,Mh,I1)),sp&&P1!=0?op=P1:(ip.a=3,op=0)}if(op==0)break n;if(np&&qP[Se]==1&&(np=ep[jn].g==0),Uw+=ep[jn].g,jn+=op,3>=Se){var jh,L1=Fh[0];for(jh=1;jh<En;++jh)Fh[jh]>L1&&(L1=Fh[jh]);qw+=L1}}if(gs.nd=np,gs.Qb=0,np&&(gs.qb=(Hu[3][Wu[3]+0].value<<24|Hu[1][Wu[1]+0].value<<16|Hu[2][Wu[2]+0].value)>>>0,Uw==0&&256>Hu[0][Wu[0]+0].value&&(gs.Qb=1,gs.qb+=Hu[0][Wu[0]+0].value<<8)),gs.jc=!gs.Qb&&6>qw,gs.jc){var lp,bo=gs;for(lp=0;lp<ir;++lp){var ma=lp,ga=bo.pd[ma],up=bo.G[0][bo.H[0]+ma];256<=up.value?(ga.g=up.g+256,ga.value=up.value):(ga.g=0,ga.value=0,ma>>=an(up,8,ga),ma>>=an(bo.G[1][bo.H[1]+ma],16,ga),ma>>=an(bo.G[2][bo.H[2]+ma],0,ga),an(bo.G[3][bo.H[3]+ma],24,ga))}}}Yn.vc=sr,Yn.Wb=Fr,Yn.Ya=tp,Yn.yc=T1,Ze=1;break e}Ze=0}if(!(M=Ze)){A.a=3;break t}if(0<dt){if(W.ua=1<<dt,!ie(W.Wa,dt)){A.a=1,M=0;break t}}else W.ua=0;var k1=A,t_=O,AC=z,R1=k1.s,D1=R1.xc;if(k1.c=t_,k1.i=AC,R1.md=Zt(t_,D1),R1.wc=D1==0?-1:(1<<D1)-1,v){A.xb=tC;break t}if((et=s(O*z))==null){A.a=1,M=0;break t}M=(M=Gr(A,et,0,O,z,z,null))&&!U.h;break t}return M?(D!=null?D[0]=et:(t(et==null),t(v)),A.$=0,v||Kr(W)):Kr(W),M}function Rs(c,p){var v=c.c*c.i,A=v+p+16*p;return t(c.c<=p),c.V=s(A),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+v+p,1)}function io(c,p){var v=c.C,A=p-v,D=c.V,M=c.Ba+c.c*v;for(t(p<=c.l.o);0<A;){var O=16<A?16:A,z=c.l.ma,U=c.l.width,W=U*O,et=z.ca,dt=z.tb+U*v,pt=c.Ta,ot=c.Ua;Lr(c,O,D,M),kn(pt,ot,et,dt,W),pi(z,v,v+O,et,dt,U),A-=O,D+=O*c.c,v+=O}t(v==p),c.C=c.Ma=p}function Ds(){this.ub=this.yd=this.td=this.Rb=0}function Vs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function so(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function hl(){this.Yb=function(){var c=[];return function p(v,A,D){for(var M=D[A],O=0;O<M&&(v.push(D.length>A+1?[]:0),!(D.length<A+1));O++)p(v[O],A+1,D)}(c,0,[3,11]),c}()}function Ah(){this.jb=s(3),this.Wc=a([4,8],hl),this.Xc=a([4,17],hl)}function Ho(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function oo(){this.ld=this.La=this.dd=this.tc=0}function Wo(){this.Na=this.la=0}function ao(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fl(){this.uc=this.M=this.Nb=0,this.wa=Array(new oo),this.Y=0,this.ya=Array(new mi),this.aa=0,this.l=new lo}function Au(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Su(){this.cb=this.a=0,this.sc="",this.m=new kt,this.Od=new Ds,this.Kc=new Vs,this.ed=new Ho,this.Qa=new so,this.Ic=this.$c=this.Aa=0,this.D=new fl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,kt),this.ia=0,this.pb=o(4,ao),this.Pa=new Ah,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Au),this.Hd=0,this.rb=Array(new Wo),this.sb=0,this.wa=Array(new oo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mi),this.L=this.aa=0,this.gd=a([4,2],oo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Eu(){var c=new Su;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Dh||(Dh=pl)),c}function ln(c,p,v){return c.a==0&&(c.a=p,c.sc=v,c.cb=0),0}function Go(c,p,v){return 3<=v&&c[p+0]==157&&c[p+1]==1&&c[p+2]==42}function dl(c,p){if(c==null)return 0;if(c.a=0,c.sc="OK",p==null)return ln(c,2,"null VP8Io passed to VP8GetHeaders()");var v=p.data,A=p.w,D=p.ha;if(4>D)return ln(c,7,"Truncated header.");var M=v[A+0]|v[A+1]<<8|v[A+2]<<16,O=c.Od;if(O.Rb=!(1&M),O.td=M>>1&7,O.yd=M>>4&1,O.ub=M>>5,3<O.td)return ln(c,3,"Incorrect keyframe parameters.");if(!O.yd)return ln(c,4,"Frame not displayable.");A+=3,D-=3;var z=c.Kc;if(O.Rb){if(7>D)return ln(c,7,"cannot parse picture header");if(!Go(v,A,D))return ln(c,3,"Bad code word");z.c=16383&(v[A+4]<<8|v[A+3]),z.Td=v[A+4]>>6,z.i=16383&(v[A+6]<<8|v[A+5]),z.Ud=v[A+6]>>6,A+=7,D-=7,c.za=z.c+15>>4,c.Ub=z.i+15>>4,p.width=z.c,p.height=z.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((M=c.Pa).jb,0,255,M.jb.length),t((M=c.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,i(M.Zb,0,0,M.Zb.length),i(M.Lb,0,0,M.Lb)}if(O.ub>D)return ln(c,7,"bad partition length");_t(M=c.m,v,A,O.ub),A+=O.ub,D-=O.ub,O.Rb&&(z.Ld=yt(M),z.Kd=yt(M)),z=c.Qa;var U,W=c.Pa;if(t(M!=null),t(z!=null),z.Cb=yt(M),z.Cb){if(z.Bb=yt(M),yt(M)){for(z.Fb=yt(M),U=0;4>U;++U)z.Zb[U]=yt(M)?mt(M,7):0;for(U=0;4>U;++U)z.Lb[U]=yt(M)?mt(M,6):0}if(z.Bb)for(U=0;3>U;++U)W.jb[U]=yt(M)?gt(M,8):255}else z.Bb=0;if(M.Ka)return ln(c,3,"cannot parse segment header");if((z=c.ed).zd=yt(M),z.Tb=gt(M,6),z.wb=gt(M,3),z.Pc=yt(M),z.Pc&&yt(M)){for(W=0;4>W;++W)yt(M)&&(z.vd[W]=mt(M,6));for(W=0;4>W;++W)yt(M)&&(z.od[W]=mt(M,6))}if(c.L=z.Tb==0?0:z.zd?1:2,M.Ka)return ln(c,3,"cannot parse filter header");var et=D;if(D=U=A,A=U+et,z=et,c.Xb=(1<<gt(c.m,2))-1,et<3*(W=c.Xb))v=7;else{for(U+=3*W,z-=3*W,et=0;et<W;++et){var dt=v[D+0]|v[D+1]<<8|v[D+2]<<16;dt>z&&(dt=z),_t(c.Jc[+et],v,U,dt),U+=dt,z-=dt,D+=3}_t(c.Jc[+W],v,U,z),v=U<A?0:5}if(v!=0)return ln(c,v,"cannot parse partitions");for(v=gt(U=c.m,7),D=yt(U)?mt(U,4):0,A=yt(U)?mt(U,4):0,z=yt(U)?mt(U,4):0,W=yt(U)?mt(U,4):0,U=yt(U)?mt(U,4):0,et=c.Qa,dt=0;4>dt;++dt){if(et.Cb){var pt=et.Zb[dt];et.Fb||(pt+=v)}else{if(0<dt){c.pb[dt]=c.pb[0];continue}pt=v}var ot=c.pb[dt];ot.Sc[0]=A1[ve(pt+D,127)],ot.Sc[1]=S1[ve(pt+0,127)],ot.Eb[0]=2*A1[ve(pt+A,127)],ot.Eb[1]=101581*S1[ve(pt+z,127)]>>16,8>ot.Eb[1]&&(ot.Eb[1]=8),ot.Qc[0]=A1[ve(pt+W,117)],ot.Qc[1]=S1[ve(pt+U,127)],ot.lc=pt+U}if(!O.Rb)return ln(c,4,"Not a key frame.");for(yt(M),O=c.Pa,v=0;4>v;++v){for(D=0;8>D;++D)for(A=0;3>A;++A)for(z=0;11>z;++z)W=vt(M,JP[v][D][A][z])?gt(M,8):YP[v][D][A][z],O.Wc[v][D].Yb[A][z]=W;for(D=0;17>D;++D)O.Xc[v][D]=O.Wc[v][ZP[D]]}return c.kc=yt(M),c.kc&&(c.Bd=gt(M,8)),c.cb=1}function pl(c,p,v,A,D,M,O){var z=p[D].Yb[v];for(v=0;16>D;++D){if(!vt(c,z[v+0]))return D;for(;!vt(c,z[v+1]);)if(z=p[++D].Yb[0],v=0,D==16)return 16;var U=p[D+1].Yb;if(vt(c,z[v+2])){var W=c,et=0;if(vt(W,(pt=z)[(dt=v)+3]))if(vt(W,pt[dt+6])){for(z=0,dt=2*(et=vt(W,pt[dt+8]))+(pt=vt(W,pt[dt+9+et])),et=0,pt=KP[dt];pt[z];++z)et+=et+vt(W,pt[z]);et+=3+(8<<dt)}else vt(W,pt[dt+7])?(et=7+2*vt(W,165),et+=vt(W,145)):et=5+vt(W,159);else et=vt(W,pt[dt+4])?3+vt(W,pt[dt+5]):2;z=U[2]}else et=1,z=U[1];U=O+QP[D],0>(W=c).b&&ht(W);var dt,pt=W.b,ot=(dt=W.Ca>>1)-(W.I>>pt)>>31;--W.b,W.Ca+=ot,W.Ca|=1,W.I-=(dt+1&ot)<<pt,M[U]=((et^ot)-ot)*A[(0<D)+0]}return 16}function ml(c){var p=c.rb[c.sb-1];p.la=0,p.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Sh(c,p){if(c==null)return 0;if(p==null)return ln(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!dl(c,p))return 0;if(t(c.cb),p.ac==null||p.ac(p)){p.ob&&(c.L=0);var v=Zd[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=p.v-v>>4,c.zb=p.j-v>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=p.o+15+v>>4,c.Hb=p.va+15+v>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var A=c.ed;for(v=0;4>v;++v){var D;if(c.Qa.Cb){var M=c.Qa.Lb[v];c.Qa.Fb||(M+=A.Tb)}else M=A.Tb;for(D=0;1>=D;++D){var O=c.gd[v][D],z=M;if(A.Pc&&(z+=A.vd[0],D&&(z+=A.od[0])),0<(z=0>z?0:63<z?63:z)){var U=z;0<A.wb&&(U=4<A.wb?U>>2:U>>1)>9-A.wb&&(U=9-A.wb),1>U&&(U=1),O.dd=U,O.tc=2*z+U,O.ld=40<=z?2:15<=z?1:0}else O.tc=0;O.La=D}}}v=0}else ln(c,6,"Frame setup failed"),v=c.a;if(v=v==0){if(v){c.$c=0,0<c.Aa||(c.Ic=fC);t:{v=c.Ic,A=4*(U=c.za);var W=32*U,et=U+1,dt=0<c.L?U*(0<c.Aa?2:1):0,pt=(c.Aa==2?2:1)*U;if((O=A+832+(D=3*(16*v+Zd[c.L])/2*W)+(M=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=O)v=0;else{if(O>c.Vb){if(c.Vb=0,c.Ec=s(O),c.Fc=0,c.Ec==null){v=ln(c,1,"no memory during frame initialization.");break t}c.Vb=O}O=c.Ec,z=c.Fc,c.Ac=O,c.Bc=z,z+=A,c.Gd=o(W,Au),c.Hd=0,c.rb=o(et+1,Wo),c.sb=1,c.wa=dt?o(dt,oo):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=U),t(!0),c.oc=O,c.pc=z,z+=832,c.ya=o(pt,mi),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=U),c.R=16*U,c.B=8*U,U=(W=Zd[c.L])*c.R,W=W/2*c.B,c.sa=O,c.ta=z+U,c.qa=c.sa,c.ra=c.ta+16*v*c.R+W,c.Ha=c.qa,c.Ia=c.ra+8*v*c.B+W,c.$c=0,z+=D,c.mb=M?O:null,c.nb=M?z:null,t(z+M<=c.Fc+c.Vb),ml(c),i(c.Ac,c.Bc,0,A),v=1}}if(v){if(p.ka=0,p.y=c.sa,p.O=c.ta,p.f=c.qa,p.N=c.ra,p.ea=c.Ha,p.Vd=c.Ia,p.fa=c.R,p.Rc=c.B,p.F=null,p.J=0,!$d){for(v=-255;255>=v;++v)Hn[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)vo[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Rh[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)qu[255+v]=0>v?0:255<v?255:v;$d=1}Bu=Qo,yo=Ko,Nh=co,Vr=Tu,Ui=je,Ln=Yr,zu=hs,qd=Ms,Lh=Du,Tl=Os,Il=bl,la=fs,Pl=xl,Uu=Al,Cl=_l,ua=Rr,kh=Mi,qi=vi,ms[0]=Fi,ms[1]=ho,ms[2]=Cu,ms[3]=Fs,ms[4]=Nu,ms[5]=kr,ms[6]=Lu,ms[7]=yl,ms[8]=Jo,ms[9]=Th,ca[0]=Pu,ca[1]=Iu,ca[2]=ls,ca[3]=Yo,ca[4]=Sn,ca[5]=Vi,ca[6]=gl,wo[0]=Xr,wo[1]=Eh,wo[2]=Zo,wo[3]=ta,wo[4]=us,wo[5]=ku,wo[6]=Qe,v=1}else v=0}v&&(v=function(ot,Tt){for(ot.M=0;ot.M<ot.Va;++ot.M){var bt,nt=ot.Jc[ot.M&ot.Xb],st=ot.m,St=ot;for(bt=0;bt<St.za;++bt){var It=st,Et=St,Qt=Et.Ac,Bt=Et.Bc+4*bt,ae=Et.zc,Ht=Et.ya[Et.aa+bt];if(Et.Qa.Bb?Ht.$b=vt(It,Et.Pa.jb[0])?2+vt(It,Et.Pa.jb[2]):vt(It,Et.Pa.jb[1]):Ht.$b=0,Et.kc&&(Ht.Ad=vt(It,Et.Bd)),Ht.Za=!vt(It,145)+0,Ht.Za){var Me=Ht.Ob,Ue=0;for(Et=0;4>Et;++Et){var De,Ne=ae[0+Et];for(De=0;4>De;++De){Ne=XP[Qt[Bt+De]][Ne];for(var Ze=Nw[vt(It,Ne[0])];0<Ze;)Ze=Nw[2*Ze+vt(It,Ne[Ze])];Ne=-Ze,Qt[Bt+De]=Ne}r(Me,Ue,Qt,Bt,4),Ue+=4,ae[0+Et]=Ne}}else Ne=vt(It,156)?vt(It,128)?1:3:vt(It,163)?2:0,Ht.Ob[0]=Ne,i(Qt,Bt,Ne,4),i(ae,0,Ne,4);Ht.Dd=vt(It,142)?vt(It,114)?vt(It,183)?1:3:2:0}if(St.m.Ka)return ln(ot,7,"Premature end-of-partition0 encountered.");for(;ot.ja<ot.za;++ot.ja){if(St=nt,It=(st=ot).rb[st.sb-1],Qt=st.rb[st.sb+st.ja],bt=st.ya[st.aa+st.ja],Bt=st.kc?bt.Ad:0)It.la=Qt.la=0,bt.Za||(It.Na=Qt.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var Ye,Se;if(It=Qt,Qt=St,Bt=st.Pa.Xc,ae=st.ya[st.aa+st.ja],Ht=st.pb[ae.$b],Et=ae.ad,Me=0,Ue=st.rb[st.sb-1],Ne=De=0,i(Et,Me,0,384),ae.Za)var jn=0,ti=Bt[3];else{Ze=s(16);var Bn=It.Na+Ue.Na;if(Bn=Dh(Qt,Bt[1],Bn,Ht.Eb,0,Ze,0),It.Na=Ue.Na=(0<Bn)+0,1<Bn)Bu(Ze,0,Et,Me);else{var ei=Ze[0]+3>>3;for(Ze=0;256>Ze;Ze+=16)Et[Me+Ze]=ei}jn=1,ti=Bt[0]}var qe=15&It.la,xi=15&Ue.la;for(Ze=0;4>Ze;++Ze){var Ai=1&xi;for(ei=Se=0;4>ei;++ei)qe=qe>>1|(Ai=(Bn=Dh(Qt,ti,Bn=Ai+(1&qe),Ht.Sc,jn,Et,Me))>jn)<<7,Se=Se<<2|(3<Bn?3:1<Bn?2:Et[Me+0]!=0),Me+=16;qe>>=4,xi=xi>>1|Ai<<7,De=(De<<8|Se)>>>0}for(ti=qe,jn=xi>>4,Ye=0;4>Ye;Ye+=2){for(Se=0,qe=It.la>>4+Ye,xi=Ue.la>>4+Ye,Ze=0;2>Ze;++Ze){for(Ai=1&xi,ei=0;2>ei;++ei)Bn=Ai+(1&qe),qe=qe>>1|(Ai=0<(Bn=Dh(Qt,Bt[2],Bn,Ht.Qc,0,Et,Me)))<<3,Se=Se<<2|(3<Bn?3:1<Bn?2:Et[Me+0]!=0),Me+=16;qe>>=2,xi=xi>>1|Ai<<5}Ne|=Se<<4*Ye,ti|=qe<<4<<Ye,jn|=(240&xi)<<Ye}It.la=ti,Ue.la=jn,ae.Hc=De,ae.Gc=Ne,ae.ia=43690&Ne?0:Ht.ia,Bt=!(De|Ne)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[bt.$b][bt.Za],st.wa[st.Y+st.ja].La|=!Bt),St.Ka)return ln(ot,7,"Premature end-of-file encountered.")}if(ml(ot),st=Tt,St=1,bt=(nt=ot).D,It=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)t:{if(bt.M=nt.M,bt.uc=It,rr(nt,bt),St=1,bt=(Se=nt.D).Nb,It=(Ne=Zd[nt.L])*nt.R,Qt=Ne/2*nt.B,Ze=16*bt*nt.R,ei=8*bt*nt.B,Bt=nt.sa,ae=nt.ta-It+Ze,Ht=nt.qa,Et=nt.ra-Qt+ei,Me=nt.Ha,Ue=nt.Ia-Qt+ei,xi=(qe=Se.M)==0,De=qe>=nt.Va-1,nt.Aa==2&&rr(nt,Se),Se.uc)for(Ai=(Bn=nt).D.M,t(Bn.D.uc),Se=Bn.yb;Se<Bn.Hb;++Se){jn=Se,ti=Ai;var Yn=(sr=(En=Bn).D).Nb;Ye=En.R;var sr=sr.wa[sr.Y+jn],Fr=En.sa,Gi=En.ta+16*Yn*Ye+16*jn,js=sr.dd,Xn=sr.tc;if(Xn!=0)if(t(3<=Xn),En.L==1)0<jn&&ua(Fr,Gi,Ye,Xn+4),sr.La&&qi(Fr,Gi,Ye,Xn),0<ti&&Cl(Fr,Gi,Ye,Xn+4),sr.La&&kh(Fr,Gi,Ye,Xn);else{var _o=En.B,Nl=En.qa,$u=En.ra+8*Yn*_o+8*jn,fa=En.Ha,En=En.Ia+8*Yn*_o+8*jn;Yn=sr.ld,0<jn&&(qd(Fr,Gi,Ye,Xn+4,js,Yn),Tl(Nl,$u,fa,En,_o,Xn+4,js,Yn)),sr.La&&(la(Fr,Gi,Ye,Xn,js,Yn),Uu(Nl,$u,fa,En,_o,Xn,js,Yn)),0<ti&&(zu(Fr,Gi,Ye,Xn+4,js,Yn),Lh(Nl,$u,fa,En,_o,Xn+4,js,Yn)),sr.La&&(Il(Fr,Gi,Ye,Xn,js,Yn),Pl(Nl,$u,fa,En,_o,Xn,js,Yn))}}if(nt.ia&&alert("todo:DitherRow"),st.put!=null){if(Se=16*qe,qe=16*(qe+1),xi?(st.y=nt.sa,st.O=nt.ta+Ze,st.f=nt.qa,st.N=nt.ra+ei,st.ea=nt.Ha,st.W=nt.Ia+ei):(Se-=Ne,st.y=Bt,st.O=ae,st.f=Ht,st.N=Et,st.ea=Me,st.W=Ue),De||(qe-=Ne),qe>st.o&&(qe=st.o),st.F=null,st.J=null,nt.Fa!=null&&0<nt.Fa.length&&Se<qe&&(st.J=_i(nt,st,Se,qe-Se),st.F=nt.mb,st.F==null&&st.F.length==0)){St=ln(nt,3,"Could not decode alpha data.");break t}Se<st.j&&(Ne=st.j-Se,Se=st.j,t(!(1&Ne)),st.O+=nt.R*Ne,st.N+=nt.B*(Ne>>1),st.W+=nt.B*(Ne>>1),st.F!=null&&(st.J+=st.width*Ne)),Se<qe&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=Se-st.j,st.U=st.va-st.v,st.T=qe-Se,St=st.put(st))}bt+1!=nt.Ic||De||(r(nt.sa,nt.ta-It,Bt,ae+16*nt.R,It),r(nt.qa,nt.ra-Qt,Ht,Et+8*nt.B,Qt),r(nt.Ha,nt.Ia-Qt,Me,Ue+8*nt.B,Qt))}if(!St)return ln(ot,6,"Output aborted.")}return 1}(c,p)),p.bc!=null&&p.bc(p),v&=1}return v?(c.cb=0,v):0}function Qr(c,p,v,A,D){D=c[p+v+32*A]+(D>>3),c[p+v+32*A]=-256&D?0>D?0:255:D}function uo(c,p,v,A,D,M){Qr(c,p,0,v,A+D),Qr(c,p,1,v,A+M),Qr(c,p,2,v,A-M),Qr(c,p,3,v,A-D)}function pr(c){return(20091*c>>16)+c}function gi(c,p,v,A){var D,M=0,O=s(16);for(D=0;4>D;++D){var z=c[p+0]+c[p+8],U=c[p+0]-c[p+8],W=(35468*c[p+4]>>16)-pr(c[p+12]),et=pr(c[p+4])+(35468*c[p+12]>>16);O[M+0]=z+et,O[M+1]=U+W,O[M+2]=U-W,O[M+3]=z-et,M+=4,p++}for(D=M=0;4>D;++D)z=(c=O[M+0]+4)+O[M+8],U=c-O[M+8],W=(35468*O[M+4]>>16)-pr(O[M+12]),Qr(v,A,0,0,z+(et=pr(O[M+4])+(35468*O[M+12]>>16))),Qr(v,A,1,0,U+W),Qr(v,A,2,0,U-W),Qr(v,A,3,0,z-et),M++,A+=32}function Yr(c,p,v,A){var D=c[p+0]+4,M=35468*c[p+4]>>16,O=pr(c[p+4]),z=35468*c[p+1]>>16;uo(v,A,0,D+O,c=pr(c[p+1]),z),uo(v,A,1,D+M,c,z),uo(v,A,2,D-M,c,z),uo(v,A,3,D-O,c,z)}function Ko(c,p,v,A,D){gi(c,p,v,A),D&&gi(c,p+16,v,A+4)}function co(c,p,v,A){yo(c,p+0,v,A,1),yo(c,p+32,v,A+128,1)}function Tu(c,p,v,A){var D;for(c=c[p+0]+4,D=0;4>D;++D)for(p=0;4>p;++p)Qr(v,A,p,D,c)}function je(c,p,v,A){c[p+0]&&Vr(c,p+0,v,A),c[p+16]&&Vr(c,p+16,v,A+4),c[p+32]&&Vr(c,p+32,v,A+128),c[p+48]&&Vr(c,p+48,v,A+128+4)}function Qo(c,p,v,A){var D,M=s(16);for(D=0;4>D;++D){var O=c[p+0+D]+c[p+12+D],z=c[p+4+D]+c[p+8+D],U=c[p+4+D]-c[p+8+D],W=c[p+0+D]-c[p+12+D];M[0+D]=O+z,M[8+D]=O-z,M[4+D]=W+U,M[12+D]=W-U}for(D=0;4>D;++D)O=(c=M[0+4*D]+3)+M[3+4*D],z=M[1+4*D]+M[2+4*D],U=M[1+4*D]-M[2+4*D],W=c-M[3+4*D],v[A+0]=O+z>>3,v[A+16]=W+U>>3,v[A+32]=O-z>>3,v[A+48]=W-U>>3,A+=64}function as(c,p,v){var A,D=p-32,M=bi,O=255-c[D-1];for(A=0;A<v;++A){var z,U=M,W=O+c[p-1];for(z=0;z<v;++z)c[p+z]=U[W+c[D+z]];p+=32}}function ho(c,p){as(c,p,4)}function Eh(c,p){as(c,p,8)}function Iu(c,p){as(c,p,16)}function ls(c,p){var v;for(v=0;16>v;++v)r(c,p+32*v,c,p-32,16)}function Yo(c,p){var v;for(v=16;0<v;--v)i(c,p,c[p-1],16),p+=32}function Xo(c,p,v){var A;for(A=0;16>A;++A)i(p,v+32*A,c,16)}function Pu(c,p){var v,A=16;for(v=0;16>v;++v)A+=c[p-1+32*v]+c[p+v-32];Xo(A>>5,c,p)}function Sn(c,p){var v,A=8;for(v=0;16>v;++v)A+=c[p-1+32*v];Xo(A>>4,c,p)}function Vi(c,p){var v,A=8;for(v=0;16>v;++v)A+=c[p+v-32];Xo(A>>4,c,p)}function gl(c,p){Xo(128,c,p)}function de(c,p,v){return c+2*p+v+2>>2}function Cu(c,p){var v,A=p-32;for(A=new Uint8Array([de(c[A-1],c[A+0],c[A+1]),de(c[A+0],c[A+1],c[A+2]),de(c[A+1],c[A+2],c[A+3]),de(c[A+2],c[A+3],c[A+4])]),v=0;4>v;++v)r(c,p+32*v,A,0,A.length)}function Fs(c,p){var v=c[p-1],A=c[p-1+32],D=c[p-1+64],M=c[p-1+96];Ft(c,p+0,16843009*de(c[p-1-32],v,A)),Ft(c,p+32,16843009*de(v,A,D)),Ft(c,p+64,16843009*de(A,D,M)),Ft(c,p+96,16843009*de(D,M,M))}function Fi(c,p){var v,A=4;for(v=0;4>v;++v)A+=c[p+v-32]+c[p-1+32*v];for(A>>=3,v=0;4>v;++v)i(c,p+32*v,A,4)}function Nu(c,p){var v=c[p-1+0],A=c[p-1+32],D=c[p-1+64],M=c[p-1-32],O=c[p+0-32],z=c[p+1-32],U=c[p+2-32],W=c[p+3-32];c[p+0+96]=de(A,D,c[p-1+96]),c[p+1+96]=c[p+0+64]=de(v,A,D),c[p+2+96]=c[p+1+64]=c[p+0+32]=de(M,v,A),c[p+3+96]=c[p+2+64]=c[p+1+32]=c[p+0+0]=de(O,M,v),c[p+3+64]=c[p+2+32]=c[p+1+0]=de(z,O,M),c[p+3+32]=c[p+2+0]=de(U,z,O),c[p+3+0]=de(W,U,z)}function Lu(c,p){var v=c[p+1-32],A=c[p+2-32],D=c[p+3-32],M=c[p+4-32],O=c[p+5-32],z=c[p+6-32],U=c[p+7-32];c[p+0+0]=de(c[p+0-32],v,A),c[p+1+0]=c[p+0+32]=de(v,A,D),c[p+2+0]=c[p+1+32]=c[p+0+64]=de(A,D,M),c[p+3+0]=c[p+2+32]=c[p+1+64]=c[p+0+96]=de(D,M,O),c[p+3+32]=c[p+2+64]=c[p+1+96]=de(M,O,z),c[p+3+64]=c[p+2+96]=de(O,z,U),c[p+3+96]=de(z,U,U)}function kr(c,p){var v=c[p-1+0],A=c[p-1+32],D=c[p-1+64],M=c[p-1-32],O=c[p+0-32],z=c[p+1-32],U=c[p+2-32],W=c[p+3-32];c[p+0+0]=c[p+1+64]=M+O+1>>1,c[p+1+0]=c[p+2+64]=O+z+1>>1,c[p+2+0]=c[p+3+64]=z+U+1>>1,c[p+3+0]=U+W+1>>1,c[p+0+96]=de(D,A,v),c[p+0+64]=de(A,v,M),c[p+0+32]=c[p+1+96]=de(v,M,O),c[p+1+32]=c[p+2+96]=de(M,O,z),c[p+2+32]=c[p+3+96]=de(O,z,U),c[p+3+32]=de(z,U,W)}function yl(c,p){var v=c[p+0-32],A=c[p+1-32],D=c[p+2-32],M=c[p+3-32],O=c[p+4-32],z=c[p+5-32],U=c[p+6-32],W=c[p+7-32];c[p+0+0]=v+A+1>>1,c[p+1+0]=c[p+0+64]=A+D+1>>1,c[p+2+0]=c[p+1+64]=D+M+1>>1,c[p+3+0]=c[p+2+64]=M+O+1>>1,c[p+0+32]=de(v,A,D),c[p+1+32]=c[p+0+96]=de(A,D,M),c[p+2+32]=c[p+1+96]=de(D,M,O),c[p+3+32]=c[p+2+96]=de(M,O,z),c[p+3+64]=de(O,z,U),c[p+3+96]=de(z,U,W)}function Th(c,p){var v=c[p-1+0],A=c[p-1+32],D=c[p-1+64],M=c[p-1+96];c[p+0+0]=v+A+1>>1,c[p+2+0]=c[p+0+32]=A+D+1>>1,c[p+2+32]=c[p+0+64]=D+M+1>>1,c[p+1+0]=de(v,A,D),c[p+3+0]=c[p+1+32]=de(A,D,M),c[p+3+32]=c[p+1+64]=de(D,M,M),c[p+3+64]=c[p+2+64]=c[p+0+96]=c[p+1+96]=c[p+2+96]=c[p+3+96]=M}function Jo(c,p){var v=c[p-1+0],A=c[p-1+32],D=c[p-1+64],M=c[p-1+96],O=c[p-1-32],z=c[p+0-32],U=c[p+1-32],W=c[p+2-32];c[p+0+0]=c[p+2+32]=v+O+1>>1,c[p+0+32]=c[p+2+64]=A+v+1>>1,c[p+0+64]=c[p+2+96]=D+A+1>>1,c[p+0+96]=M+D+1>>1,c[p+3+0]=de(z,U,W),c[p+2+0]=de(O,z,U),c[p+1+0]=c[p+3+32]=de(v,O,z),c[p+1+32]=c[p+3+64]=de(A,v,O),c[p+1+64]=c[p+3+96]=de(D,A,v),c[p+1+96]=de(M,D,A)}function Zo(c,p){var v;for(v=0;8>v;++v)r(c,p+32*v,c,p-32,8)}function ta(c,p){var v;for(v=0;8>v;++v)i(c,p,c[p-1],8),p+=32}function yi(c,p,v){var A;for(A=0;8>A;++A)i(p,v+32*A,c,8)}function Xr(c,p){var v,A=8;for(v=0;8>v;++v)A+=c[p+v-32]+c[p-1+32*v];yi(A>>4,c,p)}function ku(c,p){var v,A=4;for(v=0;8>v;++v)A+=c[p+v-32];yi(A>>3,c,p)}function us(c,p){var v,A=4;for(v=0;8>v;++v)A+=c[p-1+32*v];yi(A>>3,c,p)}function Qe(c,p){yi(128,c,p)}function ea(c,p,v){var A=c[p-v],D=c[p+0],M=3*(D-A)+v1[1020+c[p-2*v]-c[p+v]],O=Hd[112+(M+4>>3)];c[p-v]=bi[255+A+Hd[112+(M+3>>3)]],c[p+0]=bi[255+D-O]}function Ru(c,p,v,A){var D=c[p+0],M=c[p+v];return Hi[255+c[p-2*v]-c[p-v]]>A||Hi[255+M-D]>A}function vl(c,p,v,A){return 4*Hi[255+c[p-v]-c[p+0]]+Hi[255+c[p-2*v]-c[p+v]]<=A}function wl(c,p,v,A,D){var M=c[p-3*v],O=c[p-2*v],z=c[p-v],U=c[p+0],W=c[p+v],et=c[p+2*v],dt=c[p+3*v];return 4*Hi[255+z-U]+Hi[255+O-W]>A?0:Hi[255+c[p-4*v]-M]<=D&&Hi[255+M-O]<=D&&Hi[255+O-z]<=D&&Hi[255+dt-et]<=D&&Hi[255+et-W]<=D&&Hi[255+W-U]<=D}function _l(c,p,v,A){var D=2*A+1;for(A=0;16>A;++A)vl(c,p+A,v,D)&&ea(c,p+A,v)}function Rr(c,p,v,A){var D=2*A+1;for(A=0;16>A;++A)vl(c,p+A*v,1,D)&&ea(c,p+A*v,1)}function Mi(c,p,v,A){var D;for(D=3;0<D;--D)_l(c,p+=4*v,v,A)}function vi(c,p,v,A){var D;for(D=3;0<D;--D)Rr(c,p+=4,v,A)}function cs(c,p,v,A,D,M,O,z){for(M=2*M+1;0<D--;){if(wl(c,p,v,M,O))if(Ru(c,p,v,z))ea(c,p,v);else{var U=c,W=p,et=v,dt=U[W-2*et],pt=U[W-et],ot=U[W+0],Tt=U[W+et],bt=U[W+2*et],nt=27*(St=v1[1020+3*(ot-pt)+v1[1020+dt-Tt]])+63>>7,st=18*St+63>>7,St=9*St+63>>7;U[W-3*et]=bi[255+U[W-3*et]+St],U[W-2*et]=bi[255+dt+st],U[W-et]=bi[255+pt+nt],U[W+0]=bi[255+ot-nt],U[W+et]=bi[255+Tt-st],U[W+2*et]=bi[255+bt-St]}p+=A}}function wi(c,p,v,A,D,M,O,z){for(M=2*M+1;0<D--;){if(wl(c,p,v,M,O))if(Ru(c,p,v,z))ea(c,p,v);else{var U=c,W=p,et=v,dt=U[W-et],pt=U[W+0],ot=U[W+et],Tt=Hd[112+((bt=3*(pt-dt))+4>>3)],bt=Hd[112+(bt+3>>3)],nt=Tt+1>>1;U[W-2*et]=bi[255+U[W-2*et]+nt],U[W-et]=bi[255+dt+bt],U[W+0]=bi[255+pt-Tt],U[W+et]=bi[255+ot-nt]}p+=A}}function hs(c,p,v,A,D,M){cs(c,p,v,1,16,A,D,M)}function Ms(c,p,v,A,D,M){cs(c,p,1,v,16,A,D,M)}function bl(c,p,v,A,D,M){var O;for(O=3;0<O;--O)wi(c,p+=4*v,v,1,16,A,D,M)}function fs(c,p,v,A,D,M){var O;for(O=3;0<O;--O)wi(c,p+=4,1,v,16,A,D,M)}function Du(c,p,v,A,D,M,O,z){cs(c,p,D,1,8,M,O,z),cs(v,A,D,1,8,M,O,z)}function Os(c,p,v,A,D,M,O,z){cs(c,p,1,D,8,M,O,z),cs(v,A,1,D,8,M,O,z)}function xl(c,p,v,A,D,M,O,z){wi(c,p+4*D,D,1,8,M,O,z),wi(v,A+4*D,D,1,8,M,O,z)}function Al(c,p,v,A,D,M,O,z){wi(c,p+4,1,D,8,M,O,z),wi(v,A+4,1,D,8,M,O,z)}function Oi(){this.ba=new Wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function na(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ra(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ia(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new N}function Sl(){this.xb=this.a=0,this.l=new lo,this.ca=new Wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ia,this.ab=0,this.gc=o(4,ra),this.Oc=0}function fo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ji(c,p,v,A,D,M,O){for(c=c==null?0:c[p+0],p=0;p<O;++p)D[M+p]=c+v[A+p]&255,c=D[M+p]}function sa(c,p,v,A,D,M,O){var z;if(c==null)ji(null,null,v,A,D,M,O);else for(z=0;z<O;++z)D[M+z]=c[p+z]+v[A+z]&255}function ds(c,p,v,A,D,M,O){if(c==null)ji(null,null,v,A,D,M,O);else{var z,U=c[p+0],W=U,et=U;for(z=0;z<O;++z)W=et+(U=c[p+z])-W,et=v[A+z]+(-256&W?0>W?0:255:W)&255,W=U,D[M+z]=et}}function _i(c,p,v,A){var D=p.width,M=p.o;if(t(c!=null&&p!=null),0>v||0>=A||v+A>M)return null;if(!c.Cc){if(c.ga==null){var O;if(c.ga=new fo,(O=c.ga==null)||(O=p.width*p.o,t(c.Gb.length==0),c.Gb=s(O),c.Uc=0,c.Gb==null?O=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,O=1),O=!O),!O){O=c.ga;var z=c.Fa,U=c.P,W=c.qc,et=c.mb,dt=c.nb,pt=U+1,ot=W-1,Tt=O.l;if(t(z!=null&&et!=null&&p!=null),ha[0]=null,ha[1]=ji,ha[2]=sa,ha[3]=ds,O.ca=et,O.tb=dt,O.c=p.width,O.i=p.height,t(0<O.c&&0<O.i),1>=W)p=0;else if(O.$a=z[U+0]>>0&3,O.Z=z[U+0]>>2&3,O.Lc=z[U+0]>>4&3,U=z[U+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||U)p=0;else if(Tt.put=hi,Tt.ac=xn,Tt.bc=fr,Tt.ma=O,Tt.width=p.width,Tt.height=p.height,Tt.Da=p.Da,Tt.v=p.v,Tt.va=p.va,Tt.j=p.j,Tt.o=p.o,O.$a)t:{t(O.$a==1),p=nr();e:for(;;){if(p==null){p=0;break t}if(t(O!=null),O.mc=p,p.c=O.c,p.i=O.i,p.l=O.l,p.l.ma=O,p.l.width=O.c,p.l.height=O.i,p.a=0,X(p.m,z,pt,ot),!$n(O.c,O.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&os(p.s)?(O.ic=1,z=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(z),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(O.ic=0,p=Rs(p,O.c)),!p))break e;p=1;break t}O.mc=null,p=0}else p=ot>=O.c*O.i;O=!p}if(O)return null;c.ga.Lc!=1?c.Ga=0:A=M-v}t(c.ga!=null),t(v+A<=M);t:{if(p=(z=c.ga).c,M=z.l.o,z.$a==0){if(pt=c.rc,ot=c.Vc,Tt=c.Fa,U=c.P+1+v*p,W=c.mb,et=c.nb+v*p,t(U<=c.P+c.qc),z.Z!=0)for(t(ha[z.Z]!=null),O=0;O<A;++O)ha[z.Z](pt,ot,Tt,U,W,et,p),pt=W,ot=et,et+=p,U+=p;else for(O=0;O<A;++O)r(W,et,Tt,U,p),pt=W,ot=et,et+=p,U+=p;c.rc=pt,c.Vc=ot}else{if(t(z.mc!=null),p=v+A,t((O=z.mc)!=null),t(p<=O.i),O.C>=p)p=1;else if(z.ic||lt(),z.ic){z=O.V,pt=O.Ba,ot=O.c;var bt=O.i,nt=(Tt=1,U=O.$/ot,W=O.$%ot,et=O.m,dt=O.s,O.$),st=ot*bt,St=ot*p,It=dt.wc,Et=nt<St?An(dt,W,U):null;t(nt<=st),t(p<=bt),t(os(dt));e:for(;;){for(;!et.h&&nt<St;){if(W&It||(Et=An(dt,W,U)),t(Et!=null),it(et),256>(bt=On(Et.G[0],Et.H[0],et)))z[pt+nt]=bt,++nt,++W>=ot&&(W=0,++U<=p&&!(U%16)&&dr(O,U));else{if(!(280>bt)){Tt=0;break e}bt=Xe(bt-256,et);var Qt,Bt=On(Et.G[4],Et.H[4],et);if(it(et),!(nt>=(Bt=fi(ot,Bt=Xe(Bt,et)))&&st-nt>=bt)){Tt=0;break e}for(Qt=0;Qt<bt;++Qt)z[pt+nt+Qt]=z[pt+nt+Qt-Bt];for(nt+=bt,W+=bt;W>=ot;)W-=ot,++U<=p&&!(U%16)&&dr(O,U);nt<St&&W&It&&(Et=An(dt,W,U))}t(et.h==K(et))}dr(O,U>p?p:U);break e}!Tt||et.h&&nt<st?(Tt=0,O.a=et.h?5:3):O.$=nt,p=Tt}else p=Gr(O,O.V,O.Ba,O.c,O.i,p,io);if(!p){A=0;break t}}v+A>=M&&(c.Cc=1),A=1}if(!A)return null;if(c.Cc&&((A=c.ga)!=null&&(A.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+v*D}function y(c,p,v,A,D,M){for(;0<D--;){var O,z=c,U=p+(v?1:0),W=c,et=p+(v?0:3);for(O=0;O<A;++O){var dt=W[et+4*O];dt!=255&&(dt*=32897,z[U+4*O+0]=z[U+4*O+0]*dt>>23,z[U+4*O+1]=z[U+4*O+1]*dt>>23,z[U+4*O+2]=z[U+4*O+2]*dt>>23)}p+=M}}function R(c,p,v,A,D){for(;0<A--;){var M;for(M=0;M<v;++M){var O=c[p+2*M+0],z=15&(W=c[p+2*M+1]),U=4369*z,W=(240&W|W>>4)*U>>16;c[p+2*M+0]=(240&O|O>>4)*U>>16&240|(15&O|O<<4)*U>>16>>4&15,c[p+2*M+1]=240&W|z}p+=D}}function G(c,p,v,A,D,M,O,z){var U,W,et=255;for(W=0;W<D;++W){for(U=0;U<A;++U){var dt=c[p+U];M[O+4*U]=dt,et&=dt}p+=v,O+=z}return et!=255}function tt(c,p,v,A,D){var M;for(M=0;M<D;++M)v[A+M]=c[p+M]>>8}function lt(){$i=y,nn=R,rn=G,kn=tt}function wt(c,p,v){x[c]=function(A,D,M,O,z,U,W,et,dt,pt,ot,Tt,bt,nt,st,St,It){var Et,Qt=It-1>>1,Bt=z[U+0]|W[et+0]<<16,ae=dt[pt+0]|ot[Tt+0]<<16;t(A!=null);var Ht=3*Bt+ae+131074>>2;for(p(A[D+0],255&Ht,Ht>>16,bt,nt),M!=null&&(Ht=3*ae+Bt+131074>>2,p(M[O+0],255&Ht,Ht>>16,st,St)),Et=1;Et<=Qt;++Et){var Me=z[U+Et]|W[et+Et]<<16,Ue=dt[pt+Et]|ot[Tt+Et]<<16,De=Bt+Me+ae+Ue+524296,Ne=De+2*(Me+ae)>>3;Ht=Ne+Bt>>1,Bt=(De=De+2*(Bt+Ue)>>3)+Me>>1,p(A[D+2*Et-1],255&Ht,Ht>>16,bt,nt+(2*Et-1)*v),p(A[D+2*Et-0],255&Bt,Bt>>16,bt,nt+(2*Et-0)*v),M!=null&&(Ht=De+ae>>1,Bt=Ne+Ue>>1,p(M[O+2*Et-1],255&Ht,Ht>>16,st,St+(2*Et-1)*v),p(M[O+2*Et+0],255&Bt,Bt>>16,st,St+(2*Et+0)*v)),Bt=Me,ae=Ue}1&It||(Ht=3*Bt+ae+131074>>2,p(A[D+It-1],255&Ht,Ht>>16,bt,nt+(It-1)*v),M!=null&&(Ht=3*ae+Bt+131074>>2,p(M[O+It-1],255&Ht,Ht>>16,st,St+(It-1)*v)))}}function Pt(){Wi[Wd]=eC,Wi[Gd]=kw,Wi[Iw]=nC,Wi[Kd]=Rw,Wi[Qd]=Dw,Wi[w1]=Vw,Wi[Pw]=rC,Wi[_1]=kw,Wi[b1]=Rw,Wi[Yd]=Dw,Wi[x1]=Vw}function Gt(c){return c&~iC?0>c?0:255:c>>Fw}function te(c,p){return Gt((19077*c>>8)+(26149*p>>8)-14234)}function f(c,p,v){return Gt((19077*c>>8)-(6419*p>>8)-(13320*v>>8)+8708)}function w(c,p){return Gt((19077*c>>8)+(33050*p>>8)-17685)}function T(c,p,v,A,D){A[D+0]=te(c,v),A[D+1]=f(c,p,v),A[D+2]=w(c,p)}function B(c,p,v,A,D){A[D+0]=w(c,p),A[D+1]=f(c,p,v),A[D+2]=te(c,v)}function rt(c,p,v,A,D){var M=f(c,p,v);p=M<<3&224|w(c,p)>>3,A[D+0]=248&te(c,v)|M>>5,A[D+1]=p}function ft(c,p,v,A,D){var M=240&w(c,p)|15;A[D+0]=240&te(c,v)|f(c,p,v)>>4,A[D+1]=M}function Ct(c,p,v,A,D){A[D+0]=255,T(c,p,v,A,D+1)}function ye(c,p,v,A,D){B(c,p,v,A,D),A[D+3]=255}function ze(c,p,v,A,D){T(c,p,v,A,D),A[D+3]=255}function ve(c,p){return 0>c?0:c>p?p:c}function Je(c,p,v){x[c]=function(A,D,M,O,z,U,W,et,dt){for(var pt=et+(-2&dt)*v;et!=pt;)p(A[D+0],M[O+0],z[U+0],W,et),p(A[D+1],M[O+0],z[U+0],W,et+v),D+=2,++O,++U,et+=2*v;1&dt&&p(A[D+0],M[O+0],z[U+0],W,et)}}function Nn(c,p,v){return v==0?c==0?p==0?6:5:p==0?4:0:v}function Bi(c,p,v,A,D){switch(c>>>30){case 3:yo(p,v,A,D,0);break;case 2:Ln(p,v,A,D);break;case 1:Vr(p,v,A,D)}}function rr(c,p){var v,A,D=p.M,M=p.Nb,O=c.oc,z=c.pc+40,U=c.oc,W=c.pc+584,et=c.oc,dt=c.pc+600;for(v=0;16>v;++v)O[z+32*v-1]=129;for(v=0;8>v;++v)U[W+32*v-1]=129,et[dt+32*v-1]=129;for(0<D?O[z-1-32]=U[W-1-32]=et[dt-1-32]=129:(i(O,z-32-1,127,21),i(U,W-32-1,127,9),i(et,dt-32-1,127,9)),A=0;A<c.za;++A){var pt=p.ya[p.aa+A];if(0<A){for(v=-1;16>v;++v)r(O,z+32*v-4,O,z+32*v+12,4);for(v=-1;8>v;++v)r(U,W+32*v-4,U,W+32*v+4,4),r(et,dt+32*v-4,et,dt+32*v+4,4)}var ot=c.Gd,Tt=c.Hd+A,bt=pt.ad,nt=pt.Hc;if(0<D&&(r(O,z-32,ot[Tt].y,0,16),r(U,W-32,ot[Tt].f,0,8),r(et,dt-32,ot[Tt].ea,0,8)),pt.Za){var st=O,St=z-32+16;for(0<D&&(A>=c.za-1?i(st,St,ot[Tt].y[15],4):r(st,St,ot[Tt+1].y,0,4)),v=0;4>v;v++)st[St+128+v]=st[St+256+v]=st[St+384+v]=st[St+0+v];for(v=0;16>v;++v,nt<<=2)st=O,St=z+Ow[v],ms[pt.Ob[v]](st,St),Bi(nt,bt,16*+v,st,St)}else if(st=Nn(A,D,pt.Ob[0]),ca[st](O,z),nt!=0)for(v=0;16>v;++v,nt<<=2)Bi(nt,bt,16*+v,O,z+Ow[v]);for(v=pt.Gc,st=Nn(A,D,pt.Dd),wo[st](U,W),wo[st](et,dt),nt=bt,st=U,St=W,255&(pt=v>>0)&&(170&pt?Nh(nt,256,st,St):Ui(nt,256,st,St)),pt=et,nt=dt,255&(v>>=8)&&(170&v?Nh(bt,320,pt,nt):Ui(bt,320,pt,nt)),D<c.Ub-1&&(r(ot[Tt].y,0,O,z+480,16),r(ot[Tt].f,0,U,W+224,8),r(ot[Tt].ea,0,et,dt+224,8)),v=8*M*c.B,ot=c.sa,Tt=c.ta+16*A+16*M*c.R,bt=c.qa,pt=c.ra+8*A+v,nt=c.Ha,st=c.Ia+8*A+v,v=0;16>v;++v)r(ot,Tt+v*c.R,O,z+32*v,16);for(v=0;8>v;++v)r(bt,pt+v*c.B,U,W+32*v,8),r(nt,st+v*c.B,et,dt+32*v,8)}}function ps(c,p,v,A,D,M,O,z,U){var W=[0],et=[0],dt=0,pt=U!=null?U.kd:0,ot=U??new na;if(c==null||12>v)return 7;ot.data=c,ot.w=p,ot.ha=v,p=[p],v=[v],ot.gb=[ot.gb];t:{var Tt=p,bt=v,nt=ot.gb;if(t(c!=null),t(bt!=null),t(nt!=null),nt[0]=0,12<=bt[0]&&!n(c,Tt[0],"RIFF")){if(n(c,Tt[0]+8,"WEBP")){nt=3;break t}var st=jt(c,Tt[0]+4);if(12>st||4294967286<st){nt=3;break t}if(pt&&st>bt[0]-8){nt=7;break t}nt[0]=st,Tt[0]+=12,bt[0]-=12}nt=0}if(nt!=0)return nt;for(st=0<ot.gb[0],v=v[0];;){t:{var St=c;bt=p,nt=v;var It=W,Et=et,Qt=Tt=[0];if((Ht=dt=[dt])[0]=0,8>nt[0])nt=7;else{if(!n(St,bt[0],"VP8X")){if(jt(St,bt[0]+4)!=10){nt=3;break t}if(18>nt[0]){nt=7;break t}var Bt=jt(St,bt[0]+8),ae=1+zt(St,bt[0]+12);if(2147483648<=ae*(St=1+zt(St,bt[0]+15))){nt=3;break t}Qt!=null&&(Qt[0]=Bt),It!=null&&(It[0]=ae),Et!=null&&(Et[0]=St),bt[0]+=18,nt[0]-=18,Ht[0]=1}nt=0}}if(dt=dt[0],Tt=Tt[0],nt!=0)return nt;if(bt=!!(2&Tt),!st&&dt)return 3;if(M!=null&&(M[0]=!!(16&Tt)),O!=null&&(O[0]=bt),z!=null&&(z[0]=0),O=W[0],Tt=et[0],dt&&bt&&U==null){nt=0;break}if(4>v){nt=7;break}if(st&&dt||!st&&!dt&&!n(c,p[0],"ALPH")){v=[v],ot.na=[ot.na],ot.P=[ot.P],ot.Sa=[ot.Sa];t:{Bt=c,nt=p,st=v;var Ht=ot.gb;It=ot.na,Et=ot.P,Qt=ot.Sa,ae=22,t(Bt!=null),t(st!=null),St=nt[0];var Me=st[0];for(t(It!=null),t(Qt!=null),It[0]=null,Et[0]=null,Qt[0]=0;;){if(nt[0]=St,st[0]=Me,8>Me){nt=7;break t}var Ue=jt(Bt,St+4);if(4294967286<Ue){nt=3;break t}var De=8+Ue+1&-2;if(ae+=De,0<Ht&&ae>Ht){nt=3;break t}if(!n(Bt,St,"VP8 ")||!n(Bt,St,"VP8L")){nt=0;break t}if(Me[0]<De){nt=7;break t}n(Bt,St,"ALPH")||(It[0]=Bt,Et[0]=St+8,Qt[0]=Ue),St+=De,Me-=De}}if(v=v[0],ot.na=ot.na[0],ot.P=ot.P[0],ot.Sa=ot.Sa[0],nt!=0)break}v=[v],ot.Ja=[ot.Ja],ot.xa=[ot.xa];t:if(Ht=c,nt=p,st=v,It=ot.gb[0],Et=ot.Ja,Qt=ot.xa,Bt=nt[0],St=!n(Ht,Bt,"VP8 "),ae=!n(Ht,Bt,"VP8L"),t(Ht!=null),t(st!=null),t(Et!=null),t(Qt!=null),8>st[0])nt=7;else{if(St||ae){if(Ht=jt(Ht,Bt+4),12<=It&&Ht>It-12){nt=3;break t}if(pt&&Ht>st[0]-8){nt=7;break t}Et[0]=Ht,nt[0]+=8,st[0]-=8,Qt[0]=ae}else Qt[0]=5<=st[0]&&Ht[Bt+0]==47&&!(Ht[Bt+4]>>5),Et[0]=st[0];nt=0}if(v=v[0],ot.Ja=ot.Ja[0],ot.xa=ot.xa[0],p=p[0],nt!=0)break;if(4294967286<ot.Ja)return 3;if(z==null||bt||(z[0]=ot.xa?2:1),O=[O],Tt=[Tt],ot.xa){if(5>v){nt=7;break}z=O,pt=Tt,bt=M,c==null||5>v?c=0:5<=v&&c[p+0]==47&&!(c[p+4]>>5)?(st=[0],Ht=[0],It=[0],X(Et=new F,c,p,v),se(Et,st,Ht,It)?(z!=null&&(z[0]=st[0]),pt!=null&&(pt[0]=Ht[0]),bt!=null&&(bt[0]=It[0]),c=1):c=0):c=0}else{if(10>v){nt=7;break}z=Tt,c==null||10>v||!Go(c,p+3,v-3)?c=0:(pt=c[p+0]|c[p+1]<<8|c[p+2]<<16,bt=16383&(c[p+7]<<8|c[p+6]),c=16383&(c[p+9]<<8|c[p+8]),1&pt||3<(pt>>1&7)||!(pt>>4&1)||pt>>5>=ot.Ja||!bt||!c?c=0:(O&&(O[0]=bt),z&&(z[0]=c),c=1))}if(!c||(O=O[0],Tt=Tt[0],dt&&(W[0]!=O||et[0]!=Tt)))return 3;U!=null&&(U[0]=ot,U.offset=p-U.w,t(4294967286>p-U.w),t(U.offset==U.ha-v));break}return nt==0||nt==7&&dt&&U==null?(M!=null&&(M[0]|=ot.na!=null&&0<ot.na.length),A!=null&&(A[0]=O),D!=null&&(D[0]=Tt),0):nt}function po(c,p,v){var A=p.width,D=p.height,M=0,O=0,z=A,U=D;if(p.Da=c!=null&&0<c.Da,p.Da&&(z=c.cd,U=c.bd,M=c.v,O=c.j,11>v||(M&=-2,O&=-2),0>M||0>O||0>=z||0>=U||M+z>A||O+U>D))return 0;if(p.v=M,p.j=O,p.va=M+z,p.o=O+U,p.U=z,p.T=U,p.da=c!=null&&0<c.da,p.da){if(!ge(z,U,v=[c.ib],M=[c.hb]))return 0;p.ib=v[0],p.hb=M[0]}return p.ob=c!=null&&c.ob,p.Kb=c==null||!c.Sd,p.da&&(p.ob=p.ib<3*A/4&&p.hb<3*D/4,p.Kb=0),1}function Ih(c){if(c==null)return 2;if(11>c.S){var p=c.f.RGBA;p.fb+=(c.height-1)*p.A,p.A=-p.A}else p=c.f.kb,c=c.height,p.O+=(c-1)*p.fa,p.fa=-p.fa,p.N+=(c-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(c-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(c-1)*p.lb,p.lb=-p.lb);return 0}function Vu(c,p,v,A){if(A==null||0>=c||0>=p)return 2;if(v!=null){if(v.Da){var D=v.cd,M=v.bd,O=-2&v.v,z=-2&v.j;if(0>O||0>z||0>=D||0>=M||O+D>c||z+M>p)return 2;c=D,p=M}if(v.da){if(!ge(c,p,D=[v.ib],M=[v.hb]))return 2;c=D[0],p=M[0]}}A.width=c,A.height=p;t:{var U=A.width,W=A.height;if(c=A.S,0>=U||0>=W||!(c>=Wd&&13>c))c=2;else{if(0>=A.Rd&&A.sd==null){O=M=D=p=0;var et=(z=U*jw[c])*W;if(11>c||(M=(W+1)/2*(p=(U+1)/2),c==12&&(O=(D=U)*W)),(W=s(et+2*M+O))==null){c=1;break t}A.sd=W,11>c?((U=A.f.RGBA).eb=W,U.fb=0,U.A=z,U.size=et):((U=A.f.kb).y=W,U.O=0,U.fa=z,U.Fd=et,U.f=W,U.N=0+et,U.Ab=p,U.Cd=M,U.ea=W,U.W=0+et+M,U.Db=p,U.Ed=M,c==12&&(U.F=W,U.J=0+et+2*M),U.Tc=O,U.lb=D)}if(p=1,D=A.S,M=A.width,O=A.height,D>=Wd&&13>D)if(11>D)c=A.f.RGBA,p&=(z=Math.abs(c.A))*(O-1)+M<=c.size,p&=z>=M*jw[D],p&=c.eb!=null;else{c=A.f.kb,z=(M+1)/2,et=(O+1)/2,U=Math.abs(c.fa),W=Math.abs(c.Ab);var dt=Math.abs(c.Db),pt=Math.abs(c.lb),ot=pt*(O-1)+M;p&=U*(O-1)+M<=c.Fd,p&=W*(et-1)+z<=c.Cd,p=(p&=dt*(et-1)+z<=c.Ed)&U>=M&W>=z&dt>=z,p&=c.y!=null,p&=c.f!=null,p&=c.ea!=null,D==12&&(p&=pt>=M,p&=ot<=c.Tc,p&=c.F!=null)}else p=0;c=p?0:2}}return c!=0||v!=null&&v.fd&&(c=Ih(A)),c}var ir=64,Fu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mu=24,Ou=32,Ph=8,Jr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Mt("Predictor0","PredictorAdd0"),x.Predictor0=function(){return 4278190080},x.Predictor1=function(c){return c},x.Predictor2=function(c,p,v){return p[v+0]},x.Predictor3=function(c,p,v){return p[v+1]},x.Predictor4=function(c,p,v){return p[v-1]},x.Predictor5=function(c,p,v){return Ut(Ut(c,p[v+1]),p[v+0])},x.Predictor6=function(c,p,v){return Ut(c,p[v-1])},x.Predictor7=function(c,p,v){return Ut(c,p[v+0])},x.Predictor8=function(c,p,v){return Ut(p[v-1],p[v+0])},x.Predictor9=function(c,p,v){return Ut(p[v+0],p[v+1])},x.Predictor10=function(c,p,v){return Ut(Ut(c,p[v-1]),Ut(p[v+0],p[v+1]))},x.Predictor11=function(c,p,v){var A=p[v+0];return 0>=we(A>>24&255,c>>24&255,(p=p[v-1])>>24&255)+we(A>>16&255,c>>16&255,p>>16&255)+we(A>>8&255,c>>8&255,p>>8&255)+we(255&A,255&c,255&p)?A:c},x.Predictor12=function(c,p,v){var A=p[v+0];return(ne((c>>24&255)+(A>>24&255)-((p=p[v-1])>>24&255))<<24|ne((c>>16&255)+(A>>16&255)-(p>>16&255))<<16|ne((c>>8&255)+(A>>8&255)-(p>>8&255))<<8|ne((255&c)+(255&A)-(255&p)))>>>0},x.Predictor13=function(c,p,v){var A=p[v-1];return(he((c=Ut(c,p[v+0]))>>24&255,A>>24&255)<<24|he(c>>16&255,A>>16&255)<<16|he(c>>8&255,A>>8&255)<<8|he(c>>0&255,A>>0&255))>>>0};var y1=x.PredictorAdd0;x.PredictorAdd1=Ae,Mt("Predictor2","PredictorAdd2"),Mt("Predictor3","PredictorAdd3"),Mt("Predictor4","PredictorAdd4"),Mt("Predictor5","PredictorAdd5"),Mt("Predictor6","PredictorAdd6"),Mt("Predictor7","PredictorAdd7"),Mt("Predictor8","PredictorAdd8"),Mt("Predictor9","PredictorAdd9"),Mt("Predictor10","PredictorAdd10"),Mt("Predictor11","PredictorAdd11"),Mt("Predictor12","PredictorAdd12"),Mt("Predictor13","PredictorAdd13");var Ch=x.PredictorAdd2;Ee("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Ee("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Bd,zi=x.ColorIndexInverseTransform,ju=x.MapARGB,zd=x.VP8LColorIndexInverseTransformAlpha,Ud=x.MapAlpha,oa=x.VP8LPredictorsAdd=[];oa.length=16,(x.VP8LPredictors=[]).length=16,(x.VP8LPredictorsAdd_C=[]).length=16,(x.VP8LPredictors_C=[]).length=16;var El,Zr,Dr,aa,mo,go,Bu,yo,Ln,Nh,Vr,Ui,zu,qd,Lh,Tl,Il,la,Pl,Uu,Cl,ua,kh,qi,$i,nn,rn,kn,Hn=s(511),vo=s(2041),Rh=s(225),qu=s(767),$d=0,v1=vo,Hd=Rh,bi=qu,Hi=Hn,Wd=0,Gd=1,Iw=2,Kd=3,Qd=4,w1=5,Pw=6,_1=7,b1=8,Yd=9,x1=10,zP=[2,3,7],UP=[3,3,11],Cw=[280,256,256,256,40],qP=[0,1,1,1,0],$P=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],HP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],WP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],GP=8,A1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],S1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dh=null,KP=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],QP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Nw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],YP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],XP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],JP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ZP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ca=[],ms=[],wo=[],tC=1,Lw=2,ha=[],Wi=[];wt("UpsampleRgbLinePair",T,3),wt("UpsampleBgrLinePair",B,3),wt("UpsampleRgbaLinePair",ze,4),wt("UpsampleBgraLinePair",ye,4),wt("UpsampleArgbLinePair",Ct,4),wt("UpsampleRgba4444LinePair",ft,2),wt("UpsampleRgb565LinePair",rt,2);var eC=x.UpsampleRgbLinePair,nC=x.UpsampleBgrLinePair,kw=x.UpsampleRgbaLinePair,Rw=x.UpsampleBgraLinePair,Dw=x.UpsampleArgbLinePair,Vw=x.UpsampleRgba4444LinePair,rC=x.UpsampleRgb565LinePair,Xd=16,Jd=1<<Xd-1,Vh=-227,E1=482,Fw=6,iC=(256<<Fw)-1,Mw=0,sC=s(256),oC=s(256),aC=s(256),lC=s(256),uC=s(E1-Vh),cC=s(E1-Vh);Je("YuvToRgbRow",T,3),Je("YuvToBgrRow",B,3),Je("YuvToRgbaRow",ze,4),Je("YuvToBgraRow",ye,4),Je("YuvToArgbRow",Ct,4),Je("YuvToRgba4444Row",ft,2),Je("YuvToRgb565Row",rt,2);var Ow=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zd=[0,2,8],hC=[8,7,6,4,4,2,2,2,1,1,1,1],fC=1;this.WebPDecodeRGBA=function(c,p,v,A,D){var M=Gd,O=new Oi,z=new Wr;O.ba=z,z.S=M,z.width=[z.width],z.height=[z.height];var U=z.width,W=z.height,et=new Nr;if(et==null||c==null)var dt=2;else t(et!=null),dt=ps(c,p,v,et.width,et.height,et.Pd,et.Qd,et.format,null);if(dt!=0?U=0:(U!=null&&(U[0]=et.width[0]),W!=null&&(W[0]=et.height[0]),U=1),U){z.width=z.width[0],z.height=z.height[0],A!=null&&(A[0]=z.width),D!=null&&(D[0]=z.height);t:{if(A=new lo,(D=new na).data=c,D.w=p,D.ha=v,D.kd=1,p=[0],t(D!=null),((c=ps(D.data,D.w,D.ha,null,null,null,p,null,D))==0||c==7)&&p[0]&&(c=4),(p=c)==0){if(t(O!=null),A.data=D.data,A.w=D.w+D.offset,A.ha=D.ha-D.offset,A.put=hi,A.ac=xn,A.bc=fr,A.ma=O,D.xa){if((c=nr())==null){O=1;break t}if(function(pt,ot){var Tt=[0],bt=[0],nt=[0];e:for(;;){if(pt==null)return 0;if(ot==null)return pt.a=2,0;if(pt.l=ot,pt.a=0,X(pt.m,ot.data,ot.w,ot.ha),!se(pt.m,Tt,bt,nt)){pt.a=3;break e}if(pt.xb=Lw,ot.width=Tt[0],ot.height=bt[0],!$n(Tt[0],bt[0],1,pt,null))break e;return 1}return t(pt.a!=0),0}(c,A)){if(A=(p=Vu(A.width,A.height,O.Oa,O.ba))==0){e:{A=c;n:for(;;){if(A==null){A=0;break e}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((v=A.l)!=null),t((D=v.ma)!=null),A.xb!=0){if(A.ca=D.ba,A.tb=D.tb,t(A.ca!=null),!po(D.Oa,v,Kd)){A.a=2;break n}if(!Rs(A,v.width)||v.da)break n;if((v.da||Fe(A.ca.S))&&lt(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&lt()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!ie(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Gr(A,A.V,A.Ba,A.c,A.i,v.o,di))break n;D.Dc=A.Ma,A=1;break e}t(A.a!=0),A=0}A=!A}A&&(p=c.a)}else p=c.a}else{if((c=new Eu)==null){O=1;break t}if(c.Fa=D.na,c.P=D.P,c.qc=D.Sa,dl(c,A)){if((p=Vu(A.width,A.height,O.Oa,O.ba))==0){if(c.Aa=0,v=O.Oa,t((D=c)!=null),v!=null){if(0<(U=0>(U=v.Md)?0:100<U?255:255*U/100)){for(W=et=0;4>W;++W)12>(dt=D.pb[W]).lc&&(dt.ia=U*hC[0>dt.lc?0:dt.lc]>>3),et|=dt.ia;et&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=v.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}Sh(c,A)||(p=c.a)}}else p=c.a}p==0&&O.Oa!=null&&O.Oa.fd&&(p=Ih(O.ba))}O=p}M=O!=0?null:11>M?z.f.RGBA.eb:z.f.kb.y}else M=null;return M};var jw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(x,V){for(var j="",I=0;I<4;I++)j+=String.fromCharCode(x[V++]);return j}function h(x,V){return(x[V+0]<<0|x[V+1]<<8|x[V+2]<<16)>>>0}function d(x,V){return(x[V+0]<<0|x[V+1]<<8|x[V+2]<<16|x[V+3]<<24)>>>0}new l;var g=[0],m=[0],S=[],E=new l,L=e,_=function(x,V){var j={},I=0,N=!1,k=0,J=0;if(j.frames=[],!function(H,K,Z,it){for(var ht=0;ht<it;ht++)if(H[K+ht]!=Z.charCodeAt(ht))return!0;return!1}(x,V,"RIFF",4)){for(d(x,V+=4),V+=8;V<x.length;){var _t=u(x,V),gt=d(x,V+=4);V+=4;var mt=gt+(1&gt);switch(_t){case"VP8 ":case"VP8L":j.frames[I]===void 0&&(j.frames[I]={}),(ut=j.frames[I]).src_off=N?J:V-8,ut.src_size=k+gt+8,I++,N&&(N=!1,k=0,J=0);break;case"VP8X":(ut=j.header={}).feature_flags=x[V];var X=V+4;ut.canvas_width=1+h(x,X),X+=3,ut.canvas_height=1+h(x,X),X+=3;break;case"ALPH":N=!0,k=mt+8,J=V-8;break;case"ANIM":(ut=j.header).bgcolor=d(x,V),X=V+4,ut.loop_count=(kt=x)[(F=X)+0]<<0|kt[F+1]<<8,X+=2;break;case"ANMF":var at,ut;(ut=j.frames[I]={}).offset_x=2*h(x,V),V+=3,ut.offset_y=2*h(x,V),V+=3,ut.width=1+h(x,V),V+=3,ut.height=1+h(x,V),V+=3,ut.duration=h(x,V),V+=3,at=x[V++],ut.dispose=1&at,ut.blend=at>>1&1}_t!="ANMF"&&(V+=mt)}var kt,F;return j}}(L,0);_.response=L,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,P=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,g=[b.canvas_height],m=[b.canvas_width];for(var q=0;q<P.length&&P[q].blend!=0;q++);}var $=P[0],Q=E.WebPDecodeRGBA(L,$.src_off,$.src_size,m,g);$.rgba=Q,$.imgwidth=m[0],$.imgheight=g[0];for(var C=0;C<m[0]*g[0]*4;C++)S[C]=Q[C];return this.width=m,this.height=g,this.data=S,this}(function(e){var t=function(){return typeof jy=="function"},n=function(g,m,S,E){var L=4,_=o;switch(E){case e.image_compression.FAST:L=1,_=s;break;case e.image_compression.MEDIUM:L=6,_=a;break;case e.image_compression.SLOW:L=9,_=l}g=r(g,m,S,_);var b=jy(g,{level:L});return e.__addimage__.arrayBufferToBinaryString(b)},r=function(g,m,S,E){for(var L,_,b,P=g.length/m,q=new Uint8Array(g.length+P),$=h(),Q=0;Q<P;Q+=1){if(b=Q*m,L=g.subarray(b,b+m),E)q.set(E(L,S,_),b+Q);else{for(var C,x=$.length,V=[];C<x;C+=1)V[C]=$[C](L,S,_);var j=d(V.concat());q.set(V[j],b+Q)}_=L}return q},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var S,E=[],L=g.length;E[0]=1;for(var _=0;_<L;_+=1)S=g[_-m]||0,E[_+1]=g[_]-S+256&255;return E},o=function(g,m,S){var E,L=[],_=g.length;L[0]=2;for(var b=0;b<_;b+=1)E=S&&S[b]||0,L[b+1]=g[b]-E+256&255;return L},a=function(g,m,S){var E,L,_=[],b=g.length;_[0]=3;for(var P=0;P<b;P+=1)E=g[P-m]||0,L=S&&S[P]||0,_[P+1]=g[P]+256-(E+L>>>1)&255;return _},l=function(g,m,S){var E,L,_,b,P=[],q=g.length;P[0]=4;for(var $=0;$<q;$+=1)E=g[$-m]||0,L=S&&S[$]||0,_=S&&S[$-m]||0,b=u(E,L,_),P[$+1]=g[$]-b+256&255;return P},u=function(g,m,S){if(g===m&&m===S)return g;var E=Math.abs(m-S),L=Math.abs(g-S),_=Math.abs(g+m-S-S);return E<=L&&E<=_?g:L<=_?m:S},h=function(){return[i,s,o,a,l]},d=function(g){var m=g.map(function(S){return S.reduce(function(E,L){return E+Math.abs(L)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,S,E){var L,_,b,P,q,$,Q,C,x,V,j,I,N,k,J,_t=this.decode.FLATE_DECODE,gt="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(b=new kj(g)).imgData,_=b.bits,L=b.colorSpace,q=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){x=(C=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,j=new Uint8Array(x*b.colors),V=new Uint8Array(x);var mt,X=b.pixelBitlength-b.bits;for(k=0,J=0;k<x;k++){for(N=C[k],mt=0;mt<X;)j[J++]=N>>>mt&255,mt+=b.bits;V[k]=N>>>mt&255}}if(b.bits===16){x=(C=new Uint32Array(b.decodePixels().buffer)).length,j=new Uint8Array(x*(32/b.pixelBitlength)*b.colors),V=new Uint8Array(x*(32/b.pixelBitlength)),I=b.colors>1,k=0,J=0;for(var at=0;k<x;)N=C[k++],j[J++]=N>>>0&255,I&&(j[J++]=N>>>16&255,N=C[k++],j[J++]=N>>>0&255),V[at++]=N>>>16&255;_=8}E!==e.image_compression.NONE&&t()?(g=n(j,b.width*b.colors,b.colors,E),Q=n(V,b.width,1,E)):(g=j,Q=V,_t=void 0)}if(b.colorType===3&&(L=this.color_spaces.INDEXED,$=b.palette,b.transparency.indexed)){var ut=b.transparency.indexed,kt=0;for(k=0,x=ut.length;k<x;++k)kt+=ut[k];if((kt/=255)===x-1&&ut.indexOf(0)!==-1)P=[ut.indexOf(0)];else if(kt!==x){for(C=b.decodePixels(),V=new Uint8Array(C.length),k=0,x=C.length;k<x;k++)V[k]=ut[C[k]];Q=n(V,b.width,1)}}var F=function(H){var K;switch(H){case e.image_compression.FAST:K=11;break;case e.image_compression.MEDIUM:K=13;break;case e.image_compression.SLOW:K=14;break;default:K=12}return K}(E);return _t===this.decode.FLATE_DECODE&&(gt="/Predictor "+F+" "),gt+="/Colors "+q+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:S,data:g,index:m,filter:_t,decodeParameters:gt,transparency:P,palette:$,sMask:Q,predictor:F,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:L}}}})(ue.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new Rj(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},h=new O0(100).encode(u,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A}(ue.API),ws.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ws.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){tn.log("bit decode error:"+n)}},ws.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ws.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ws.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},ws.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},ws.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=e}},ws.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ws.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ws.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new ws(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new O0(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(ue.API),_x.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new _x(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new O0(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(ue.API),ue.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var h=r[u],d=r[u+1],g=r[u+2],m=r[u+3];s[a++]=h,s[a++]=d,s[a++]=g,o[l++]=m}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ue.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},nc=ue.API,zp=nc.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,d=t.doKerning!==!1,g=0,m=e.length,S=0,E=a[0]||l,L=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=d&&He(u[r])==="object"&&!isNaN(parseInt(u[r][S],10))?u[r][S]/h:0,L.push((a[r]||E)/l+g)),S=r;return L},gx=nc.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return nc.processArabic&&(e=nc.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:zp.apply(this,arguments).reduce(function(s,o){return s+o},0)},yx=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},vx=function(e,t,n){n||(n={});var r,i,s,o,a,l,u,h=[],d=[h],g=n.textIndent||0,m=0,S=0,E=e.split(" "),L=zp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),b=[];E.map(function(q){(q=q.split(/\s*\n/)).length>1?b=b.concat(q.map(function($,Q){return(Q&&$.length?`
`:"")+$})):b.push(q[0])}),E=b,l=gx.apply(this,[_,n])}for(s=0,o=E.length;s<o;s++){var P=0;if(r=E[s],l&&r[0]==`
`&&(r=r.substr(1),P=1),g+m+(S=(i=zp.apply(this,[r,n])).reduce(function(q,$){return q+$},0))>t||P){if(S>t){for(a=yx.apply(this,[r,i,t-(g+m),t]),h.push(a.shift()),h=[a.pop()];a.length;)d.push([a.shift()]);S=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(q,$){return q+$},0)}else h=[r];d.push(h),g=S+l,m=L}else h.push(r),g+=m+S,m=L}return u=l?function(q,$){return($?_:"")+q.join(" ")}:function(q){return q.join(" ")},d.map(u)},nc.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var d=this.internal.getFont(h.fontName,h.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(vx.apply(this,[r[a],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var g,m,S,E,L=["{"];for(var _ in d){if(g=d[_],isNaN(parseInt(_,10))?m="'"+_+"'":(_=parseInt(_,10),m=(m=s(_).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(S=s(g).slice(3),E="-"):(S=s(g).slice(2),E=""),S=E+S.slice(0,-1)+r[S.slice(-1)];else{if(He(g)!=="object")throw new Error("Don't know what to do with value type "+He(g)+".");S=o(g)}L.push(m+S)}return L.push("}"),L.join("")},a=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,S,E,L={},_=1,b=L,P=[],q="",$="",Q=d.length-1,C=1;C<Q;C+=1)(E=d[C])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(E):E=="{"?(P.push([b,S]),b={},S=void 0):E=="}"?((m=P.pop())[0][m[1]]=b,S=void 0,b=m[0]):E=="-"?_=-1:S===void 0?n.hasOwnProperty(E)?(q+=n[E],S=parseInt(q,16)*_,_=1,q=""):q+=E:n.hasOwnProperty(E)?($+=n[E],b[S]=parseInt($,16)*_,_=1,S=void 0,$=""):$+=E;return L},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var g=d.font,m=h.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var S=u.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])}(ue.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Df(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ue),function(e){function t(){return(ce.canvg?Promise.resolve(ce.canvg):Dy(()=>import("./index.es-841598b6.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ue.API.addSvgAsImage=function(n,r,i,s,o,a,l,u){if(isNaN(r)||isNaN(i))throw tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(S){return S.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,s,o,l,u)})}}(),ue.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},ue.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,h=0,d=0;function g(S,E){var L,_=!1;for(L=0;L<S.length;L+=1)S[L]===E&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(d=0;d<m;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(He(e)==="object"){for(i in e)if(s=e[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,E=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?E.push("/"+S+" /"+n[S].value):E.push("/"+S+" "+n[S].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ue.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(u[4-a.length],a)}return h.join("")},r=function(s){var o,a,l,u,h,d,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(m,S){return m-S})).length;d<g;d++)o=a[d],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",S=0;S<g.length;S++)m+=String.fromCharCode(g[S]);var E=u();h({data:m,addLength1:!0,objectId:E}),l("endobj");var L=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+uc(a.fontName)),l("/FontFile2 "+E+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+uc(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+uc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",m=0;m<d.length;m++)g+=String.fromCharCode(d[m]);var S=u();h({data:g,addLength1:!0,objectId:S}),l("endobj");var E=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var L=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+uc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+uc(a.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,h=s.options||{},d=s.mutex||{},g=d.pdfEscape,m=d.activeFontKey,S=d.fonts,E=m,L="",_=0,b="",P=S[E].encoding;if(S[E].encoding!=="Identity-H")return{text:a,x:l,y:u,options:h,mutex:d};for(b=a,E=m,Array.isArray(a)&&(b=a[0]),_=0;_<b.length;_+=1)S[E].metadata.hasOwnProperty("cmap")&&(o=S[E].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),o||b[_].charCodeAt(0)<256&&S[E].metadata.hasOwnProperty("Unicode")?L+=b[_]:L+="";var q="";return parseInt(E.slice(1))<14||P==="WinAnsiEncoding"?q=g(L,E).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(q=n(L,S[E])),d.isHex=!0,{text:q,x:l,y:u,options:h,mutex:d}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ue),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ue.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,h,d=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,P=0;this.__bidiEngine__={};var q=function(I){var N=I.charCodeAt(),k=N>>8,J=E[k];return J!==void 0?d[256*J+(255&N)]:k===252||k===253?"AL":_.test(k)?"L":k===8?"R":"N"},$=function(I){for(var N,k=0;k<I.length;k++){if((N=q(I.charAt(k)))==="L")return!1;if(N==="R")return!0}return!1},Q=function(I,N,k,J){var _t,gt,mt,X,at=N[J];switch(at){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(at="AN");break;case"AL":b=!0,at="R";break;case"WS":at="N";break;case"CS":J<1||J+1>=N.length||(_t=k[J-1])!=="EN"&&_t!=="AN"||(gt=N[J+1])!=="EN"&&gt!=="AN"?at="N":b&&(gt="AN"),at=gt===_t?gt:"N";break;case"ES":at=(_t=J>0?k[J-1]:"B")==="EN"&&J+1<N.length&&N[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&k[J-1]==="EN"){at="EN";break}if(b){at="N";break}for(mt=J+1,X=N.length;mt<X&&N[mt]==="ET";)mt++;at=mt<X&&N[mt]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(X=N.length,mt=J+1;mt<X&&N[mt]==="NSM";)mt++;if(mt<X){var ut=I[J],kt=ut>=1425&&ut<=2303||ut===64286;if(_t=N[mt],kt&&(_t==="R"||_t==="AL")){at="R";break}}}at=J<1||(_t=N[J-1])==="B"?"N":k[J-1];break;case"B":b=!1,i=!0,at=P;break;case"S":s=!0,at="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":at="N"}return at},C=function(I,N,k){var J=I.split("");return k&&x(J,k,{hiLevel:P}),J.reverse(),N&&N.reverse(),J.join("")},x=function(I,N,k){var J,_t,gt,mt,X,at=-1,ut=I.length,kt=0,F=[],H=P?m:g,K=[];for(b=!1,i=!1,s=!1,_t=0;_t<ut;_t++)K[_t]=q(I[_t]);for(gt=0;gt<ut;gt++){if(X=kt,F[gt]=Q(I,K,F,gt),J=240&(kt=H[X][S[F[gt]]]),kt&=15,N[gt]=mt=H[kt][5],J>0)if(J===16){for(_t=at;_t<gt;_t++)N[_t]=1;at=-1}else at=-1;if(H[kt][6])at===-1&&(at=gt);else if(at>-1){for(_t=at;_t<gt;_t++)N[_t]=mt;at=-1}K[gt]==="B"&&(N[gt]=0),k.hiLevel|=mt}s&&function(Z,it,ht){for(var yt=0;yt<ht;yt++)if(Z[yt]==="S"){it[yt]=P;for(var vt=yt-1;vt>=0&&Z[vt]==="WS";vt--)it[vt]=P}}(K,N,ut)},V=function(I,N,k,J,_t){if(!(_t.hiLevel<I)){if(I===1&&P===1&&!i)return N.reverse(),void(k&&k.reverse());for(var gt,mt,X,at,ut=N.length,kt=0;kt<ut;){if(J[kt]>=I){for(X=kt+1;X<ut&&J[X]>=I;)X++;for(at=kt,mt=X-1;at<mt;at++,mt--)gt=N[at],N[at]=N[mt],N[mt]=gt,k&&(gt=k[at],k[at]=k[mt],k[mt]=gt);kt=X}kt++}}},j=function(I,N,k){var J=I.split(""),_t={hiLevel:P};return k||(k=[]),x(J,k,_t),function(gt,mt,X){if(X.hiLevel!==0&&h)for(var at,ut=0;ut<gt.length;ut++)mt[ut]===1&&(at=L.indexOf(gt[ut]))>=0&&(gt[ut]=L[at+1])}(J,k,_t),V(2,J,N,k,_t),V(1,J,N,k,_t),J.join("")};return this.__bidiEngine__.doBidiReorder=function(I,N,k){if(function(_t,gt){if(gt)for(var mt=0;mt<_t.length;mt++)gt[mt]=mt;a===void 0&&(a=$(_t)),u===void 0&&(u=$(_t))}(I,N),o||!l||u)if(o&&l&&a^u)P=a?1:0,I=C(I,N,k);else if(!o&&l&&u)P=a?1:0,I=j(I,N,k),I=C(I,N);else if(!o||a||l||u){if(o&&!l&&a^u)I=C(I,N),a?(P=0,I=j(I,N,k)):(P=1,I=j(I,N,k),I=C(I,N));else if(o&&a&&!l&&u)P=1,I=j(I,N,k),I=C(I,N);else if(!o&&!l&&a^u){var J=h;a?(P=1,I=j(I,N,k),P=0,h=!1,I=j(I,N,k),h=J):(P=0,I=j(I,N,k),I=C(I,N),P=1,h=!1,I=j(I,N,k),h=J,I=C(I,N))}}else P=0,I=j(I,N,k);else P=a?1:0,I=j(I,N,k);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,u=I.isOutputRtl,h=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ue),ue.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new rl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Kj(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Dj(this.contents),this.head=new Fj(this),this.name=new zj(this),this.cmap=new wP(this),this.toUnicode={},this.hhea=new Mj(this),this.maxp=new Uj(this),this.hmtx=new qj(this),this.post=new jj(this),this.os2=new Oj(this),this.loca=new Gj(this),this.glyf=new $j(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ls,rl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),Dj=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,u,h,d,g,m,S,E;for(E in m=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(m)/l),o=Math.floor(d/l),h=16*m-d,(i=new rl).writeInt(this.scalarType),i.writeShort(m),i.writeShort(d),i.writeShort(o),i.writeShort(h),s=16*m,u=i.pos+s,a=null,S=[],n)for(g=n[E],i.writeString(E),i.writeInt(e(g)),i.writeInt(u),i.writeInt(g.length),S=S.concat(g),E==="head"&&(a=u),u+=g.length;u%4;)S.push(0),u++;return i.write(S),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=_P.call(n);n.length%4;)n.push(0);for(s=new rl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),Vj={}.hasOwnProperty,ro=function(e,t){for(var n in t)Vj.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ls=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Fj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new rl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),bx=function(){function e(t,n){var r,i,s,o,a,l,u,h,d,g,m,S,E,L,_,b,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var q,$;for($=[],l=q=0;0<=g?q<g:q>g;l=0<=g?++q:--q)$.push(t.readUInt16());return $}(),t.pos+=2,E=function(){var q,$;for($=[],l=q=0;0<=g?q<g:q>g;l=0<=g?++q:--q)$.push(t.readUInt16());return $}(),u=function(){var q,$;for($=[],l=q=0;0<=g?q<g:q>g;l=0<=g?++q:--q)$.push(t.readUInt16());return $}(),h=function(){var q,$;for($=[],l=q=0;0<=g?q<g:q>g;l=0<=g?++q:--q)$.push(t.readUInt16());return $}(),i=(this.length-t.pos+this.offset)/2,a=function(){var q,$;for($=[],l=q=0;0<=i?q<i:q>i;l=0<=i?++q:--q)$.push(t.readUInt16());return $}(),l=_=0,P=s.length;_<P;l=++_)for(L=s[l],r=b=S=E[l];S<=L?b<=L:b>=L;r=S<=L?++b:--b)h[l]===0?o=r+u[l]:(o=a[h[l]/2+(r-S)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}t.pos=d}return e.encode=function(t,n){var r,i,s,o,a,l,u,h,d,g,m,S,E,L,_,b,P,q,$,Q,C,x,V,j,I,N,k,J,_t,gt,mt,X,at,ut,kt,F,H,K,Z,it,ht,yt,vt,Ft,Nt,zt;switch(J=new rl,o=Object.keys(t).sort(function(jt,ie){return jt-ie}),n){case"macroman":for(E=0,L=function(){var jt=[];for(S=0;S<256;++S)jt.push(0);return jt}(),b={0:0},s={},_t=0,at=o.length;_t<at;_t++)b[vt=t[i=o[_t]]]==null&&(b[vt]=++E),s[i]={old:t[i],new:b[t[i]]},L[i]=b[t[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(L),{charMap:s,subtable:J.data,maxGlyphID:E+1};case"unicode":for(N=[],d=[],P=0,b={},r={},_=u=null,gt=0,ut=o.length;gt<ut;gt++)b[$=t[i=o[gt]]]==null&&(b[$]=++P),r[i]={old:$,new:b[$]},a=b[$]-i,_!=null&&a===u||(_&&d.push(_),N.push(i),u=a),_=i;for(_&&d.push(_),d.push(65535),N.push(65535),j=2*(V=N.length),x=2*Math.pow(Math.log(V)/Math.LN2,2),g=Math.log(x/2)/Math.LN2,C=2*V-x,l=[],Q=[],m=[],S=mt=0,kt=N.length;mt<kt;S=++mt){if(I=N[S],h=d[S],I===65535){l.push(0),Q.push(0);break}if(I-(k=r[I].new)>=32768)for(l.push(0),Q.push(2*(m.length+V-S)),i=X=I;I<=h?X<=h:X>=h;i=I<=h?++X:--X)m.push(r[i].new);else l.push(k-I),Q.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*V+2*m.length),J.writeUInt16(0),J.writeUInt16(j),J.writeUInt16(x),J.writeUInt16(g),J.writeUInt16(C),ht=0,F=d.length;ht<F;ht++)i=d[ht],J.writeUInt16(i);for(J.writeUInt16(0),yt=0,H=N.length;yt<H;yt++)i=N[yt],J.writeUInt16(i);for(Ft=0,K=l.length;Ft<K;Ft++)a=l[Ft],J.writeUInt16(a);for(Nt=0,Z=Q.length;Nt<Z;Nt++)q=Q[Nt],J.writeUInt16(q);for(zt=0,it=m.length;zt<it;zt++)E=m[zt],J.writeUInt16(E);return{charMap:r,subtable:J.data,maxGlyphID:P+1}}},e}(),wP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new bx(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=bx.encode(n,r),(s=new rl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),Mj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Oj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),jj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,u;for(u=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)u.push(n.readUInt32());return u}).call(this)}},t}(),Bj=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},zj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,u,h,d,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=d=0,g=i.length;d<g;o=++d)s=i[o],n.pos=s.offset,h=n.readString(s.length),a=new Bj(h,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Uj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),qj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)d.push(n.readInt16());return d}(),this.widths=(function(){var h,d,g,m;for(m=[],h=0,d=(g=this.metrics).length;h<d;h++)o=g[h],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),_P=[].slice,$j=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,u,h,d,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new rl(r.read(s))).readShort(),h=l.readShort(),g=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new Wj(l,h,g,u,d):new Hj(l,a,h,g,u,d),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,u;for(a=[],o=[],l=0,u=r.length;l<u;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),Hj=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Wj=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new rl(_P.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Gj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ls),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var h=new Array(4*i.length),d=0;d<i.length;++d)h[4*d+3]=255&i[d],h[4*d+2]=(65280&i[d])>>8,h[4*d+1]=(16711680&i[d])>>16,h[4*d]=(4278190080&i[d])>>24;return h},t}(),Kj=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,u,h,d,g,m,S,E,L,_;for(i in r=wP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},_=r.charMap)m[(l=_[i]).old]=l.new;for(S in g=r.maxGlyphID,o)S in m||(m[S]=g++);return h=function(b){var P,q;for(P in q={},b)q[b[P]]=P;return q}(m),d=Object.keys(h).sort(function(b,P){return b-P}),E=function(){var b,P,q;for(q=[],b=0,P=d.length;b<P;b++)a=d[b],q.push(h[a]);return q}(),s=this.font.glyf.encode(o,E,m),u=this.font.loca.encode(s.offsets,E),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},e}();ue.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();var bP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xx=Ra.createContext&&Ra.createContext(bP),Qj=["attr","size","title"];function Yj(e,t){if(e==null)return{};var n=Xj(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xj(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}function Ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ax(Object(n),!0).forEach(function(r){Jj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ax(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jj(e,t,n){return t=Zj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zj(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xP(e){return e&&e.map((t,n)=>Ra.createElement(t.tag,xg({key:n},t.attr),xP(t.child)))}function cl(e){return t=>Ra.createElement(eB,bg({attr:xg({},e.attr)},t),xP(e.child))}function eB(e){var t=n=>{var{attr:r,size:i,title:s}=e,o=Yj(e,Qj),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Ra.createElement("svg",bg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:xg(xg({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ra.createElement("title",null,s),e.children)};return xx!==void 0?Ra.createElement(xx.Consumer,null,n=>t(n)):t(bP)}function nB(e){return cl({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(e)}function rB(e){return cl({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(e)}function iB(e){return cl({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"},child:[]}]})(e)}function sB(e){return cl({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function AP(e){return cl({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},child:[]}]})(e)}function SP(e){return cl({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(e)}function EP(e){return cl({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function Wy(e){return cl({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function oB(){const[e,t]=Ot.useState([]),[n,r]=Ot.useState(""),[i,s]=Ot.useState(""),[o,a]=Ot.useState("todos"),[l,u]=Ot.useState(null),[h,d]=Ot.useState(!1),[g,m]=Ot.useState({}),[S,E]=Ot.useState(null);Ot.useEffect(()=>{const C=fg(Hs,"clientes"),x=gI(C,yI("nome"),iV(50)),V=uV(x,j=>{const I=j.docs.map(N=>({id:N.id,...N.data()}));t(I),E(null),m({})});return()=>V()},[]);async function L(C){if(C.preventDefault(),!(!n.trim()||!i.trim()))try{await xI(fg(Hs,"clientes"),{nome:n,valor:parseFloat(i),quitado:parseFloat(i)===0}),r(""),s("")}catch(x){console.error("Erro ao adicionar cliente: ",x)}}async function _(C,x){try{const V=Fc(Hs,"clientes",C);await dy(V,{quitado:!x,valor:x?void 0:0})}catch(V){console.error("Erro ao quitar cliente: ",V)}}async function b(C){u(C),d(!0)}async function P(){if(l)try{await bI(Fc(Hs,"clientes",l)),u(null),d(!1)}catch(C){console.error("Erro ao apagar cliente: ",C)}}async function q(C){const x=parseFloat(g[C]);if(!(isNaN(x)||x<0))try{const V=Fc(Hs,"clientes",C);await dy(V,{valor:x,quitado:x===0}),E(null),m(j=>{const I={...j};return delete I[C],I})}catch(V){console.error("Erro ao atualizar valor: ",V)}}const $=e.filter(C=>o==="quitado"?C.quitado:o==="devedor"?!C.quitado:!0);function Q(){const C=new ue;C.setFontSize(18),C.text("Lista de Clientes - "+(o==="todos"?"Todos":o==="quitado"?"Quitados":"Devedores"),14,22),C.setFontSize(12);let x=30;$.length===0?C.text("Nenhum cliente encontrado.",14,x):$.forEach((V,j)=>{x>280&&(C.addPage(),x=20),C.text(`${j+1}. ${V.nome} - R$ ${V.valor.toFixed(2)} - ${V.quitado?"Quitado":"Devedor"}`,14,x),x+=10}),C.save(`clientes_${o}.pdf`)}return Dt.jsxs("div",{className:"max-w-lg mx-auto p-4 bg-white rounded shadow-md min-h-screen flex flex-col",children:[Dt.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center",children:"Controle de Clientes"}),Dt.jsxs("form",{onSubmit:L,className:"flex flex-col gap-4 mb-6",children:[Dt.jsx("input",{type:"text",placeholder:"Nome do cliente",value:n,onChange:C=>r(C.target.value),className:"w-full text-lg border border-gray-300 rounded px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-label":"Nome do cliente",autoComplete:"off"}),Dt.jsx("input",{type:"number",placeholder:"Valor devido",value:i,onChange:C=>s(C.target.value),className:"w-full text-lg border border-gray-300 rounded px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,min:"0",step:"0.01","aria-label":"Valor devido"}),Dt.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold rounded py-3 transition","aria-label":"Adicionar cliente",children:[Dt.jsx(SP,{size:24}),"Adicionar"]})]}),Dt.jsxs("div",{className:"flex justify-center gap-3 mb-4 flex-wrap",children:[["todos","quitado","devedor"].map(C=>Dt.jsx("button",{onClick:()=>a(C),className:`px-5 py-2 rounded text-sm font-medium min-w-[80px] transition ${o===C?C==="quitado"?"bg-green-600 text-white":C==="devedor"?"bg-red-600 text-white":"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,"aria-pressed":o===C,"aria-label":`Filtrar ${C}`,children:C==="todos"?"Todos":C==="quitado"?"Quitados":"Devedores"},C)),Dt.jsxs("button",{onClick:Q,className:"ml-4 flex items-center gap-2 px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold transition","aria-label":`Salvar lista ${o} em PDF`,children:[Dt.jsx(sB,{size:20}),"Salvar PDF"]})]}),Dt.jsx("div",{className:"overflow-auto flex-grow",children:$.length===0?Dt.jsx("p",{className:"text-center text-gray-500",children:"Nenhum cliente encontrado."}):Dt.jsx("ul",{className:"space-y-4",children:$.map(({id:C,nome:x,valor:V,quitado:j})=>Dt.jsxs(Mc.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-gray-50 p-4 rounded shadow flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[Dt.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-6 flex-grow",children:[Dt.jsx("span",{className:"font-semibold text-lg truncate",children:x}),S===C?Dt.jsxs("form",{onSubmit:I=>{I.preventDefault(),q(C)},className:"flex items-center gap-2",children:[Dt.jsx("input",{type:"number",min:"0",step:"0.01",value:g[C]!==void 0?g[C]:V.toFixed(2),onChange:I=>m(N=>({...N,[C]:I.target.value})),className:"w-24 text-lg border border-gray-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":`Editar valor de dívida do cliente ${x}`,autoFocus:!0}),Dt.jsx("button",{type:"submit",className:"p-2 bg-green-600 hover:bg-green-700 rounded text-white flex items-center justify-center","aria-label":"Salvar valor",children:Dt.jsx(nB,{size:20})}),Dt.jsx("button",{type:"button",onClick:()=>{E(null),m(I=>{const N={...I};return delete N[C],N})},className:"p-2 bg-gray-400 hover:bg-gray-500 rounded text-white flex items-center justify-center","aria-label":"Cancelar edição",children:Dt.jsx(Wy,{size:20})})]}):Dt.jsxs("span",{className:"flex items-center gap-1 text-green-700 font-semibold cursor-pointer select-none",children:[Dt.jsx(iB,{}),V.toFixed(2),Dt.jsx("button",{onClick:()=>E(C),className:"ml-2 p-1 bg-blue-500 hover:bg-blue-600 rounded text-white flex items-center justify-center","aria-label":`Editar valor do cliente ${x}`,children:Dt.jsx(AP,{size:16})})]}),Dt.jsx("span",{className:`text-sm font-medium rounded px-2 py-1 w-fit ${j?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:j?"Quitado":"Devedor"})]}),Dt.jsxs("div",{className:"flex gap-4 mt-3 sm:mt-0",children:[Dt.jsx("button",{onClick:()=>_(C,j),className:`p-3 rounded-md flex items-center justify-center ${j?"bg-yellow-400 hover:bg-yellow-500":"bg-green-600 hover:bg-green-700"} text-white transition`,"aria-label":j?"Desmarcar quitado":"Marcar como quitado",style:{minWidth:48,minHeight:48},children:j?Dt.jsx(Wy,{size:24}):Dt.jsx(rB,{size:24})}),Dt.jsx("button",{onClick:()=>b(C),className:"p-3 rounded-md bg-red-600 hover:bg-red-700 text-white transition flex items-center justify-center","aria-label":"Excluir cliente",style:{minWidth:48,minHeight:48},children:Dt.jsx(EP,{size:24})})]})]},C))})}),Dt.jsx(p6,{children:h&&Dt.jsx(Mc.div,{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},"aria-modal":"true",role:"dialog","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:Dt.jsxs(Mc.div,{className:"bg-white rounded-lg p-6 max-w-sm w-full",initial:{scale:.8},animate:{scale:1},exit:{scale:.8},children:[Dt.jsx("h2",{id:"modal-title",className:"text-xl font-semibold mb-4 text-center",children:"Confirma exclusão?"}),Dt.jsx("p",{id:"modal-description",className:"mb-6 text-center text-gray-700",children:"Tem certeza que deseja apagar este cliente? Essa ação não pode ser desfeita."}),Dt.jsxs("div",{className:"flex justify-center gap-4",children:[Dt.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded bg-gray-300 hover:bg-gray-400 transition",children:"Cancelar"}),Dt.jsx("button",{onClick:P,className:"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white transition",children:"Apagar"})]})]})})})]})}function TP(e,t,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,h=/\r\n|\r|\n/g,d="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof e=="string"?e.split(h):e,g=d.length||1),n+=a*(2-s),r.valign==="middle"?n-=g/2*u:r.valign==="bottom"&&(n-=g*u),r.halign==="center"||r.halign==="right"){var m=a;if(r.halign==="center"&&(m*=.5),d&&g>=1){for(var S=0;S<d.length;S++)i.text(d[S],t-i.getStringUnitWidth(d[S])*m,n),n+=u;return i}t-=i.getStringUnitWidth(e)*m}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var Sx={},Uc=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:Sx=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,s;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var h=e.unifyColor(t.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=e.unifyColor(t.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=e.unifyColor(t.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,s){return this.jsPDFDocument.rect(t,n,r,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Sx||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Gy=function(e,t){return Gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Gy(e,t)};function IP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var PP=function(e){IP(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function aB(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function lB(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Ag(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function CP(e,t,n,r){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:s});var o=NP(i,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function NP(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function g1(e,t){var n,r,i,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function LP(e,t){var n=g1(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function uB(e,t,n,r,i){var s={},o=1.3333333333333333,a=j0(t,function(P){return i.getComputedStyle(P).backgroundColor});a!=null&&(s.fillColor=a);var l=j0(t,function(P){return i.getComputedStyle(P).color});l!=null&&(s.textColor=l);var u=hB(r,n);u&&(s.cellPadding=u);var h="borderTopColor",d=o*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/d;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var S=j0(t,function(P){return i.getComputedStyle(P)[h]});S!=null&&(s.lineColor=S);var E=["left","right","center","justify"];E.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),E=["middle","bottom","top"],E.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var L=parseInt(r.fontSize||"");isNaN(L)||(s.fontSize=L/o);var _=cB(r);_&&(s.fontStyle=_);var b=(r.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(s.font=b),s}function cB(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function j0(e,t){var n=kP(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function kP(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:kP(e.parentElement,t):n}function hB(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=g1(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function RP(e,t,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof t=="string"?a=n.document.querySelector(t):a=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),h=[],d=[],g=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:h,body:d,foot:g};for(var m=0;m<a.rows.length;m++){var S=a.rows[m],E=(o=(s=S==null?void 0:S.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),L=fB(l,u,n,S,r,i);L&&(E==="thead"?h.push(L):E==="tfoot"?g.push(L):d.push(L))}return{head:h,body:d,foot:g}}function fB(e,t,n,r,i,s){for(var o=new PP(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var h=void 0;s&&(h=uB(e,l,t,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:dB(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!=="none"))return o}function dB(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function pB(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Po(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function DP(e,t){var n=new Uc(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();pB(i,r,t);var s=Po({},i,r,t),o;typeof window<"u"&&(o=window);var a=mB(i,r,t),l=gB(i,r,t),u=yB(n,s),h=wB(n,s,o);return{id:t.tableId,content:h,hooks:l,styles:a,settings:u}}function mB(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=e[l],h=t[l],d=n[l];r.columnStyles=Po({},u,h,d)}else{var g=[e,t,n],m=g.map(function(S){return S[l]||{}});r[l]=Po({},m[0],m[1],m[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function gB(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function yB(e,t){var n,r,i,s,o,a,l,u,h,d,g,m,S=g1(t.margin,40/e.scaleFactor()),E=(n=vB(e,t.startY))!==null&&n!==void 0?n:S.top,L;t.showFoot===!0?L="everyPage":t.showFoot===!1?L="never":L=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var b=(s=t.useCss)!==null&&s!==void 0?s:!1,P=t.theme||(b?"plain":"striped"),q=!!t.horizontalPageBreak,$=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:b,theme:P,startY:E,margin:S,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:_,showFoot:L,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:q,horizontalPageBreakRepeat:$,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function vB(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function wB(e,t,n){var r=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var a=RP(e,t.html,n,o,t.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||_B(r,i,s);return{columns:l,head:r,body:i,foot:s}}function _B(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var h={dataKey:u};i.push(h)}}),i}var Ky=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),bB=function(e){IP(t,e);function t(n,r,i,s,o,a){var l=e.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return t}(Ky),xB=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],h=new bB(t,this,r,i,s,o),d=u(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new Ky(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new Ky(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),VP=function(){function e(t,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof PP&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},e}(),FP=function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=g1(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),AB=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function SB(e,t){EB(e,t);var n=[],r=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=Qy(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Qy(n,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),IB(t),PB(t,e),TB(t)}function EB(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=LP(e,t);t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var h=t.hooks.didParseCell;t.callCellHooks(e,h,u,s,l,null);var d=u.padding("horizontal");u.contentWidth=Ag(u.text,u.styles,e)+d;var g=Ag(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/n;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var h=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},d=h.cellWidth||h.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function Qy(e,t,n){for(var r=t,i=e.reduce(function(m,S){return m+S.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,h=n(o),d=u<h?h:u;t-=d-o.width,o.width=d}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(m){return t<0?m.width>n(m):!0});g.length&&(t=Qy(g,t,n))}return t}function TB(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=e.columns;o<a.length;o++){var l=a[o],u=t[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var h=s.cells[l.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var d=r.length-i,g=h.rowSpan>d?d:h.rowSpan;t[l.index]={cell:h,left:g,row:s}}}}}function IB(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,s=0,o=0,a=0;a<e.columns.length;a++){var l=e.columns[a];if(o-=1,o>1&&e.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function PB(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var s=i[r],o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){t.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,h+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Ex(u.text,h,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=Ex(u.text,h,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,h);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function Ex(e,t,n,r,i){return e.map(function(s){return CB(s,t,n,r,i)})}function CB(e,t,n,r,i){var s=1e4*r.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Ag(e,n,r))return e;for(;t<Ag(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function MP(e,t){var n=new Uc(e),r=NB(t,n.scaleFactor()),i=new xB(t,r);return SB(n,i),n.applyStyles(n.userStyles),i}function NB(e,t){var n=e.content,r=kB(n.columns);if(n.head.length===0){var i=Tx(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Tx(r,"foot");i&&n.foot.push(i)}var s=e.settings.theme,o=e.styles;return{columns:r,head:B0("head",n.head,r,o,s,t),body:B0("body",n.body,r,o,s,t),foot:B0("foot",n.foot,r,o,s,t)}}function B0(e,t,n,r,i,s){var o={},a=t.map(function(l,u){for(var h=0,d={},g=0,m=0,S=0,E=n;S<E.length;S++){var L=E[S];if(o[L.index]==null||o[L.index].left===0)if(m===0){var _=void 0;Array.isArray(l)?_=l[L.index-g-h]:_=l[L.dataKey];var b={};typeof _=="object"&&!Array.isArray(_)&&(b=(_==null?void 0:_.styles)||{});var P=RB(e,L,u,i,r,s,b),q=new FP(_,P,e);d[L.dataKey]=q,d[L.index]=q,m=q.colSpan-1,o[L.index]={left:q.rowSpan-1,times:m}}else m--,g++;else o[L.index].left--,m=o[L.index].times,h++}return new VP(l,u,e,d)});return a}function Tx(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=LB(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function LB(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function kB(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new AB(i,t,n)})}function RB(e,t,n,r,i,s,o){var a=lB(r),l;e==="head"?l=i.headStyles:e==="body"?l=i.bodyStyles:e==="foot"&&(l=i.footStyles);var u=Po({},a.table,a[e],i.styles,l),h=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},d=e==="body"?h:{},g=e==="body"&&n%2===0?Po({},a.alternateRow,i.alternateRowStyles):{},m=aB(s),S=Po({},m,u,g,d);return Po(S,o)}function DB(e,t,n){var r;n===void 0&&(n={});var i=LP(e,t),s=new Map,o=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var m=t.columns.find(function(S){return S.dataKey===g||S.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),o.push(m.index),a.push(t.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,h=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;h<t.columns.length;){if(s.has(h)){h++;continue}var d=t.columns[h].wrappedWidth;if(u||i>=d)u=!1,o.push(h),a.push(t.columns[h]),i-=d;else break;h++}return{colIndexes:o,columns:a,lastIndex:h-1}}function VB(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=DB(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function OP(e,t){var n=t.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(g,m){return g+m.height},0);a+=u}var h=new Uc(e);(n.pageBreak==="always"||n.startY!=null&&a>h.pageSize().height)&&(BP(h),s.y=i.top),t.callWillDrawPageHooks(h,s);var d=Po({},s);t.startPageNumber=h.pageNumber(),n.horizontalPageBreak?FB(h,t,d,s):(h.applyStyles(h.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(g){return Bo(h,t,g,s,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,m){var S=m===t.body.length-1;Sg(h,t,g,S,d,s,t.columns)}),h.applyStyles(h.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(g){return Bo(h,t,g,s,t.columns)})),CP(h,t,d,s),t.callEndPageHooks(h,s),t.finalY=s.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function FB(e,t,n,r){var i=VB(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,h){e.applyStyles(e.userStyles),h>0?Vf(e,t,n,r,u.columns,!0):Ix(e,t,r,u.columns),MB(e,t,n,r,u.columns),z0(e,t,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){e.applyStyles(e.userStyles);var h=a.columns;o>=0?Vf(e,t,n,r,h,!0):Ix(e,t,r,h),u=Px(e,t,o+1,r,h),z0(e,t,r,h)}var d=u-o;i.slice(1).forEach(function(g){e.applyStyles(e.userStyles),Vf(e,t,n,r,g.columns,!0),Px(e,t,o+1,r,g.columns,d),z0(e,t,r,g.columns)}),o=u};o<t.body.length-1;)l()}function Ix(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return Bo(e,t,s,n,r)})}function MB(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var a=o===t.body.length-1;Sg(e,t,s,a,n,r,i)})}function Px(e,t,n,r,i,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(n+s,t.body.length),a=-1;return t.body.slice(n,o).forEach(function(l,u){var h=n+u===t.body.length-1,d=jP(e,t,h,r);l.canEntireRowFit(d,i)&&(Bo(e,t,l,r,i),a=n+u)}),a}function z0(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return Bo(e,t,s,n,r)})}function OB(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),s=Math.floor((t-i)/r);return Math.max(0,s)}function jB(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new FP(u.raw,u.styles,u.section);h=Po(h,u),h.text=[];var d=OB(u,t,r);u.text.length>d&&(h.text=u.text.splice(d,u.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,m),u.contentHeight>=t&&(u.contentHeight=t,h.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),h.contentHeight=h.getContentHeight(g,m),h.contentHeight>s&&(s=h.contentHeight),i[l.index]=h}}var S=new VP(e.raw,-1,e.section,i,!0);S.height=s;for(var E=0,L=n.columns;E<L.length;E++){var l=L[E],h=S.cells[l.index];h&&(h.height=S.height);var u=e.cells[l.index];u&&(u.height=e.height)}return S}function BB(e,t,n,r){var i=e.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;t.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=t.getMinimumRowHeight(r.columns,e),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=t.hasRowSpan(r.columns),d=t.getMaxCellHeight(r.columns)>a;return d?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function Sg(e,t,n,r,i,s,o){var a=jP(e,t,r,s);if(n.canEntireRowFit(a,o))Bo(e,t,n,s,o);else if(BB(e,n,a,t)){var l=jB(n,a,t,e);Bo(e,t,n,s,o),Vf(e,t,i,s,o),Sg(e,t,l,r,i,s,o)}else Vf(e,t,i,s,o),Sg(e,t,n,r,i,s,o)}function Bo(e,t,n,r,i){r.x=t.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}e.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}zB(e,l,r);var h=l.getTextPos();TP(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function zB(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=NP(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),UB(e,t,n,r.lineWidth))}function UB(e,t,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+t.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+t.height,o=n.x+t.width,a=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+t.width,s=n.y,o=n.x+t.width,a=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,h,d,g,m){e.getDocument().setLineWidth(u),e.getDocument().line(h,d,g,m,"S")}}function jP(e,t,n,r){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function Vf(e,t,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(a){return Bo(e,t,a,r,i)}),t.callEndPageHooks(e,r);var o=t.settings.margin;CP(e,t,n,r),BP(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return Bo(e,t,a,r,i)}),e.applyStyles(e.userStyles))}function BP(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function qB(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=DP(this,r),s=MP(this,i);return OP(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){TP(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return Uc.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Uc.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Uc(this),s=RP(i,t,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var U0;function $B(e,t){var n=DP(e,t),r=MP(e,n);OP(e,r)}try{if(typeof window<"u"&&window){var Cx=window,Nx=Cx.jsPDF||((U0=Cx.jspdf)===null||U0===void 0?void 0:U0.jsPDF);Nx&&qB(Nx)}}catch(e){console.error("Could not apply autoTable plugin",e)}function HB(){const[e,t]=Ot.useState([]),[n,r]=Ot.useState(""),[i,s]=Ot.useState(""),[o,a]=Ot.useState(null),[l,u]=Ot.useState(null),[h,d]=Ot.useState(!1);Ot.useEffect(()=>{g()},[]);async function g(){try{const P=fg(Hs,"produtos"),q=gI(P,yI("nome")),Q=(await lV(q)).docs.map(C=>({id:C.id,...C.data()}));t(Q)}catch(P){console.error("Erro ao buscar produtos: ",P)}}async function m(P){if(P.preventDefault(),!(!n.trim()||!i.trim()))try{if(o){const q=Fc(Hs,"produtos",o);await dy(q,{nome:n,preco:parseFloat(i)}),a(null)}else await xI(fg(Hs,"produtos"),{nome:n,preco:parseFloat(i)});r(""),s(""),g()}catch(q){console.error("Erro ao salvar produto: ",q)}}function S(P){a(P.id),r(P.nome),s(P.preco.toString())}function E(){a(null),r(""),s("")}function L(P){u(P),d(!0)}async function _(){if(l)try{await bI(Fc(Hs,"produtos",l)),u(null),d(!1),g()}catch(P){console.error("Erro ao apagar produto: ",P)}}function b(){const P=new ue;P.text("Cardápio de Produtos",14,20),P.setFontSize(12);const q=[["Nome do Produto","Preço (R$)"]],$=e.map(Q=>[Q.nome,Q.preco.toFixed(2)]);$B(P,{startY:30,head:q,body:$,styles:{fontSize:12},headStyles:{fillColor:[41,128,185]},alternateRowStyles:{fillColor:[240,240,240]}}),P.save("cardapio.pdf")}return Dt.jsxs("div",{className:"max-w-lg mx-auto p-4 bg-white rounded shadow-md min-h-screen flex flex-col",children:[Dt.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center",children:"Cardápio"}),Dt.jsx("div",{className:"mb-4 flex justify-end",children:Dt.jsx("button",{onClick:b,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded transition","aria-label":"Salvar cardápio em PDF",children:"Salvar PDF"})}),Dt.jsxs("form",{onSubmit:m,className:"flex flex-col gap-4 mb-6","aria-label":o?"Editar produto":"Adicionar produto",children:[Dt.jsx("input",{type:"text",placeholder:"Nome do produto",value:n,onChange:P=>r(P.target.value),className:"w-full text-lg border border-gray-300 rounded px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-label":"Nome do produto",autoComplete:"off"}),Dt.jsx("input",{type:"number",placeholder:"Preço",value:i,onChange:P=>s(P.target.value),className:"w-full text-lg border border-gray-300 rounded px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,min:"0",step:"0.01","aria-label":"Preço do produto"}),Dt.jsxs("div",{className:"flex gap-3",children:[Dt.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold rounded py-3 flex-grow transition","aria-label":o?"Salvar alterações":"Adicionar produto",children:[Dt.jsx(SP,{size:24}),o?"Salvar":"Adicionar"]}),o&&Dt.jsxs("button",{type:"button",onClick:E,className:"flex items-center justify-center gap-2 bg-gray-400 hover:bg-gray-500 text-white text-lg font-semibold rounded py-3 flex-grow transition","aria-label":"Cancelar edição",children:[Dt.jsx(Wy,{size:24}),"Cancelar"]})]})]}),Dt.jsx("div",{className:"overflow-auto flex-grow",children:e.length===0?Dt.jsx("p",{className:"text-center text-gray-500",children:"Nenhum produto cadastrado."}):Dt.jsx("ul",{className:"space-y-4",children:e.map(({id:P,nome:q,preco:$})=>Dt.jsxs(Mc.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-gray-50 p-4 rounded shadow flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[Dt.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-6 flex-grow",children:[Dt.jsx("span",{className:"font-semibold text-lg truncate",children:q}),Dt.jsxs("span",{className:"flex items-center gap-1 text-green-700 font-semibold",children:["R$ ",$.toFixed(2)]})]}),Dt.jsxs("div",{className:"flex gap-4 mt-3 sm:mt-0",children:[Dt.jsx("button",{onClick:()=>S({id:P,nome:q,preco:$}),className:"p-3 rounded-md bg-yellow-400 hover:bg-yellow-500 text-white transition flex items-center justify-center","aria-label":`Editar produto ${q}`,style:{minWidth:48,minHeight:48},children:Dt.jsx(AP,{size:24})}),Dt.jsx("button",{onClick:()=>L(P),className:"p-3 rounded-md bg-red-600 hover:bg-red-700 text-white transition flex items-center justify-center","aria-label":`Excluir produto ${q}`,style:{minWidth:48,minHeight:48},children:Dt.jsx(EP,{size:24})})]})]},P))})}),Dt.jsx(p6,{children:h&&Dt.jsx(Mc.div,{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},"aria-modal":"true",role:"dialog","aria-labelledby":"modal-excluir-titulo","aria-describedby":"modal-excluir-desc",children:Dt.jsxs(Mc.div,{className:"bg-white rounded-lg p-6 max-w-sm w-full",initial:{scale:.8},animate:{scale:1},exit:{scale:.8},children:[Dt.jsx("h2",{id:"modal-excluir-titulo",className:"text-xl font-semibold mb-4 text-center",children:"Confirma exclusão?"}),Dt.jsx("p",{id:"modal-excluir-desc",className:"mb-6 text-center text-gray-700",children:"Tem certeza que deseja apagar este produto? Essa ação não pode ser desfeita."}),Dt.jsxs("div",{className:"flex justify-center gap-4",children:[Dt.jsx("button",{onClick:()=>d(!1),className:"px-5 py-3 bg-gray-300 rounded hover:bg-gray-400 transition text-lg",children:"Cancelar"}),Dt.jsx("button",{onClick:_,className:"px-5 py-3 bg-red-600 text-white rounded hover:bg-red-700 transition text-lg",children:"Apagar"})]})]})})})]})}function WB(){const[e,t]=Ot.useState("clientes"),[n,r]=Ot.useState(!1);return Ot.useEffect(()=>{const i=document.documentElement;n?i.classList.add("dark"):i.classList.remove("dark")},[n]),Dt.jsxs("div",{className:"max-w-4xl mx-auto p-4 min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300",children:[Dt.jsxs("nav",{className:"flex justify-between items-center mb-6",children:[Dt.jsxs("div",{className:"flex space-x-4",children:[Dt.jsx("button",{className:`px-4 py-2 rounded ${e==="clientes"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 dark:text-gray-200"}`,onClick:()=>t("clientes"),children:"Clientes"}),Dt.jsx("button",{className:`px-4 py-2 rounded ${e==="cardapio"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 dark:text-gray-200"}`,onClick:()=>t("cardapio"),children:"Cardápio"})]}),Dt.jsx("button",{onClick:()=>r(!n),className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 dark:text-gray-200 transition-colors","aria-label":"Alternar modo escuro",children:n?"☀️ Claro":"🌙 Escuro"})]}),e==="clientes"&&Dt.jsx(oB,{}),e==="cardapio"&&Dt.jsx(HB,{})]})}q0.createRoot(document.getElementById("root")).render(Dt.jsx(Ra.StrictMode,{children:Dt.jsx(WB,{})}));export{He as _,GB as c,SC as g};
